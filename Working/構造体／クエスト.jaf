string Ｑ名前(lint iiq, string 文字列)
{
	if (文字列 == "")
	{
		return Ｑ[iiq].名前;
	}
	Ｑ[iiq].名前 = 字数制限(文字列, 40);
	Ｑ説明文(iiq, 1, "");
	Ｑ説明文(iiq, 2, "");
	Ｑ説明文(iiq, 3, "");
	Ｑ説明文(iiq, 4, "");
	Ｑ説明文(iiq, 5, "");
	Ｑ発生場所(iiq, "");
	return "";
}

string Ｑチェック(lint iiq, string 文字列)
{
	if (文字列 == "")
	{
		return Ｑ[iiq].チェック;
	}
	Ｑ[iiq].チェック = 文字列;
	return "";
}

string Ｑ発生場所(lint iiq, string 文字列)
{
	if (文字列 == "")
	{
		return Ｑ[iiq].発生場所;
	}
	Ｑ[iiq].発生場所 = 字数制限(文字列, 100);
	return "";
}

string Ｑ特殊な条件(lint iiq, string 文字列)
{
	if (文字列 == "")
	{
		return Ｑ[iiq].特殊な条件;
	}
	Ｑ[iiq].特殊な条件 = 字数制限(文字列, 50);
	return "";
}

string Ｑ説明文(lint iiq, lint no, string 文字列)
{
	if (文字列 == "")
	{
		return Ｑ[iiq].説明文[no];
	}
	Ｑ[iiq].説明文[no] = 文字列;
	return "";
}

lint Ｑ状態(lint iiq, int aa)
{
	if (aa == -1)
	{
		return Ｑ[iiq].状態;
	}
	if (aa == 1 && Ｑ[iiq].状態 != 0)
	{
		return 0;
	}
	if (aa == 2 && Ｑクリア回数(iiq, -1) == 0)
	{
		Ｑクリア回数(iiq, 1);
	}
	if (aa == 1 && ◆ＮＥＷクエスト番号 < 6)
	{
		◆ＮＥＷクエスト[◆ＮＥＷクエスト番号] = iiq;
		◆ＮＥＷクエスト番号++;
	}
	Ｑ[iiq].状態 = aa;
	return 0;
}

lint Ｑ種類(lint iiq, int aa)
{
	if (aa == -1)
	{
		return Ｑ[iiq].種類;
	}
	Ｑ[iiq].種類 = aa;
	return 0;
}

lint Ｑメイン(lint iiq, int aa)
{
	if (aa == -1)
	{
		return Ｑ[iiq].メイン;
	}
	Ｑ[iiq].メイン = aa;
	return 0;
}

lint Ｑ難易度(lint iiq, int aa)
{
	if (aa == -1)
	{
		return Ｑ[iiq].難易度;
	}
	Ｑ[iiq].難易度 = aa;
	return 0;
}

lint QuestKit(lint iiq, int aa)
{
	if (aa == -1)
	{
		return Ｑ[iiq].キット;
	}
	Ｑ[iiq].キット = aa;
	return 0;
}

lint Ｑクリア回数(lint iiq, int aa)
{
	if (aa == -1)
	{
		return Ｑ[iiq].クリア回数;
	}
	Ｑ[iiq].クリア回数 = aa;
	return 0;
}

lint Ｑ取得名声値(lint iiq, int aa)
{
	if (aa == -1)
	{
		return Ｑ[iiq].取得名声値;
	}
	Ｑ[iiq].取得名声値 = aa;
	return 0;
}

lint Ｑ参加回数(lint iiq, int aa)
{
	if (aa == -1)
	{
		return Ｑ[iiq].参加回数;
	}
	Ｑ[iiq].参加回数 = aa;
	return 0;
}

void Ｑ参加条件(lint iiq, lint a, lint b, lint c)
{
	int no = 0;
	for (; ; )
	{
		if (Ｑ参加条件Ａ(iiq, 1, -1) == 0)
		{
			no = 1;
			break;
		}
		if (Ｑ参加条件Ａ(iiq, 2, -1) == 0)
		{
			no = 2;
			break;
		}
		if (Ｑ参加条件Ａ(iiq, 3, -1) == 0)
		{
			no = 3;
			break;
		}
		LOG_TADA("ＥＲＲＯＲ　Ｑ参加条件を追加する場所がありません\n");
		return;
	}
	Ｑ[iiq].参加条件Ａ[no] = a;
	Ｑ[iiq].参加条件Ｂ[no] = b;
	Ｑ[iiq].参加条件Ｃ[no] = c;
	return;
}

lint Ｑ参加条件Ａ(lint iiq, lint no, int aa)
{
	if (no >= 5)
	{
		LOG_TADA("ＥＲＲＯＲ　参加条件Ａ（" + string(no) + "）\n");
		return 0;
	}
	if (aa == -1)
	{
		return Ｑ[iiq].参加条件Ａ[no];
	}
	Ｑ[iiq].参加条件Ａ[no] = aa;
	return 0;
}

lint Ｑ参加条件Ｂ(lint iiq, lint no, int aa)
{
	if (no >= 5)
	{
		LOG_TADA("ＥＲＲＯＲ　参加条件Ｂ（" + string(no) + "）\n");
		return 0;
	}
	if (aa == -1)
	{
		return Ｑ[iiq].参加条件Ｂ[no];
	}
	Ｑ[iiq].参加条件Ｂ[no] = aa;
	return 0;
}

lint Ｑ参加条件Ｃ(lint iiq, lint no, int aa)
{
	if (no >= 5)
	{
		LOG_TADA("ＥＲＲＯＲ　参加条件Ｃ（" + string(no) + "）\n");
		return 0;
	}
	if (aa == -1)
	{
		return Ｑ[iiq].参加条件Ｃ[no];
	}
	Ｑ[iiq].参加条件Ｃ[no] = aa;
	return 0;
}

lint ＱＭ固有番号記憶(lint iiq, lint no, int aa)
{
	if (no >= 17)
	{
		LOG_TADA("ＥＲＲＯＲ　Ｑマップ番号＝" + string(no) + " " + string(aa) + "\n");
		return 0;
	}
	if (aa == -1)
	{
		return Ｑ[iiq].Ｍ固有番号記憶[no];
	}
	Ｑ[iiq].Ｍ固有番号記憶[no] = aa;
	return 0;
}

lint ＱＭ通し番号記憶(lint iiq, lint no, int aa)
{
	if (no >= 17)
	{
		LOG_TADA("ＥＲＲＯＲ　Ｑマップ番号＝" + string(no) + " " + string(aa) + "\n");
		return 0;
	}
	if (aa == -1)
	{
		return Ｑ[iiq].Ｍ通し番号記憶[no];
	}
	Ｑ[iiq].Ｍ通し番号記憶[no] = aa;
	return 0;
}

lint ＱＭ汎用番号記憶(lint iiq, lint no, int aa)
{
	if (aa == -1)
	{
		return Ｑ[iiq].Ｍ汎用番号記憶[no];
	}
	Ｑ[iiq].Ｍ汎用番号記憶[no] = aa;
	return 0;
}

lint Ｑエリア表示(lint iiq, lint map, lint dd, int aa)
{
	if (aa == -1)
	{
		return Ｑ[iiq].エリア表示[map][dd];
	}
	Ｑ[iiq].エリア表示[map][dd] = aa;
	return 0;
}

void Ｑ初期化(int ii)
{
	sＱ 初期データ;
	Ｑ[ii] = 初期データ;
}

void Ｑ初期化／エリア情報(int iiq)
{
	int loop = 0;
	int loop2 = 0;
	for (loop = 1; loop < 17; ++loop)
	{
		Ｑ[iiq].Ｍ固有番号記憶[loop] = 0;
		Ｑ[iiq].Ｍ汎用番号記憶[loop] = 0;
		Ｑ[iiq].Ｍ通し番号記憶[loop] = 0;
		for (loop2 = 0; loop2 < 5; ++loop2)
		{
			Ｑ[iiq].エリア表示[loop][loop2] = 0;
		}
	}
}

void Ｑ起動時登録(lint fg)
{
	Ｑ起動時登録／基本(fg);
	Ｑ起動時登録／追加(fg);
	if (◆プラスキット == 1)
	{
		Ｑ起動時登録／マグナム(fg);
	}
	Ｑ起動時登録／サイコロ(fg);
	Ｑ起動時登録／ＹＹ(fg);
}

void Ｑ初期セット(int fg, int iiq, int 名声, int 難易度, int aa)
{
	lint ▲難易度修正 = 0;
	if (Ｑ取得名声値(iiq, -1) == 0 && Ｑクリア回数(iiq, -1) == 0)
	{
		Ｑ取得名声値(iiq, 名声);
	}
	Ｑ難易度(iiq, 難易度);
	▲難易度修正 = 0;
	if (◆ワールド == 1)
	{
		▲難易度修正 = 0;
	}
	if (◆ワールド == 2)
	{
		▲難易度修正 = 2;
	}
	if (◆ワールド == 3)
	{
		▲難易度修正 = 4;
	}
	if (◆ワールド == 4)
	{
		▲難易度修正 = 6;
	}
	if (◆ワールド == 5)
	{
		▲難易度修正 = 8;
	}
	if (Ｑ難易度(iiq, -1) != 0)
	{
		Ｑ難易度(iiq, Ｑ難易度(iiq, -1) + ▲難易度修正);
	}
	Ｑ種類(iiq, aa);
	Ｑ参加条件Ａ(iiq, 1, 0);
	Ｑ参加条件Ａ(iiq, 2, 0);
	Ｑ参加条件Ａ(iiq, 3, 0);
}

void クエスト終了処理(int fg)
{
	LOG_TADA("\n■　クエスト終了処理　" + string(fg) + "　■\n");
	lint loop = 0;
	lint iic = 0;
	lint get_exp = 0;
	for (loop = 1; loop < 6; loop++)
	{
		◆ＮＥＷクエスト[loop] = 0;
		◆ＮＥＷクエスト番号 = 1;
		◆ＮＥＷキャラクター[loop] = 0;
		◆ＮＥＷキャラクター番号 = 1;
		◆ＮＥＷ修行キャラ[loop] = 0;
		◆ＮＥＷ修行キャラ番号 = 1;
	}
	if (◆クエストＥＸＰ合計 != 0 && Ｑ種類(◆iiq, -1) == 0)
	{
		for (iic = 10; iic < 201; iic++)
		{
			if (Ｃ登録状態(iic, -1) == 4 && ＣＳ番号取得(iic, 263, 0) != 0 && ＣＬＶ(iic, -1) < ＣＬＶ最大(iic, -1))
			{
				get_exp = ◆クエストＥＸＰ合計 / 20 + ＣＥＸＰ(iic, -1);
				if (ＣＬＶ(iic, -1) >= 10 && get_exp >= ＣＥＸＰ最大(iic, -1) / 4)
				{
					get_exp = ＣＥＸＰ最大(iic, -1) / 4;
				}
				if (ＣＬＶ(iic, -1) >= 20 && get_exp >= ＣＥＸＰ最大(iic, -1) / 10)
				{
					get_exp = ＣＥＸＰ最大(iic, -1) / 10;
				}
				if (ＣＬＶ(iic, -1) >= 30 && get_exp >= ＣＥＸＰ最大(iic, -1) / 20)
				{
					get_exp = ＣＥＸＰ最大(iic, -1) / 20;
				}
				LOG_TADA("　　修行中　" + Ｃ名前(iic, "") + "　＋" + string(get_exp) + "ＥＸＰ");
				ＣＥＸＰ(iic, get_exp);
				if (get_exp >= ＣＥＸＰ最大(iic, -1))
				{
					レベルアップ処理(iic);
					if (◆ＮＥＷ修行キャラ番号 < 6)
					{
						◆ＮＥＷ修行キャラ[◆ＮＥＷ修行キャラ番号] = iic;
					}
					◆ＮＥＷ修行キャラ番号++;
					LOG_TADA("　→　レベルアップ（" + string(ＣＬＶ(iic, -1)) + "）");
				}
				LOG_TADA("\n");
			}
		}
	}
	for (iic = 20; iic < 201; iic++)
	{
		if (Ｃ登録状態(iic, -1) != 0)
		{
			if (ＣＦＡ(iic, 30, -1) != 0)
			{
				ＣＦＡ(iic, 30, 0);
				Ｃ再計算(iic);
			}
		}
	}
	if (◆クエストＰＴＡ復帰が必要 == 1)
	{
		ＰＴＡ復帰();
	}
	ゲスト全削除();
	Ｃ全員補給();
	if (fg == 1 || fg == 4)
	{
		if (◆iiq == 126 && ItemInInventory(304, 8, "") != 0)
		{
			FA[79] = 1;
		}
		if (◆iiq == 63 && ItemInInventory(303, 8, "") != 0)
		{
			FA[58] = 1;
		}
		if (◆iiq == 63 && ItemInInventory(305, 8, "") != 0)
		{
			FA[80] = 1;
		}
		if (◆iiq == 70 && ItemInInventory(9, 8, "") != 0)
		{
			FA[91] = 1;
		}
		if (◆iiq == 70 && ItemInInventory(26, 8, "") != 0)
		{
			FA[92] = 1;
		}
		if (◆iiq == 40 && ItemInInventory(87, 8, "") != 0)
		{
			FA[89] = 1;
		}
		if (◆iiq == 40 && ItemInInventory(161, 8, "") != 0)
		{
			FA[90] = 1;
		}
		if (◆iiq == 92 && ItemInInventory(92, 8, "") != 0)
		{
			FA[121] = 1;
		}
		if (◆iiq == 61 && ItemInInventory(102, 8, "") != 0)
		{
			FA[148] = 1;
		}
		if (◆iiq == 111 && ItemInInventory(301, 8, "") != 0)
		{
			FA[220] = 1;
		}
		if (◆iiq == 112 && ItemInInventory(298, 8, "") != 0)
		{
			FA[221] = 1;
		}
		if (◆iiq == 113 && ItemInInventory(286, 8, "") != 0)
		{
			FA[222] = 1;
		}
		if (◆iiq == 169 && ItemInInventory(68, 8, "") != 0)
		{
			FA[226] = 1;
		}
		if (◆iiq == 176 && ItemInInventory(16, 8, "") != 0)
		{
			FA[231] = 1;
		}
		if (◆iiq == 207 && ItemInInventory(142, 8, "") != 0)
		{
			FA[235] = 1;
		}
		if (◆iiq == 207 && ItemInInventory(36, 8, "") != 0)
		{
			FA[236] = 1;
		}
		if (◆iiq == 207 && ItemInInventory(271, 8, "") != 0)
		{
			FA[237] = 1;
		}
		if (◆iiq == 207 && ItemInInventory(280, 8, "") != 0)
		{
			FA[237] = 1;
		}
		if (◆iiq == 207 && ItemInInventory(295, 8, "") != 0)
		{
			FA[237] = 1;
		}
		if (◆iiq == 171 && ItemInInventory(93, 8, "") != 0)
		{
			FA[239] = 1;
		}
	}
	FA[143] = 0;
	FA[230] = 0;
	◆宝箱中身タイプ = 0;
	int ii = 0;
	for (ii = 1; ii < 3001; ++ii)
	{
		if (Ｉ存在(ii, -1) == 8)
		{
			if (Ｉ種類(ii, -1) == 22)
			{
				LOG_TADA("　クエスト倉庫（" + Ｉ名前(ii, "") + "）処分\n");
				ItemInitialize(ii);
			}
			if (Ｉ固有番号(ii, -1) == 258)
			{
				FA[41]++;
				LOG_TADA("　宝石をひとつました　累積＝" + string(FA[41]) + "\n");
			}
			if (fg == 2 || fg == 3)
			{
				ItemInitialize(ii);
			}
			FA[97]++;
		}
	}
	if (fg == 1)
	{
		クエスト終了処理／クリアフラグ();
		if (◆マグナム最大 != 0 && ◆マグナム最大 <= ◆マグナム && ◆マグナムの宝物 != 0)
		{
			if (Ｉクエスト倉庫は満杯ですか？() == 0)
			{
				Ｒ８アイテム取得(345, 0);
				if (■Ｍ／フラグＡ(◆iiq, 0, "") == 0)
				{
					■Ｍ／フラグＡ(◆iiq, 1, "");
				}
			}
		}
	}
	if (fg != 1)
	{
		◆クエスト名声 = 0;
		LOG("\n■Quest (%s)   Failed\n" % Ｑ名前(◆iiq, ""));
		LOG("   The events of the quest never happened.\n");
		if (◆iiq == 17 && QD[2] == 1 && Ｃ番号取得(21) == 0)
		{
			LOG("   Never ran into Rocky.\n");
		}
		if (◆iiq == 121 && QD[2] == 1 && Ｃ番号取得(39) == 0)
		{
			LOG("   Never ran into Shizuka.\n");
		}
		if (FA[186] == 1 && Ｃ番号取得(39) == 0)
		{
			LOG("   Never ran into Shizuka.\n");
		}
		if (◆iiq == 124 && QD[2] == 1 && Ｃ番号取得(29) == 0)
		{
			LOG("   Never ran into Maria.\n");
		}
		if (FA[187] == 1 && Ｃ番号取得(29) == 0)
		{
			LOG("   Never ran into Maria.\n");
		}
		if (FA[54] == 1 && Ｃ番号取得(15) == 0)
		{
			LOG("   Never ran into Yulan.\n");
		}
		if (◆iiq == 63 && EV("Noir/Meeting", -2147483648) == true)
		{
			LOG("   Never ran into Noir.\n");
		}
		if (◆iiq == 135 && EV("Rizna/Meeting", -2147483648) == true)
		{
			LOG("   Never ran into Rizna.\n");
		}
		if (◆iiq == 61 && EV("Tomato/Meeting", -2147483648) == true)
		{
			LOG("   Never ran into Tomato.\n");
		}
		if (EV("Noah/Meeting", -2147483648) == true)
		{
			LOG("   Never ran into Noah.\n");
		}
		if (EV("Emi/Meeting", -2147483648) == true)
		{
			LOG("   Never ran into Emi.\n");
		}
		if (EV("Bear/Meeting", -2147483648) == true)
		{
			LOG("   Never ran into Bear.\n");
		}
		if (EV("Yuzumi/Meeting", -2147483648) == true)
		{
			LOG("   Never ran into Yuzumi.\n");
		}
		if (EV("Urza/Meeting", -2147483648) == true)
		{
			LOG("   Never ran into Urza.\n");
		}
		if (EV("Merim/Meeting", -2147483648) == true)
		{
			LOG("   Never ran into Merim.\n");
		}
		if (EV("Kaoru/Meeting", -2147483648) == true)
		{
			LOG("   Never ran into Kaoru.\n");
		}
		if (◆iiq == 71 && EV("06A Zeth Soldier/Generic/Teru", -2147483648) == true)
		{
			LOG("   Never ran into Teru.\n");
		}
	}
	◆イベント表示無し = 0;
	◆マグナムの宝物 = 0;
	◆マグナム最大 = 0;
	ログ登録Ｂ(fg);
}

void クエスト終了処理／クリアフラグ()
{
	lint ▲初クリア = 0;
	lint iiq = 0;
	lint iiq2 = 0;
	lint ii = 0;
	lint iic = 0;
	lint aa = 0;
	lint iic1 = 0;
	lint iic2 = 0;
	lint dummy = 0;
	Ｑクリア回数(◆iiq, Ｑクリア回数(◆iiq, -1) + 1);
	FA[94]++;
	if (FA[302] == 1)
	{
		aa = 0;
		if (Ｑ種類(◆iiq, -1) == 3)
		{
			aa = 1;
		}
		if (◆iiq == 16)
		{
			aa = 0;
		}
		if (◆iiq == 134)
		{
			aa = 0;
		}
		if (◆iiq == 147)
		{
			aa = 0;
		}
		if (◆iiq == 13)
		{
			aa = 0;
		}
		if (◆iiq == 11)
		{
			aa = 0;
		}
		if (◆iiq == 14)
		{
			aa = 0;
		}
		if (◆iiq == 129)
		{
			aa = 0;
		}
		if (◆iiq == 106)
		{
			aa = 0;
		}
		if (◆iiq == 166)
		{
			aa = 0;
		}
		if (◆iiq == 10)
		{
			aa = 0;
		}
		if (◆iiq == 33 && FA[84] == 1)
		{
			aa = 0;
		}
		if (◆iiq == 20 && Ｃ有無(51) == 0)
		{
			aa = 0;
		}
		if (aa == 1)
		{
			LOG("   →Moved quest to Quest Storage.\n");
			Ｒ８不要クエストへ移動(◆iiq);
		}
	}
	if (Ｑ種類(◆iiq, -1) == 0)
	{
		◆クエストクリア数／迷宮++;
		if (◆ランス城オープン == 2)
		{
			◆ランス城オープン = 1;
		}
	}
	if (◆ランス城オープン == 2)
	{
		◆ランス城オープン = 1;
	}
	if (ＣＳ番号取得／スタメン(dummy, 269, 0) != 0 && Ｑ種類(◆iiq, -1) != 3)
	{
		◆クエスト名声 = ◆クエスト名声 * 2;
		Ｑ取得名声値(◆iiq, 0);
	}
	aa = Ｑ取得名声値(◆iiq, -1);
	if (aa != 0)
	{
		aa = aa / 2;
		Ｑ取得名声値(◆iiq, aa);
		if (Ｑ種類(◆iiq, -1) == 3)
		{
			Ｑ取得名声値(◆iiq, 0);
		}
	}
	LOG_TADA("　　◆クエスト名声＝" + string(◆クエスト名声) + "\n");
	LOG("\n■Quest (%s)" % Ｑ名前(◆iiq, ""));
	if (Ｑ状態(◆iiq, -1) == 1 && Ｑクリア回数(◆iiq, -1) == 1)
	{
		LOG("(First-time clear)\n");
	}
	if (Ｑクリア回数(◆iiq, -1) > 1)
	{
		LOG("(Cleared %s times)\n" % string3(Ｑクリア回数(◆iiq, -1)));
	}
	if (◆iiq == 147)
	{
		FA[304] = 1;
	}
	if (Ｑ状態(◆iiq, -1) == 1)
	{
		Ｑ状態(◆iiq, 2);
		aa = 0;
		if (◆iiq == 16)
		{
			aa = 1;
		}
		if (◆iiq == 134)
		{
			aa = 1;
		}
		if (◆iiq == 147)
		{
			aa = 1;
		}
		if (◆iiq == 13)
		{
			aa = 1;
		}
		if (◆iiq == 129)
		{
			aa = 1;
		}
		if (◆iiq == 106)
		{
			aa = 1;
		}
		if (◆iiq == 166)
		{
			aa = 1;
		}
		if (◆iiq == 10)
		{
			aa = 1;
		}
		if (◆iiq == 14)
		{
			aa = 1;
		}
		if (Ｑクリア回数(◆iiq, -1) == 1 && aa == 0)
		{
			◆クエストクリア数++;
		}
		LOG_TADA("　◆クエストクリア数（初回）＝" + string(◆クエストクリア数) + "\n");
		if (◆iiq == 25)
		{
			Ｑ状態(36, 1);
		}
		if (◆iiq == 36)
		{
			Ｑ状態(83, 1);
			Ｑ状態(26, 1);
			Ｑ状態(86, 1);
		}
		if (◆iiq == 33)
		{
			Ｑ状態(66, 1);
			Ｑ状態(98, 1);
		}
		if (◆iiq == 66)
		{
			Ｑ状態(67, 1);
		}
		if (◆iiq == 67)
		{
			if (FA[188] == 0)
			{
				FA[188] = 1;
			}
			Ｑ状態(17, 1);
			Ｑ状態(121, 1);
			Ｑ状態(68, 1);
		}
		if (◆iiq == 70)
		{
			Ｑ状態(34, 1);
			Ｃ生成(26);
		}
		if (◆iiq == 68)
		{
			Ｑ状態(60, 1);
			Ｑ状態(30, 1);
			Ｑ状態(96, 1);
			Ｑ状態(89, 1);
		}
		if (◆iiq == 60)
		{
			if (FA[188] < 2)
			{
				FA[188] = 2;
			}
			Ｃ生成(3);
			Ｑ状態(70, 1);
			Ｑ状態(45, 1);
		}
		if (◆iiq == 45)
		{
			Ｃ生成(33);
			Ｑ状態(40, 1);
			Ｑ状態(37, 1);
			Ｑ状態(90, 1);
		}
		if (◆iiq == 40)
		{
			Ｃ生成(4);
			Ｑ状態(41, 1);
		}
		if (◆iiq == 41)
		{
			Ｃ生成(20);
			Ｑ状態(52, 1);
			Ｑ状態(63, 1);
			Ｑ状態(46, 1);
		}
		if (◆iiq == 42)
		{
			Ｃ生成(5);
			Ｃ生成(38);
		}
		if (◆iiq == 63)
		{
			Ｃ生成(54);
			Ｑ状態(47, 1);
			Ｑ状態(50, 1);
			Ｑ状態(92, 1);
			Ｑ状態(88, 1);
		}
		if (◆iiq == 50)
		{
			Ｃ生成(6);
			Ｑ状態(56, 1);
		}
		if (◆iiq == 71)
		{
			FA[4] = 6;
			FA[11] = 0;
			Ｑ状態(64, 1);
		}
		if (◆iiq == 64)
		{
			Ｑ状態(48, 1);
			Ｃ生成(42);
		}
		if (◆iiq == 72)
		{
			Ｑ状態(73, 1);
			Ｑ状態(93, 1);
			Ｑ状態(94, 1);
		}
		if (◆iiq == 73)
		{
			Ｑ状態(74, 1);
		}
		if (◆iiq == 75)
		{
			Ｑ状態(76, 1);
		}
		if (◆iiq == 76)
		{
			if (FA[188] < 4)
			{
				FA[188] = 4;
			}
		}
		if (◆iiq == 17)
		{
			FA[6] = 1;
		}
		if (◆iiq == 18)
		{
			FA[6] = 2;
			FA[47] = ◆クエストクリア数／迷宮 + 5;
		}
		if (◆iiq == 19)
		{
			FA[47] = ◆クエストクリア数／迷宮 + 5;
		}
		if (◆iiq == 20)
		{
			◆ランス城オープン = 1;
			FA[6] = 3;
			FA[47] = ◆クエストクリア数／迷宮 + 3;
			Ｑ状態(101, 1);
			Ｑ状態(102, 1);
			Ｑ状態(103, 1);
			Ｑ状態(104, 1);
		}
		if (◆iiq == 37)
		{
			FA[48] = ◆クエストクリア数／迷宮 + 2;
		}
		if (◆iiq == 38)
		{
			Ｃ生成(55);
		}
		if (◆iiq == 79)
		{
			Ｃ生成(57);
		}
		if (◆iiq == 81)
		{
			Ｃ生成(27);
		}
		if (◆iiq == 32)
		{
			FA[5] = 1;
		}
		if (◆iiq == 58)
		{
			FA[5] = 2;
			Ｃ生成(24);
			iic = Ｃ番号取得(24);
			CharacterSkillAdd(iic, 361, 0);
		}
		if (◆iiq == 16)
		{
			if (FA[60] != 0)
			{
				Ｃ生成(FA[60]);
			}
			FA[60] = 0;
		}
		if (◆iiq == 84)
		{
			Ｑ状態(85, 1);
		}
		if (◆iiq == 85)
		{
			Ｃ生成(58);
		}
		if (◆iiq == 90)
		{
			Ｃ生成(40);
		}
		if (◆iiq == 91)
		{
			Ｃ生成(50);
		}
		if (◆iiq == 92)
		{
			Ｃ生成(32);
		}
		if (◆iiq == 53)
		{
			FA[49] = ◆クエストクリア数／迷宮 + 2;
		}
		if (◆iiq == 54)
		{
			Ｃ生成(23);
			FA[12] = 3;
		}
		if (◆iiq == 121)
		{
			Ｑ状態(122, 1);
		}
		if (◆iiq == 122)
		{
			Ｑ状態(123, 1);
		}
		if (◆iiq == 123)
		{
			Ｑ状態(124, 1);
		}
		if (◆iiq == 124)
		{
			Ｑ状態(125, 1);
		}
		if (◆iiq == 125)
		{
			Ｑ状態(126, 1);
		}
		if (◆iiq == 117)
		{
			Ｑ状態(118, 1);
		}
		if (◆iiq == 118)
		{
			Ｑ状態(119, 1);
		}
		if (◆iiq == 181)
		{
			Ｃ生成(73);
		}
		if (◆iiq == 138)
		{
			Ｃ生成(68);
		}
		if (◆iiq == 195)
		{
			Ｃ生成(71);
		}
		if (◆iiq == 217)
		{
			Ｃ生成(91);
		}
		if (◆iiq == 60 || ◆iiq == 70 || ◆iiq == 90 || ◆iiq == 40 || ◆iiq == 31 || ◆iiq == 91 || ◆iiq == 63 || ◆iiq == 50 || ◆iiq == 92 || ◆iiq == 64 || ◆iiq == 93 || ◆iiq == 95 || ◆iiq == 33 || ◆iiq == 157 || ◆iiq == 36 || ◆iiq == 177)
		{
			FA[96]++;
		}
		if (◆iiq == 186)
		{
			Ｃ再計算／全キャラ();
		}
		if (◆iiq == 173)
		{
			LOG("\n   This quest is long, so it has a beginning, a middle, and an end.\n");
			LOG("   Please proceed to the middle part of the Mula Test.\n");
		}
		if (◆iiq == 174)
		{
			LOG("\n   This quest is long, so it has a beginning, a middle, and an end.\n");
			LOG("   Please proceed to the end part of the Mula Test.\n");
		}
		if (◆iiq == 18)
		{
			マメ知識／起動時登録();
		}
		if (◆iiq == 20)
		{
			マメ知識／起動時登録();
		}
		if (◆iiq == 21)
		{
			マメ知識／起動時登録();
		}
		if (◆iiq == 77)
		{
			マメ知識／起動時登録();
		}
	}
	iiq2 = 129;
	if (◆iiq == iiq2 && FA[83] != 0)
	{
		◆ＮＥＷキャラクター[◆ＮＥＷキャラクター番号] = FA[83];
		◆ＮＥＷキャラクター番号++;
	}
	iiq = 13;
	if (Ｑ状態(iiq, -1) == 0)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 117;
	if (Ｑ状態(121, -1) == 2 && Ｑ状態(45, -1) == 2)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 135;
	if (Ｑ状態(125, -1) == 2 && ＣＬＶ(Ｃ番号取得(1), -1) >= 25)
	{
		Ｑ状態(iiq, 1);
	}
	if (FA[13] == 1)
	{
		Ｑ状態(80, 1);
	}
	if (FA[11] == 1 && Ｑ状態(71, -1) == 2)
	{
		Ｑ状態(79, 1);
	}
	if (◆iiq == 66)
	{
		Ｑ状態(69, 1);
	}
	if (FA[4] >= 3)
	{
		Ｑ状態(78, 1);
	}
	if (◆クエストクリア数 >= 3)
	{
		Ｑ状態(114, 1);
	}
	if (◆クエストクリア数 >= 4)
	{
		Ｑ状態(33, 1);
	}
	if (◆クエストクリア数 >= 9)
	{
		Ｑ状態(116, 1);
	}
	if (◆クエストクリア数 >= 13 && Ｑ状態(60, -1) == 2)
	{
		Ｑ状態(100, 1);
	}
	iiq = 99;
	if (Ｑ状態(17, -1) == 2 && Ｑ状態(67, -1) == 2)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 14;
	if (◆ｅａｓｙモード == 0 && クリア確認(115) == 1 && クリア確認(77) == 1)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 91;
	if (Ｑ状態(41, -1) == 2 && Ｑ状態(70, -1) == 2)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 71;
	if (Ｑ状態(20, -1) == 2 && Ｑ状態(63, -1) == 2 && FA[4] >= 5)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 65;
	if (Ｑ状態(64, -1) == 2 && Ｑ状態(70, -1) == 2)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 72;
	if (Ｑ状態(65, -1) == 2 && Ｃ番号取得(23) != 0 && Ｑ状態(21, -1) == 2)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 75;
	if (Ｑ状態(74, -1) == 2 && Ｑ状態(81, -1) == 2)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 77;
	if (Ｑ状態(76, -1) == 2)
	{
		Ｑ状態(iiq, 1);
	}
	if (Ｑ状態(17, -1) == 2 && Ｑ状態(45, -1) == 2)
	{
		Ｑ状態(18, 1);
	}
	if (Ｑ状態(18, -1) == 2 && FA[47] <= ◆クエストクリア数／迷宮)
	{
		Ｑ状態(19, 1);
	}
	if (Ｑ状態(19, -1) == 2 && Ｑ状態(63, -1) == 2 && FA[47] <= ◆クエストクリア数／迷宮)
	{
		Ｑ状態(20, 1);
	}
	iiq = 27;
	iic = Ｃ番号取得(19);
	if (iic != 0 && ＣＬＶ(iic, -1) >= 20)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 38;
	if (Ｑ状態(37, -1) == 2 && FA[48] <= ◆クエストクリア数／迷宮)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 57;
	if (Ｑ状態(56, -1) == 2 && Ｑ状態(71, -1) == 2)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 58;
	if (Ｑ状態(57, -1) == 2 && FA[5] == 1)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 59;
	iic = Ｃ番号取得(24);
	if (iic != 0 && ＣＬＶ(iic, -1) >= 30 && FA[5] == 2)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 97;
	iic = Ｃ番号取得(62);
	if (iic != 0 && Ｑ状態(94, -1) == 2)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 42;
	iic = Ｃ番号取得(4);
	if (iic != 0 && ＣＬＶ(iic, -1) >= 10 && Ｑ状態(41, -1) == 2)
	{
		Ｑ状態(iiq, 1);
	}
	if (FA[12] == 0 && Ｑ状態(52, -1) == 2)
	{
		FA[12] = 1;
	}
	if (FA[12] == 1 && EV("クレイン／初接触", -2147483648) == true)
	{
		Ｑ状態(53, 1);
	}
	if (FA[12] == 1 && Ｑ状態(53, -1) == 2)
	{
		FA[12] = 2;
	}
	if (FA[12] == 2 && FA[49] <= ◆クエストクリア数／迷宮 && Ｑ状態(63, -1) == 2)
	{
		Ｑ状態(54, 1);
	}
	iiq = 84;
	if (ItemInInventory(255, 0, "") != 0)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 95;
	if (Ｑ状態(75, -1) == 2 && Ｑ状態(81, -1) == 2)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 127;
	if (Ｑ状態(126, -1) == 2 && FA[188] >= 4)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 128;
	if (Ｑ状態(127, -1) == 2 && Ｃ番号取得(61) != 0)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 145;
	if (Ｑ状態(128, -1) == 2)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 146;
	if (Ｑ状態(145, -1) == 2)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 111;
	if (Ｑ状態(20, -1) == 2)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 112;
	if (Ｑ状態(111, -1) == 2)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 113;
	if (Ｑ状態(112, -1) == 2)
	{
		Ｑ状態(iiq, 1);
	}
	if (FA[188] >= 4)
	{
		iic = Ｃ番号取得(24);
		iiq = 180;
		if (クリア確認(59) == 1 && ＣＬＶ(iic, -1) >= 30)
		{
			Ｑ状態(iiq, 1);
		}
		iiq = 179;
		iic = Ｃ番号取得(39);
		if (ＣＬＶ(iic, -1) >= 40)
		{
			Ｑ状態(iiq, 1);
		}
	}
	iiq = 51;
	if (Ｑ状態(75, -1) == 2 && Ｑ状態(50, -1) == 2)
	{
		Ｑ状態(iiq, 1);
	}
	if (クリア確認(146) == 1 && FA[201] == 1)
	{
		iiq = 199;
		Ｑ状態(iiq, 1);
		iiq = 147;
		Ｑ状態(iiq, 1);
		iiq = 115;
		if (Ｑ状態(114, -1) == 2)
		{
			Ｑ状態(iiq, 1);
		}
		iiq = 131;
		if (Ｑ状態(115, -1) == 2 && ◆ワールド >= 2)
		{
			Ｑ状態(iiq, 1);
		}
		iiq = 132;
		if (Ｑ状態(131, -1) == 2 && ◆ワールド >= 3)
		{
			Ｑ状態(iiq, 1);
		}
		iiq = 195;
		if (ポスター総数取得() >= 20)
		{
			Ｑ状態(iiq, 1);
		}
	}
	if (FA[188] >= 2)
	{
		iiq = 28;
		iic = Ｃ番号取得(19);
		if (iic != 0 && ＣＬＶ(iic, -1) >= 30 && クリア確認(27) == 1)
		{
			Ｑ状態(iiq, 1);
		}
		iiq = 39;
		iic = Ｃ番号取得(55);
		if (iic != 0 && ＣＬＶ(iic, -1) >= 30)
		{
			Ｑ状態(iiq, 1);
		}
		iiq = 35;
		iic = Ｃ番号取得(26);
		if (iic != 0 && ＣＬＶ(iic, -1) >= 30 && Ｑ状態(34, -1) == 2)
		{
			Ｑ状態(iiq, 1);
		}
		iiq = 31;
		iic = Ｃ番号取得(22);
		if (iic != 0 && Ｑ状態(41, -1) == 2 && Ｑ状態(30, -1) == 2)
		{
			Ｑ状態(iiq, 1);
		}
		iiq = 32;
		iic = Ｃ番号取得(22);
		if (iic != 0 && ＣＬＶ(iic, -1) >= 30 && Ｑ状態(72, -1) == 2 && Ｑ状態(31, -1) == 2)
		{
			Ｑ状態(iiq, 1);
		}
		iiq = 153;
		iic = Ｃ番号取得(58);
		if (クリア確認(85) == 1 && ＣＬＶ(iic, -1) >= 30 && FA[263] == 1)
		{
			Ｑ状態(iiq, 1);
		}
	}
	if (◆ランス城オープン != 0)
	{
		if (Ｑ状態(28, -1) == 2)
		{
			Ｑ状態(29, 1);
		}
		iiq = 81;
		if (Ｑ状態(71, -1) == 2)
		{
			Ｑ状態(iiq, 1);
		}
		iiq = 21;
		if (Ｑ状態(81, -1) == 2 && FA[47] <= ◆クエストクリア数／迷宮)
		{
			Ｑ状態(iiq, 1);
		}
		if (EV("ビスケッタ／地下牢", -2147483648) == true)
		{
			Ｑ状態(22, 1);
		}
		if (Ｑ状態(22, -1) == 2 && Ｑ状態(49, -1) == 2)
		{
			Ｑ状態(23, 1);
		}
		iiq = 44;
		iic = Ｃ番号取得(4);
		if (iic != 0 && ＣＬＶ(iic, -1) >= 20)
		{
			Ｑ状態(iiq, 1);
		}
		iiq = 55;
		iic = Ｃ番号取得(23);
		if (iic != 0 && ＣＬＶ(iic, -1) >= 30 && FA[12] >= 3)
		{
			Ｑ状態(iiq, 1);
		}
		iiq = 49;
		iic = Ｃ番号取得(33);
		if (iic != 0 && ＣＬＶ(iic, -1) >= 30 && Ｑ状態(46, -1) == 2 && Ｑ状態(47, -1) == 2 && Ｑ状態(48, -1) == 2)
		{
			Ｑ状態(iiq, 1);
		}
		iiq = 43;
		iic1 = Ｃ番号取得(5);
		iic2 = Ｃ番号取得(38);
		if (iic1 != 0 && ＣＬＶ(iic1, -1) >= 30 && iic2 != 0 && ＣＬＶ(iic2, -1) >= 30)
		{
			Ｑ状態(iiq, 1);
		}
		iiq = 203;
		if (FA[188] >= 4)
		{
			Ｑ状態(iiq, 1);
		}
		iiq = 158;
		if (FA[188] >= 4)
		{
			Ｑ状態(iiq, 1);
		}
		iiq = 206;
		if (Ｃ有無(49) != 0 && Ｃ有無(16) != 0 && Ｑ状態(65, -1) == 2)
		{
			Ｑ状態(iiq, 1);
		}
		iiq = 108;
		if (EV("町歩き／松クマ", -2147483648) == true)
		{
			Ｑ状態(iiq, 1);
		}
		iiq = 109;
		if (クリア確認(108) == 1 && ＣＬＶ(Ｃ番号取得(53), -1) >= 40)
		{
			Ｑ状態(iiq, 1);
		}
	}
	iiq = 221;
	if (EV("町歩き／のぞみ", -2147483648) == true)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 222;
	if (EV("町歩き／メリム", -2147483648) == true && クリア確認(221) == 1)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 223;
	if (EV("町歩き／リズナ", -2147483648) == true && クリア確認(222) == 1)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 224;
	if (クリア確認(215) == 1 && クリア確認(223) == 1)
	{
		Ｑ状態(iiq, 1);
	}
	if (◆iiq == 25)
	{
		累積フラグ関数(FA[4], 1);
	}
	if (◆iiq == 86)
	{
		if (QD[1] == 1)
		{
			FA[8] = 2;
		}
		else
		{
			FA[8] = 1;
		}
	}
	if (◆iiq == 26)
	{
		if (QD[1] == 1)
		{
			FA[10] = 2;
		}
		else
		{
			FA[10] = 1;
		}
	}
	if (◆iiq == 63)
	{
		if (QD[1] == 1)
		{
			FA[257] = 1;
		}
		else
		{
			FA[257] = 2;
		}
	}
	if (◆iiq == 60)
	{
		if (QD[1] == 0)
		{
			FA[9] = 0;
		}
		if (QD[1] == 1)
		{
			FA[9] = 1;
		}
	}
	iiq = 61;
	if (Ｑ状態(45, -1) == 2 && FA[9] == 0)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 62;
	if (Ｑ状態(45, -1) == 2 && FA[9] == 1)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 87;
	if (Ｑ状態(86, -1) == 2 && FA[8] == 2)
	{
		Ｑ状態(iiq, 1);
	}
	if (◆iiq == 17 && QD[2] == 1 && Ｃ番号取得(21) == 0)
	{
		Ｃ生成(21);
	}
	if (◆iiq == 96 && QD[2] == 1 && Ｃ番号取得(16) == 0)
	{
		Ｃ生成(16);
	}
	if (◆iiq == 121 && QD[2] == 1 && Ｃ番号取得(39) == 0)
	{
		Ｃ生成(39);
	}
	if (FA[186] == 1 && Ｃ番号取得(39) == 0)
	{
		Ｃ生成(39);
	}
	if (◆iiq == 124 && QD[2] == 1 && Ｃ番号取得(29) == 0)
	{
		Ｃ生成(29);
	}
	if (FA[187] == 1 && Ｃ番号取得(29) == 0)
	{
		Ｃ生成(29);
	}
	if (FA[54] == 1 && Ｃ番号取得(15) == 0)
	{
		Ｃ生成(15);
		FA[54] = 0;
	}
	if (◆iiq == 63 && EV("ノワール／出会い", -2147483648) == true)
	{
		Ｃ生成(17);
	}
	if (◆iiq == 135 && EV("リズナ／出会い", -2147483648) == true)
	{
		Ｃ生成(12);
	}
	if (◆iiq == 61 && EV("トマト／出会い", -2147483648) == true)
	{
		Ｃ生成(18);
	}
	if (◆iiq == 20 && EV("カロリア／出会い", -2147483648) == true)
	{
		Ｃ生成(51);
	}
	if (EV("ノア／出会い", -2147483648) == true)
	{
		Ｃ生成(36);
	}
	if (EV("エミ／出会い", -2147483648) == true)
	{
		Ｃ生成(44);
	}
	if (EV("クマ／出会い", -2147483648) == true)
	{
		Ｃ生成(53);
	}
	if (EV("柚美／出会い", -2147483648) == true)
	{
		Ｃ生成(30);
	}
	if (EV("ウルザ／出会い", -2147483648) == true)
	{
		Ｃ生成(28);
	}
	if (EV("メリム／出会い", -2147483648) == true)
	{
		Ｃ生成(60);
	}
	if (EV("カオル／出会い", -2147483648) == true)
	{
		Ｃ生成(52);
	}
	if (◆iiq == 71 && EV("０６Ａゼス兵／汎用／てる", -2147483648) == true)
	{
		Ｃ生成(9);
	}
	iiq = 16;
	if (Ｑ状態(iiq, -1) != 1 && Ｑ状態(36, -1) == 2)
	{
		int no = 0;
		for (; ; )
		{
			no = 59;
			if (Ｃ番号取得(no) == 0)
			{
				break;
			}
			no = 45;
			if (Ｃ番号取得(no) == 0 && Ｑ状態(83, -1) == 2)
			{
				break;
			}
			no = 31;
			if (Ｃ番号取得(no) == 0 && Ｑ状態(86, -1) == 2)
			{
				break;
			}
			no = 14;
			if (Ｃ番号取得(no) == 0 && Ｑ状態(26, -1) == 2)
			{
				break;
			}
			no = 49;
			if (Ｃ番号取得(no) == 0 && Ｑ状態(121, -1) == 2)
			{
				break;
			}
			no = 41;
			if (Ｃ番号取得(no) == 0 && Ｑ状態(89, -1) == 2)
			{
				break;
			}
			no = 7;
			if (Ｃ番号取得(no) == 0 && Ｑ状態(93, -1) == 2)
			{
				break;
			}
			no = 62;
			if (Ｃ番号取得(no) == 0 && Ｑ状態(94, -1) == 2)
			{
				break;
			}
			no = 61;
			if (Ｃ番号取得(no) == 0 && ItemInInventory(267, 0, "") != 0)
			{
				break;
			}
			no = 47;
			if (Ｃ番号取得(no) == 0 && Ｑ状態(191, -1) == 2)
			{
				break;
			}
			no = 86;
			if (Ｃ番号取得(no) == 0 && Ｑ状態(214, -1) == 2)
			{
				break;
			}
			//Adding Kentarou in the bar
			no = 347;
			if (Ｃ番号取得(no) == 0)
			{
				LOG("Adding Kentarou to bar");
				break;
			}
			no = 0;
			int ii = 0;
			for (ii = 1; ii < 3001; ++ii)
			{
				if (ItemInInventory／構造体番号(ii, 0) != 0 && Ｉ種類詳細(ii, -1) == 18 && Ｉ機能(ii, 3, -1) != 0 && Ｉ効果(ii, 2, -1) == 0)
				{
					LOG_TADA("　目録＝" + Ｉ名前(ii, "") + " " + キャラ固有番号文字列(Ｉ効果(ii, 3, -1), 0) + "\n");
					no = Ｉ効果(ii, 3, -1);
					if (Ｃ番号取得(no) == 0)
					{
						Ｉ機能(ii, 3, 0);
						goto label0;
					}
				}
			}
			no = 0;
			break;
		}
	label0:
		if (no != 0)
		{
			if (Ｑ状態(iiq, -1) == 0)
			{
				Ｑ状態(iiq, 1);
			}
			クエスト再発生(iiq);
			FA[59] = ◆クエストクリア数／迷宮 + 1;
			FA[60] = no;
		}
	}
	if (◆iiq == 42 && ItemInInventory(188, 8, "") != 0)
	{
		FA[56] = 1;
	}
	iiq2 = 134;
	if (クリア確認(20) == 1)
	{
		Ｑ状態(iiq2, 1);
	}
	iiq2 = 136;
	if (FA[130] >= 3)
	{
		Ｑ状態(iiq2, 1);
	}
	iiq2 = 137;
	if (FA[130] >= 1 && Ｑ状態(136, -1) == 2)
	{
		Ｑ状態(iiq2, 1);
	}
	iiq2 = 138;
	if (Ｑ状態(23, -1) == 2 && Ｑ状態(137, -1) == 2)
	{
		Ｑ状態(iiq2, 1);
	}
	iiq2 = 139;
	if (Ｑ状態(64, -1) == 2)
	{
		Ｑ状態(iiq2, 1);
	}
	iiq2 = 140;
	if (Ｑ状態(64, -1) == 2 && Ｃ番号取得(25) != 0 && Ｃ番号取得(62) != 0 && Ｃ番号取得(43) != 0)
	{
		Ｑ状態(iiq2, 1);
	}
	iiq2 = 141;
	if (Ｑ状態(64, -1) == 2 && Ｃ番号取得(39) != 0)
	{
		Ｑ状態(iiq2, 1);
	}
	iiq2 = 142;
	if (Ｑ状態(64, -1) == 2)
	{
		Ｑ状態(iiq2, 1);
	}
	iiq2 = 143;
	if (Ｑ状態(139, -1) == 2 && Ｑ状態(140, -1) == 2 && Ｑ状態(141, -1) == 2 && Ｑ状態(142, -1) == 2)
	{
		Ｑ状態(iiq2, 1);
	}
	iiq = 189;
	if (EV("クルックー／モルルン３回目", -2147483648) == true && Ｑ状態(74, -1) == 2)
	{
		Ｑ状態(iiq, 1);
	}
	if (◆プラスキット == 1)
	{
		クリアフラグ処理／マグナム();
	}
	gランスの部屋 = 5020;
	gランスの部屋／夜 = 5021;
	gランスの部屋／無灯 = 5022;
	gランスの部屋／夕方 = 5023;
	gランスの廊下 = 5322;
	if (Ｑ状態(20, -1) == 2)
	{
		gランスの部屋 = 5280;
		gランスの部屋／夜 = 5281;
		gランスの部屋／無灯 = 5282;
		gランスの部屋／夕方 = 5283;
		gランスの廊下 = 5322;
	}
	g町全景 = 5500;
	g町全景／夜 = 5570;
	if (Ｑ状態(18, -1) == 2)
	{
		g町全景 = 5501;
		g町全景／夜 = 5571;
	}
	if (Ｑ状態(20, -1) == 2)
	{
		g町全景 = 5502;
		g町全景／夜 = 5572;
	}
	if (Ｑ状態(21, -1) == 2)
	{
		g町全景 = 5503;
		g町全景／夜 = 5573;
	}
	if (Ｑ状態(75, -1) == 2)
	{
		g町全景 = 5504;
		g町全景／夜 = 5574;
	}
	if (Ｑ状態(193, -1) == 2)
	{
		g町全景 = 5505;
		g町全景／夜 = 5575;
	}
	lint loop = 0;
	for (loop = 1; loop < 6; loop++)
	{
		if (◆ＮＥＷクエスト[loop] != 0)
		{
			LOG("   →New Quest (%s)\n" % Ｑ名前(◆ＮＥＷクエスト[loop], ""));
		}
	}
	for (loop = 1; loop < 6; loop++)
	{
		if (◆ＮＥＷキャラクター[loop] != 0)
		{
			LOG("   →New Character (%s)\n" % Ｃ名前(◆ＮＥＷキャラクター[loop], ""));
		}
	}
}

void QuestBasicRegistration(int a2, int a3, int a4)
{
	◆クエストＧＯＬＤ = a2;
	◆宝箱中身タイプ = a3;
	◆クエスト鑑定料 = 99;
	if (a3 == 11 || a3 == 12 || a3 == 13 || a3 == 14)
	{
		◆クエスト鑑定料 = 100;
	}
	if (a3 == 21 || a3 == 22 || a3 == 23 || a3 == 24)
	{
		◆クエスト鑑定料 = 300;
	}
	if (a3 == 31 || a3 == 32 || a3 == 33 || a3 == 34)
	{
		◆クエスト鑑定料 = 600;
	}
	if (a3 >= 40)
	{
		◆クエスト鑑定料 = 800;
	}
	◆マップ曲 = a4;
}

void ボーナス登録(int a1, int a2, int a3)
{
	if (a1 != 0)
	{
		◆クエストボーナス有無[1] = 1;
		◆クエストボーナス最大[1] = a1;
	}
	if (a2 != 0)
	{
		◆クエストボーナス有無[3] = 1;
		◆クエストボーナス最大[3] = a2;
	}
	if (a3 != 0)
	{
		◆クエストボーナス有無[2] = 1;
		◆クエストボーナス最大[2] = a3;
	}
}

lint QuestProcessing(lint dd, lint no, lint fg)
{
	if (QuestKit(◆iiq, -1) == 0)
	{
		return QuestProcessingBasic(dd, no, fg);
	}
	if (QuestKit(◆iiq, -1) == 1)
	{
		return QuestProcessingExtra(dd, no, fg);
	}
	if (◆プラスキット == 1 && QuestKit(◆iiq, -1) == 2)
	{
		return QuestProcessingMagnum(dd, no, fg);
	}
	if (QuestKit(◆iiq, -1) == 3)
	{
		return クエスト処理／サイコロ(dd, no, fg);
	}
	if (QuestKit(◆iiq, -1) == 5)
	{
		return QuestProcessingYY(dd, no, fg);
	}
	LOG_TADA("ＥＲＲＯＲ　QuestProcessing " + Ｑ名前(◆iiq, "") + "　" + string(QuestKit(◆iiq, -1)) + "\n");
	return 1;
}

int サポート／キャラ調整()
{
	lint rr = 0;
	セリフ(2080, "");
	'"Please choose an entry."' B;
	選択初期();
	if (PTA[1] != 0)
	{
		選択_項目追加(1, "Adjust " + Ｃ名前(PTA[1], ""), -1, -1, -1, "", -1);
	}
	if (PTA[2] != 0)
	{
		選択_項目追加(2, "Adjust " + Ｃ名前(PTA[2], ""), -1, -1, -1, "", -1);
	}
	if (PTA[3] != 0)
	{
		選択_項目追加(3, "Adjust " + Ｃ名前(PTA[3], ""), -1, -1, -1, "", -1);
	}
	if (PTA[4] != 0)
	{
		選択_項目追加(4, "Adjust " + Ｃ名前(PTA[4], ""), -1, -1, -1, "", -1);
	}
	if (PTA[5] != 0)
	{
		選択_項目追加(5, "Adjust " + Ｃ名前(PTA[5], ""), -1, -1, -1, "", -1);
	}
	選択_項目追加(99, "Back", -1, -1, -1, "", -1);
	rr = 選択_実行(false, 0, 0, false);
	if (rr == 99)
	{
		return 1;
	}
	lint iic = 0;
	if (rr == 1)
	{
		iic = PTA[1];
	}
	if (rr == 2)
	{
		iic = PTA[2];
	}
	if (rr == 3)
	{
		iic = PTA[3];
	}
	if (rr == 4)
	{
		iic = PTA[4];
	}
	if (rr == 5)
	{
		iic = PTA[5];
	}
	if (iic == 0)
	{
		return 1;
	}
label0:
	ト書き();
	S(Ｃ名前(iic, ""));
	'\'s data will be adjusted.' B;
	選択初期();
	if (ＣＬＶ(iic, -1) > 1)
	{
		選択_項目追加(51, "Return to level 1", -1, -1, -1, "", -1);
	}
	if (ＣＦＡ(iic, 17, -1) != 0 || ＣＦＡ(iic, 18, -1) != 0 || ＣＦＡ(iic, 19, -1) != 0 || ＣＦＡ(iic, 20, -1) != 0 || ＣＦＡ(iic, 21, -1) != 0)
	{
		選択_項目追加(53, "Change absorbed special item", -1, -1, -1, "", -1);
	}
	選択_項目追加(99, "Back", -1, -1, -1, "", -1);
	rr = 選択_実行(false, 0, 0, false);
	if (rr == 99)
	{
		return 1;
	}
	if (rr == 51)
	{
		Ｃレベルドレイン(iic, 1);
		Ｃ再計算(iic);
		goto label0;
	}
	if (rr == 53)
	{
		ト書き();
		S(Ｃ名前(iic, ""));
		' has absorbed these items.' B;
		選択初期();
		if (ＣＦＡ(iic, 17, -1) != 0)
		{
			選択_項目追加(61, Ｉ固有名前(ＣＦＡ(iic, 17, -1)), -1, -1, -1, "", -1);
		}
		if (ＣＦＡ(iic, 18, -1) != 0)
		{
			選択_項目追加(62, Ｉ固有名前(ＣＦＡ(iic, 18, -1)), -1, -1, -1, "", -1);
		}
		if (ＣＦＡ(iic, 19, -1) != 0)
		{
			選択_項目追加(63, Ｉ固有名前(ＣＦＡ(iic, 19, -1)), -1, -1, -1, "", -1);
		}
		if (ＣＦＡ(iic, 20, -1) != 0)
		{
			選択_項目追加(64, Ｉ固有名前(ＣＦＡ(iic, 20, -1)), -1, -1, -1, "", -1);
		}
		if (ＣＦＡ(iic, 21, -1) != 0)
		{
			選択_項目追加(65, Ｉ固有名前(ＣＦＡ(iic, 21, -1)), -1, -1, -1, "", -1);
		}
		選択_項目追加(99, "Back", -1, -1, -1, "", -1);
		rr = 選択_実行(false, 0, 0, false);
		if (rr == 99)
		{
			goto label0;
		}
		lint no = 0;
		lint ▲転生Ｘ = 0;
		if (rr == 61)
		{
			no = 1;
			▲転生Ｘ = 17;
		}
		if (rr == 62)
		{
			no = 2;
			▲転生Ｘ = 18;
		}
		if (rr == 63)
		{
			no = 3;
			▲転生Ｘ = 19;
		}
		if (rr == 64)
		{
			no = 4;
			▲転生Ｘ = 20;
		}
		if (rr == 65)
		{
			no = 5;
			▲転生Ｘ = 21;
		}
		if (no == 0)
		{
			return 1;
		}
		lint ii = 0;
		lint aa = 0;
		ii = Ｃオプション(iic, -1);
		if (ii != 0 && Ｉ種類(ii, -1) == 21)
		{
			aa = 1;
		}
		if (aa == 1)
		{
			ト書き();
			'Switch absorbed item (' S(Ｉ固有名前(ＣＦＡ(iic, ▲転生Ｘ, -1)));
			') with currently equipped item (' S(Ｉ名前(Ｃオプション(iic, -1), ""));
			')?' B;
		}
		if (aa == 0)
		{
			ト書き();
			'Destroy absorbed item (' S(Ｉ固有名前(ＣＦＡ(iic, ▲転生Ｘ, -1)));
			')?' B;
		}
		選択初期();
		選択_項目追加(1, "Yes", -1, -1, -1, "", -1);
		選択_項目追加(99, "No", -1, -1, -1, "", -1);
		rr = 選択_実行(false, 0, 0, false);
		if (rr == 99)
		{
			goto label0;
		}
		if (aa == 1)
		{
			ii = Ｃオプション(iic, -1);
			ＣＦＡ(iic, ▲転生Ｘ, Ｉ固有番号(ii, -1));
			ii = Ｃアイテム外す(iic, 21);
			ItemInitialize(ii);
		}
		if (aa == 0)
		{
			ＣＦＡ(iic, ▲転生Ｘ, 0);
		}
		goto label0;
	}
	return 0;
}

void テストマップ呼び出し()
{
	QD[2]++;
	if (QD[1] == 99)
	{
		QD[3] = 1;
		if (QD[2] == 2)
		{
			QD[3] = 2;
		}
	}
	if (QD[1] == 1)
	{
		QD[3] = 11;
		if (QD[2] == 2)
		{
			QD[3] = 101;
		}
		if (QD[2] == 3)
		{
			QD[3] = 102;
		}
		if (QD[2] == 4)
		{
			QD[3] = 103;
		}
		if (QD[2] == 5)
		{
			QD[3] = 104;
		}
		if (QD[2] == 6)
		{
			QD[3] = 105;
		}
		if (QD[2] == 7)
		{
			QD[3] = 106;
		}
	}
	if (QD[1] == 2)
	{
		QD[3] = 12;
		if (QD[2] == 2)
		{
			QD[3] = 13;
		}
		if (QD[2] == 3)
		{
			QD[3] = 121;
		}
		if (QD[2] == 4)
		{
			QD[3] = 122;
		}
		if (QD[2] == 5)
		{
			QD[3] = 123;
		}
		if (QD[2] == 6)
		{
			QD[3] = 124;
		}
		if (QD[2] == 7)
		{
			QD[3] = 125;
		}
		if (QD[2] == 8)
		{
			QD[3] = 126;
		}
	}
	if (QD[1] == 3)
	{
		QD[3] = 14;
		if (QD[2] == 2)
		{
			QD[3] = 15;
		}
		if (QD[2] == 3)
		{
			QD[3] = 141;
		}
		if (QD[2] == 4)
		{
			QD[3] = 142;
		}
		if (QD[2] == 5)
		{
			QD[3] = 143;
		}
		if (QD[2] == 6)
		{
			QD[3] = 144;
		}
	}
	if (QD[1] == 4)
	{
		QD[3] = 16;
		if (QD[2] == 2)
		{
			QD[3] = 17;
		}
		if (QD[2] == 3)
		{
			QD[3] = 18;
		}
		if (QD[2] == 4)
		{
			QD[3] = 161;
		}
		if (QD[2] == 5)
		{
			QD[3] = 162;
		}
		if (QD[2] == 6)
		{
			QD[3] = 163;
		}
	}
	if (QD[1] == 5)
	{
		QD[3] = 19;
		if (QD[2] == 2)
		{
			QD[3] = 20;
		}
		if (QD[2] == 3)
		{
			QD[3] = 38;
		}
	}
	if (QD[1] == 6)
	{
		QD[3] = 21;
		if (QD[2] == 2)
		{
			QD[3] = 39;
		}
		if (QD[2] == 3)
		{
			QD[3] = 40;
		}
		if (QD[2] == 4)
		{
			QD[3] = 49;
		}
	}
	if (QD[1] == 7)
	{
		QD[3] = 22;
		if (QD[2] == 2)
		{
			QD[3] = 23;
		}
		if (QD[2] == 3)
		{
			QD[3] = 41;
		}
	}
	if (QD[1] == 8)
	{
		QD[3] = 42;
		if (QD[2] == 2)
		{
			QD[3] = 43;
		}
		if (QD[2] == 3)
		{
			QD[3] = 44;
		}
		if (QD[2] == 4)
		{
			QD[3] = 45;
		}
		if (QD[2] == 5)
		{
			QD[3] = 46;
		}
	}
	if (QD[1] == 10)
	{
		QD[3] = 24;
		if (QD[2] == 2)
		{
			QD[3] = 25;
		}
		if (QD[2] == 3)
		{
			QD[3] = 26;
		}
	}
	if (QD[1] == 11)
	{
		QD[3] = 31;
	}
	if (QD[1] == 12)
	{
		QD[3] = 32;
		if (QD[2] == 2)
		{
			QD[3] = 33;
		}
		if (QD[2] == 3)
		{
			QD[3] = 34;
		}
		if (QD[2] == 4)
		{
			QD[3] = 50;
		}
		if (QD[2] == 5)
		{
			QD[3] = 51;
		}
		if (QD[2] == 6)
		{
			QD[3] = 52;
		}
		if (QD[2] == 7)
		{
			QD[3] = 53;
		}
	}
	if (QD[1] == 13)
	{
		QD[3] = 27;
		if (QD[2] == 2)
		{
			QD[3] = 28;
		}
		if (QD[2] == 3)
		{
			QD[3] = 29;
		}
		if (QD[2] == 4)
		{
			QD[3] = 30;
		}
	}
	if (QD[1] == 14)
	{
		QD[3] = 35;
	}
	if (QD[1] == 15)
	{
		QD[3] = 47;
		if (QD[2] == 2)
		{
			QD[3] = 48;
		}
	}
	if (QD[1] == 16)
	{
		QD[3] = 36;
	}
	if (QD[1] == 18)
	{
		QD[3] = 37;
	}
	if (QD[1] == 19)
	{
		QD[3] = 54;
		if (QD[2] == 2)
		{
			QD[3] = 55;
		}
	}
	if (QD[1] >= 1000)
	{
		QD[3] = QD[1] + 1;
		if (QD[2] == 2)
		{
			QD[3] = QD[1] + 2;
		}
		if (QD[2] == 3)
		{
			QD[3] = QD[1] + 101;
		}
		if (QD[2] == 4)
		{
			QD[3] = QD[1] + 102;
		}
		if (QD[2] == 5)
		{
			QD[3] = QD[1] + 201;
		}
		if (QD[2] == 6)
		{
			QD[3] = QD[1] + 202;
		}
		if (QD[2] == 7)
		{
			QD[3] = QD[1] + 203;
		}
		if (QD[2] == 8)
		{
			QD[3] = QD[1] + 204;
		}
		if (QD[2] == 9)
		{
			QD[3] = QD[1] + 301;
		}
		if (QD[2] == 10)
		{
			QD[3] = QD[1] + 302;
		}
	}
	ＳＡＤＶ("マップ番号＝" + string(QD[3]), "　を呼び出します", "");
	LOG_TADA("マップテスト　タイプ＝" + string(QD[1]) + "　ＭＡＰ番号" + string(QD[3]) + "　　カウンター" + string(QD[2]) + "\n");
}

lint 割り込み２／特殊イベント(lint fg)
{
	lint bre = 0;
	if (FA[4] == 1 && クリア確認(67) == 1)
	{
		マチルダ／接触２();
		bre = ボス戦闘処理(50, 0, 0, 0, 350, 323, "");
		if (bre == 2)
		{
			return 2;
		}
		マチルダ／接触２／戦闘後(0);
		FA[4] = 2;
		return 1;
	}
	if (FA[4] == 2 && クリア確認(45) == 1)
	{
		マチルダ／接触３();
		bre = ボス戦闘処理(100, 0, 0, 0, 350, 324, "");
		if (bre == 2)
		{
			return 2;
		}
		マチルダ／接触３／戦闘後();
		FA[4] = 3;
		return 1;
	}
	if (FA[4] == 3 && クリア確認(40) == 1 && クリア確認(78) == 1)
	{
		マチルダ／接触４();
		bre = ボス戦闘処理(200, 0, 325, 0, 0, 0, "");
		if (bre == 2)
		{
			return 2;
		}
		マチルダ／接触４／戦闘後();
		LOG("   Matilda fell prey to Rance, so she dropped to level 1\n");
		LOG("   due to the effects of the Morurun.\n");
		FA[4] = 4;
		return 1;
	}
	if (FA[4] == 4 && クリア確認(63) == 1)
	{
		マチルダ／接触５();
		bre = ボス戦闘処理(100, 0, 326, 0, 0, 0, "");
		if (bre == 2)
		{
			return 2;
		}
		マチルダ／接触５／戦闘後();
		LOG("   Matilda fell prey to Rance (for the second time),\n");
		LOG("   so her level dropped due to the effects of the Morurun.\n");
		FA[4] = 5;
		return 1;
	}
	if (FA[12] == 1 && EV("クレイン／初接触", -2147483648) == false)
	{
		クレイン／初接触();
		return 1;
	}
	if (Ｃ番号取得(36) == 0 && FA[36] >= 5 && EV("ノア／出会い", -2147483648) == false)
	{
		ノア／出会い();
		LOG("   Noah will join the party upon clearing this quest.\n");
		LOG("   She appears after five party members are KOed.\n");
		return 1;
	}
	if (Ｃ番号取得(53) == 0 && (◆iiq == 121 || ◆iiq == 122 || ◆iiq == 123 || ◆iiq == 124) && EV("クマ／出会い", -2147483648) == false && ＰＴＡ総数() == 2)
	{
		クマ／出会い();
		LOG("   Bear will join the party upon clearing this quest.\n");
		LOG("   He appears when the party consists of two or fewer characters.\n");
		return 1;
	}
	if (Ｃ番号取得(30) == 0 && ＰＴＡ有無／固有(53) != 0 && EV("柚美／出会い", -2147483648) == false)
	{
		柚美／出会い();
		MM[77] = 1;
		LOG("   Yuzumi will join the party upon clearing this quest.\n");
		LOG("   She appears when Bear is in the party.\n");
		return 1;
	}
	if (Ｃ番号取得(28) == 0 && EV("ウルザ／出会い", -2147483648) == false && Ｃ有無(42) != 0)
	{
		lint aa = 0;
		if (ＰＴＡ有無／固有(21) != 0)
		{
			aa++;
		}
		if (ＰＴＡ有無／固有(16) != 0)
		{
			aa++;
		}
		if (ＰＴＡ有無／固有(42) != 0)
		{
			aa++;
		}
		if (ＰＴＡ有無／固有(52) != 0)
		{
			aa++;
		}
		if (ＰＴＡ有無／固有(51) != 0)
		{
			aa++;
		}
		if (ＰＴＡ有無／固有(59) != 0)
		{
			aa++;
		}
		if (ＰＴＡ有無／固有(31) != 0)
		{
			aa++;
		}
		if (ＰＴＡ有無／固有(14) != 0)
		{
			aa++;
		}
		if (ＰＴＡ有無／固有(25) != 0)
		{
			aa++;
		}
		if (aa >= 3)
		{
			ウルザ／出会い();
			MM[76] = 1;
			LOG("   Urza will join the party upon clearing this quest.\n");
			LOG("   She appears when three or more Ice Flame members are in the party.\n");
			return 1;
		}
	}
	if (Ｃ番号取得(52) == 0 && Ｑクリア回数(◆iiq, -1) >= 4 && ＰＴＡ有無／固有(42) != 0 && EV("カオル／出会い", -2147483648) == false)
	{
		カオル／出会い();
		マメ知識表示選択(80);
		LOG("   Kaoru will join the party upon clearing this quest.\n");
		LOG("   She appears when Magic is brought four times or more to one quest.\n");
		return 1;
	}
	if (◆プラスキット == 1 && クリア確認(76) == 1 && ◆iiq != 121 && Ｃ番号取得(39) == 0 && FA[186] == 0)
	{
		FA[186] = 1;
		志津香／出会い();
		マメ知識表示選択(59);
		LOG("   Shizuka will join the party upon clearing this quest.\n");
		return 1;
	}
	if (◆プラスキット == 1 && クリア確認(76) == 1 && ◆iiq != 124 && Ｃ番号取得(39) != 0 && Ｃ番号取得(29) == 0 && FA[187] == 0)
	{
		FA[187] = 1;
		マリア／出会い();
		マメ知識表示選択(72);
		LOG("   Maria will join the party upon clearing this quest.\n");
		return 1;
	}
	if (ＰＴＡ有無／固有(23) != 0)
	{
		MM[35] = 1;
		if (◆プラスキット == 1 && EV("クレイン／ＢＭ情報", -2147483648) == false && クリア確認(171) == 1)
		{
			クレイン／ＢＭ情報();
			return 1;
		}
		if (◆プラスキット == 1 && クリア確認(165) == 1 && EV("クレイン／汚染人間情報", -2147483648) == false)
		{
			クレイン／汚染人間情報();
			return 1;
		}
		if (FA[13] == 0)
		{
			クレイン／アンデル情報();
			FA[13] = 1;
			return 1;
		}
		if (EV("クレイン／切り替え１", -2147483648) == false)
		{
			クレイン／切り替え１();
			return 1;
		}
		if (EV("クレイン／カロリア情報", -2147483648) == false && Ｃ番号取得(51) == 0 && クリア確認(20) == 1 && ＰＴＡ有無／固有(68) == 0)
		{
			クレイン／カロリア情報();
			return 1;
		}
		if (EV("クレイン／志津香情報", -2147483648) == false && Ｃ番号取得(39) == 0 && クリア確認(121) == 1)
		{
			クレイン／志津香情報();
			return 1;
		}
		if (EV("クレイン／マリア情報", -2147483648) == false && Ｃ番号取得(29) == 0 && Ｃ番号取得(39) != 0 && クリア確認(124) == 1)
		{
			クレイン／マリア情報();
			return 1;
		}
		if (EV("クレイン／エレノア情報", -2147483648) == false && Ｃ番号取得(10) == 0 && ItemInInventory(220, 0, "") == 0 && クリア確認(122) == 1)
		{
			クレイン／エレノア情報();
			return 1;
		}
		if (EV("クレイン／ミル情報", -2147483648) == false && Ｃ番号取得(43) == 0 && ItemInInventory(221, 0, "") == 0 && クリア確認(123) == 1)
		{
			クレイン／ミル情報();
			return 1;
		}
		if (EV("クレイン／ノワール情報", -2147483648) == false && Ｃ番号取得(17) == 0)
		{
			クレイン／ノワール情報();
			return 1;
		}
		if (EV("クレイン／柚美情報", -2147483648) == false && Ｃ番号取得(53) == 0 && Ｑ状態(124, -1) == 2)
		{
			クレイン／柚美情報();
			return 1;
		}
		if (EV("クレイン／カオル情報", -2147483648) == false && Ｃ番号取得(52) == 0 && Ｃ番号取得(42) != 0)
		{
			クレイン／カオル情報();
			return 1;
		}
		if (EV("クレイン／ウルザ情報", -2147483648) == false && Ｃ番号取得(28) == 0 && Ｃ番号取得(52) != 0)
		{
			クレイン／ウルザ情報();
			return 1;
		}
		if (EV("クレイン／切り替え２", -2147483648) == false)
		{
			クレイン／切り替え２();
			return 1;
		}
		if (◆ワールド == 3)
		{
			if (EV("クレイン／カロリア情報", -2147483648) == false && クリア確認(20) == 1)
			{
				クレイン／カロリア情報();
				return 1;
			}
			if (EV("クレイン／志津香情報", -2147483648) == false && クリア確認(121) == 1)
			{
				クレイン／志津香情報();
				return 1;
			}
			if (EV("クレイン／マリア情報", -2147483648) == false && クリア確認(124) == 1)
			{
				クレイン／マリア情報();
				return 1;
			}
			if (EV("クレイン／エレノア情報", -2147483648) == false && クリア確認(122) == 1)
			{
				クレイン／エレノア情報();
				return 1;
			}
			if (EV("クレイン／ミル情報", -2147483648) == false && クリア確認(123) == 1)
			{
				クレイン／ミル情報();
				return 1;
			}
			if (EV("クレイン／ノワール情報", -2147483648) == false)
			{
				クレイン／ノワール情報();
				return 1;
			}
			if (EV("クレイン／柚美情報", -2147483648) == false && Ｑ状態(124, -1) == 2)
			{
				クレイン／柚美情報();
				return 1;
			}
			if (EV("クレイン／カオル情報", -2147483648) == false)
			{
				クレイン／カオル情報();
				return 1;
			}
			if (EV("クレイン／ウルザ情報", -2147483648) == false)
			{
				クレイン／ウルザ情報();
				return 1;
			}
		}
	}
	if (◆プラスキット == 1 && EV("クレイン／ＢＭ情報", -2147483648) == false && Ｑ状態(171, -1) == 2 && Ｑ状態(172, -1) == 2)
	{
		クレイン／ＢＭ情報();
		return 1;
	}
	if (クリア確認(175) == 0 && ◆ランス城オープン != 0 && ◆プラスキット == 1)
	{
		if (EV("ロードリング／接触１", -2147483648) == false)
		{
			ロードリング／接触１();
			ＰＴＡ体力回復("");
			return 1;
		}
		if (EV("ロードリング／接触２", -2147483648) == false)
		{
			ロードリング／接触２();
			ＰＴＡ体力回復("");
			return 1;
		}
		if (EV("ロードリング／接触３", -2147483648) == false && クリア確認(48) == 1)
		{
			ロードリング／接触３();
			ＰＴＡ体力回復("");
			return 1;
		}
		if (EV("ロードリング／接触１０", -2147483648) == false && クリア確認(165) == 1)
		{
			ロードリング／接触１０();
			return 1;
		}
		if (EV("ロードリング／接触１１", -2147483648) == false && クリア確認(165) == 1 && Ｃ有無(35) != 0)
		{
			ロードリング／接触１１();
			return 1;
		}
	}
	int iic = 0;
	if (RAND(5) != 1)
	{
		return 0;
	}
	if (ＰＴＡ有無／固有(50) != 0)
	{
		iic = Ｃ番号取得(50);
	}
	if (iic != 0 && Ｉ固有番号(Ｃオプション(iic, -1), -1) == 270)
	{
		lint ii = Ｃオプション(iic, -1);
		Ｉ削除(ii);
		ii = ItemGeneration(269, 0);
		Ｃオプション(iic, ii);
		ＳＡＤＶ("■Kibako is up to something.", "■ Kibako has gained 2 max health!", "■ Wonder how...");
		FA[323]++;
		Ｃ再計算(iic);
		return 0;
	}
	return 0;
}

lint 割り込み２／キャライベント(lint iic)
{
	int no = Ｃ番号(iic, -1);
	◆iic = iic;
	int ▲従魔 = 0;
	int ▲従魔ＬＶ = 0;
	if (Ｉ種類詳細(Ｃ持ち物(iic, -1), -1) == 20)
	{
		▲従魔 = Ｉ効果(Ｃ持ち物(iic, -1), 1, -1);
		▲従魔ＬＶ = Ｉ効果(Ｃ持ち物(iic, -1), 3, -1);
	}
	if (no == 19)
	{
		if (EV("サチコ／切り替え／父からの手紙", -2147483648) == false && Ｑ状態(63, -1) == 2)
		{
			サチコ／切り替え／父からの手紙();
			return 1;
		}
		if (EV("サチコ／切り替え１", -2147483648) == false)
		{
			サチコ／切り替え１();
			return 1;
		}
		if (EV("サチコ／切り替え２", -2147483648) == false)
		{
			サチコ／切り替え２();
			return 1;
		}
		if (EV("サチコ／切り替え３", -2147483648) == false)
		{
			サチコ／切り替え３();
			return 1;
		}
		if (EV("サチコ／切り替え４", -2147483648) == false)
		{
			サチコ／切り替え４();
			return 1;
		}
	}
	if (no == 12)
	{
		if (EV("リズナ／切り替え１", -2147483648) == false)
		{
			リズナ／切り替え１();
			return 1;
		}
		if (EV("リズナ／切り替え２", -2147483648) == false && Ｃ有無(43) != 0)
		{
			リズナ／切り替え２();
			return 1;
		}
	}
	if (no == 51)
	{
		if (EV("カロリア／切り替え１", -2147483648) == false)
		{
			カロリア／切り替え１();
			return 1;
		}
	}
	if (no == 58)
	{
		if (EV("アタゴ／切り替え１", -2147483648) == false && Ｃ有無(50) != 0)
		{
			アタゴ／切り替え１();
			return 1;
		}
	}
	if (no == 61)
	{
		if (EV("アールコート／切り替え１", -2147483648) == false)
		{
			アールコート／切り替え１();
			return 1;
		}
	}
	if (no == 30)
	{
		if (EV("柚美／切り替え１", -2147483648) == false)
		{
			柚美／切り替え１();
			return 1;
		}
	}
	if (no == 9)
	{
		if (EV("てる／切り替え１", -2147483648) == false)
		{
			てる／切り替え１();
			return 1;
		}
	}
	if (no == 85)
	{
		if (EV("ちぬ／切り替え１", -2147483648) == false && Ｃ有無(50) != 0)
		{
			ちぬ／切り替え１();
			return 1;
		}
	}
	if (no == 86)
	{
		if (EV("きく／切り替え１", -2147483648) == false)
		{
			きく／切り替え１();
			return 1;
		}
	}
	if (no == 21)
	{
		if (EV("ロッキー／切り替え１", -2147483648) == false)
		{
			ロッキー／切り替え１();
			return 1;
		}
	}
	if (no == 11)
	{
		if (EV("ウィチタ／切り替え１", -2147483648) == false)
		{
			ウィチタ／切り替え１();
			return 1;
		}
	}
	if (no == 52)
	{
		if (EV("カオル／切り替え１", -2147483648) == false)
		{
			カオル／切り替え１();
			return 1;
		}
	}
	if (no == 7)
	{
		if (EV("アームズ／切り替え１", -2147483648) == false)
		{
			アームズ／切り替え１();
			return 1;
		}
		if (EV("アームズ／切り替え２", -2147483648) == false)
		{
			アームズ／切り替え２();
			return 1;
		}
	}
	if (no == 72)
	{
		if (EV("リセット／切り替え２", -2147483648) == false)
		{
			リセット／切り替え２();
			return 1;
		}
		if (EV("リセット／切り替え３", -2147483648) == false)
		{
			リセット／切り替え３();
			return 1;
		}
	}
	if (no == 27)
	{
		if (EV("あてな／切り替え１", -2147483648) == false)
		{
			あてな／切り替え１();
			return 1;
		}
		if (EV("あてな／切り替え２", -2147483648) == false)
		{
			あてな／切り替え２();
			return 1;
		}
	}
	if (no == 32)
	{
		if (EV("ジーマ／切り替え１", -2147483648) == false)
		{
			ジーマ／切り替え１();
			return 1;
		}
		if (EV("ジーマ／切り替え２", -2147483648) == false)
		{
			ジーマ／切り替え２();
			return 1;
		}
	}
	if (no == 40)
	{
		if (EV("アテン／切り替え１", -2147483648) == false)
		{
			アテン／切り替え１();
			return 1;
		}
		if (EV("アテン／切り替え２", -2147483648) == false && Ｃ有無(43) != 0)
		{
			アテン／切り替え２();
			return 1;
		}
	}
	if (no == 28)
	{
		if (EV("ウルザ／切り替え１", -2147483648) == false)
		{
			ウルザ／切り替え１();
			return 1;
		}
		if (EV("ウルザ／切り替え２", -2147483648) == false && Ｃ有無(47) != 0)
		{
			ウルザ／切り替え２();
			return 1;
		}
	}
	if (no == 53)
	{
		if (EV("クマ／切り替え１", -2147483648) == false)
		{
			クマ／切り替え１();
			return 1;
		}
		if (EV("クマ／切り替え２", -2147483648) == false)
		{
			クマ／切り替え２();
			return 1;
		}
	}
	if (no == 81)
	{
		if (EV("レベッカ／エリア切り替え１", -2147483648) == false)
		{
			レベッカ／エリア切り替え１();
			return 1;
		}
		if (EV("レベッカ／エリア切り替え２", -2147483648) == false && Ｃ有無(27) != 0)
		{
			レベッカ／エリア切り替え２();
			return 1;
		}
	}
	if (no == 80)
	{
		if (EV("キサラ／エリア切り替え１", -2147483648) == false)
		{
			キサラ／エリア切り替え１();
			return 1;
		}
		if (EV("キサラ／エリア切り替え２", -2147483648) == false)
		{
			キサラ／エリア切り替え２();
			return 1;
		}
	}
	if (no == 22)
	{
		if (FA[5] == 0)
		{
			if (EV("鈴女／切り替え１", -2147483648) == false)
			{
				鈴女／切り替え１();
				return 1;
			}
			if (EV("鈴女／切り替え２", -2147483648) == false)
			{
				鈴女／切り替え２();
				return 1;
			}
			if (EV("鈴女／切り替え３", -2147483648) == false)
			{
				鈴女／切り替え３();
				return 1;
			}
		}
		if (FA[5] != 0)
		{
			if (EV("鈴女／切り替え１１", -2147483648) == false)
			{
				鈴女／切り替え１１();
				return 1;
			}
			if (EV("鈴女／切り替え１２", -2147483648) == false)
			{
				鈴女／切り替え１２();
				return 1;
			}
		}
	}
	if (no == 55 && EV("コパンドン／エロ", -2147483648) == false)
	{
		if (EV("コパンドン／切り替え１", -2147483648) == false)
		{
			コパンドン／切り替え１();
			return 1;
		}
		if (EV("コパンドン／切り替え２", -2147483648) == false)
		{
			コパンドン／切り替え２();
			return 1;
		}
	}
	if (no == 24)
	{
		if (EV("かなみ／切り替え１", -2147483648) == false)
		{
			かなみ／切り替え１();
			return 1;
		}
		if (EV("かなみ／切り替え２", -2147483648) == false)
		{
			かなみ／切り替え２();
			return 1;
		}
	}
	if (no == 62)
	{
		if (EV("オノハ／切り替え１", -2147483648) == false)
		{
			オノハ／切り替え１();
			return 1;
		}
		if (EV("オノハ／切り替え２", -2147483648) == false)
		{
			オノハ／切り替え２();
			return 1;
		}
		if (EV("オノハ／切り替え３", -2147483648) == false)
		{
			オノハ／切り替え３();
			return 1;
		}
		if (EV("オノハ／切り替え４", -2147483648) == false)
		{
			オノハ／切り替え４();
			return 1;
		}
	}
	if (no == 41)
	{
		if (EV("カパーラ／切り替え１", -2147483648) == false)
		{
			カパーラ／切り替え１();
			return 1;
		}
		if (EV("カパーラ／切り替え２", -2147483648) == false)
		{
			カパーラ／切り替え２();
			return 1;
		}
	}
	if (no == 45)
	{
		if (EV("マホコ／切り替え１", -2147483648) == false && Ｃ有無(20) != 0)
		{
			マホコ／切り替え１();
			return 1;
		}
		if (EV("マホコ／切り替え２", -2147483648) == false)
		{
			マホコ／切り替え２();
			return 1;
		}
	}
	if (no == 33)
	{
		if (EV("クルックー／切り替え１", -2147483648) == false)
		{
			クルックー／切り替え１();
			LOG("・Memo: Crook's Church Work\n");
			LOG("   Collecting Balance Breakers\n");
			LOG("   Collected the [Wailing Ring].\n");
			LOG("   A ring with a fearful power to make everything\n");
			LOG("   its wearer comes into contact with rot.\n");
			LOG("   Cannot be removed after it's put on.\n");
			return 1;
		}
		if (EV("クルックー／切り替え２", -2147483648) == false)
		{
			クルックー／切り替え２();
			return 1;
		}
		if (EV("クルックー／切り替え３", -2147483648) == false)
		{
			クルックー／切り替え３();
			return 1;
		}
		if (EV("クルックー／切り替え４", -2147483648) == false)
		{
			クルックー／切り替え４();
			LOG("・Memo: Crook's Church Work\n");
			LOG("   Exorcisms, Sending Wandering Souls to Heaven\n");
			return 1;
		}
		if (FA[188] >= 5)
		{
			if (EV("クルックー２／切り替え１", -2147483648) == false)
			{
				クルックー２／切り替え１();
				return 1;
			}
		}
	}
	if (no == 42)
	{
		if (EV("マジック／切り替え１", -2147483648) == false)
		{
			マジック／切り替え１();
			return 1;
		}
		if (EV("マジック／切り替え２", -2147483648) == false)
		{
			マジック／切り替え２();
			return 1;
		}
	}
	if (no == 50)
	{
		if (EV("キバ子／切り替え", -2147483648) == false)
		{
			キバ子／切り替え();
			return 1;
		}
		if (EV("キバ子／切り替え２", -2147483648) == false)
		{
			キバ子／切り替え２();
			return 1;
		}
		if (EV("キバ子／切り替え３", -2147483648) == false)
		{
			キバ子／切り替え３();
			return 1;
		}
	}
	if (no == 20)
	{
		if (EV("香姫／切り替え１", -2147483648) == false)
		{
			香姫／切り替え１();
			return 1;
		}
		if (EV("香姫／切り替え２", -2147483648) == false)
		{
			香姫／切り替え２();
			return 1;
		}
	}
	if (no == 15)
	{
		lint iic2 = Ｃ番号取得(6);
		if (EV("ユラン／切り替え１", -2147483648) == false && iic2 != 0 && ＣＬＶ(iic, -1) >= ＣＬＶ(iic2, -1))
		{
			ユラン／切り替え１();
			return 1;
		}
		if (EV("ユラン／切り替え２", -2147483648) == false && ＣＬＶ(iic, -1) >= 40)
		{
			ユラン／切り替え２();
			ＳＡＤＶ("■Yulan Mirage", "■Her future has been rewritten.", "");
			return 1;
		}
	}
	if (no == 3)
	{
		if (EV("アルカネーゼ／切り替え１", -2147483648) == false)
		{
			アルカネーゼ／切り替え１();
			return 1;
		}
		if (EV("アルカネーゼ／切り替え２", -2147483648) == false)
		{
			アルカネーゼ／切り替え２();
			return 1;
		}
		if (EV("アルカネーゼ／切り替え３", -2147483648) == false)
		{
			アルカネーゼ／切り替え３();
			return 1;
		}
		if (EV("アルカネーゼ／切り替え４", -2147483648) == false)
		{
			アルカネーゼ／切り替え４();
			return 1;
		}
	}
	if (no == 26)
	{
		if (EV("イージス／切り替え１", -2147483648) == false)
		{
			イージス／切り替え１();
			return 1;
		}
		if (EV("イージス／切り替え２", -2147483648) == false)
		{
			イージス／切り替え２();
			return 1;
		}
		if (EV("イージス／切り替え３", -2147483648) == false)
		{
			イージス／切り替え３();
			return 1;
		}
	}
	if (no == 4)
	{
		if (EV("謙信／切り替え１", -2147483648) == false)
		{
			謙信／切り替え１();
			return 1;
		}
		if (EV("謙信／切り替え２", -2147483648) == false)
		{
			謙信／切り替え２();
			return 1;
		}
	}
	if (no == 5)
	{
		if (EV("勝子／切り替え１", -2147483648) == false)
		{
			勝子／切り替え１();
			return 1;
		}
	}
	if (no == 38)
	{
		if (EV("虎子／切り替え１", -2147483648) == false)
		{
			虎子／切り替え１();
			return 1;
		}
	}
	if (ＰＴＡ有無／固有(5) != 0 && ＰＴＡ有無／固有(38) != 0)
	{
		if (EV("勝虎／切り替え１", -2147483648) == false)
		{
			勝虎／切り替え１();
			return 1;
		}
	}
	if (no == 39)
	{
		if (EV("志津香／切り替え１", -2147483648) == false)
		{
			志津香／切り替え１();
			return 1;
		}
		if (EV("志津香／切り替え２", -2147483648) == false)
		{
			志津香／切り替え２();
			return 1;
		}
	}
	if (no == 29)
	{
		if (EV("マリア／切り替え１", -2147483648) == false)
		{
			マリア／切り替え１();
			return 1;
		}
	}
	if (no == 10)
	{
		if (EV("エレノア／切り替え１", -2147483648) == false)
		{
			エレノア／切り替え１();
			return 1;
		}
		if (Ｑ状態(149, -1) == 2 && EV("エレノア／切り替え２", -2147483648) == false)
		{
			エレノア／切り替え２();
			return 1;
		}
	}
	if (no == 54)
	{
		if (EV("リア／切り替え１", -2147483648) == false)
		{
			リア／切り替え１();
			return 1;
		}
		if (EV("リア／切り替え２", -2147483648) == false)
		{
			リア／切り替え２();
			return 1;
		}
		if (EV("リア／切り替え３", -2147483648) == false)
		{
			リア／切り替え３();
			return 1;
		}
	}
	if (no == 31)
	{
		if (EV("メガデス／切り替え１", -2147483648) == false && FA[188] >= 2)
		{
			メガデス／切り替え１();
			return 1;
		}
	}
	if (no == 14)
	{
		if (EV("セスナ／切り替え１", -2147483648) == false)
		{
			セスナ／切り替え１();
			return 1;
		}
	}
	if (no == 59)
	{
		if (EV("プリマ／切り替え１", -2147483648) == false)
		{
			プリマ／切り替え１();
			return 1;
		}
	}
	if (no == 6)
	{
		if (EV("チルディ／切り替え１", -2147483648) == false)
		{
			チルディ／切り替え１();
			return 1;
		}
		if (EV("チルディ／切り替え２", -2147483648) == false)
		{
			チルディ／切り替え２();
			return 1;
		}
		int iic2 = Ｃ番号取得(4);
		if (EV("チルディ／切り替え／謙信", -2147483648) == false && Ｃ有無(4) != 0 && 近い数値検査(ＣＬＶ(iic, -1), ＣＬＶ(iic2, -1), 5) == 1)
		{
			チルディ／切り替え／謙信();
			return 1;
		}
		if (EV("チルディ／切り替え４", -2147483648) == false)
		{
			チルディ／切り替え４();
			return 1;
		}
	}
	if (no == 57)
	{
		if (EV("メグ／切り替え１", -2147483648) == false)
		{
			メグ／切り替え１();
			return 1;
		}
		if (EV("メグ／切り替え２", -2147483648) == false)
		{
			メグ／切り替え２();
			return 2;
		}
		if (EV("メグ／切り替え３", -2147483648) == false)
		{
			メグ／切り替え３();
			return 1;
		}
	}
	if (no == 48)
	{
		if (EV("たま／切り替え１", -2147483648) == false)
		{
			Ｃアイテム外す(iic, 11);
			◆割り込みキャラ = iic;
			たま／切り替え１();
			return 1;
		}
	}
	if (no == 56)
	{
		if (EV("フロストバイン／切り替え１", -2147483648) == false)
		{
			フロストバイン／切り替え１();
			return 1;
		}
	}
	if (no == 68)
	{
		if (EV("ビスケッタ／切り替え１", -2147483648) == false)
		{
			ビスケッタ／切り替え１();
			return 1;
		}
		if (EV("ビスケッタ／切り替え２", -2147483648) == false && Ｉ固有番号(Ｃ防具(iic, -1), -1) != 6)
		{
			ビスケッタ／切り替え２();
			return 1;
		}
		if (EV("ビスケッタ／切り替え３", -2147483648) == false && Ｃ転生回数(iic, -1) >= 3)
		{
			ビスケッタ／切り替え３();
			return 1;
		}
	}
	if (no == 67)
	{
		if (EV("ヒカリ／切り替え１", -2147483648) == false)
		{
			ヒカリ／切り替え１();
			return 1;
		}
	}
	if (no == 73)
	{
		if (EV("カフェ／切り替え１", -2147483648) == false)
		{
			カフェ／切り替え１();
			return 1;
		}
	}
	if (no == 70)
	{
		if (EV("キャロリ／切り替え１", -2147483648) == false)
		{
			キャロリ／切り替え１();
			return 1;
		}
	}
	if (no == 71)
	{
		if (EV("サーナキア／切り替え１", -2147483648) == false)
		{
			サーナキア／切り替え１();
			return 1;
		}
		if (EV("サーナキア／切り替え２", -2147483648) == false)
		{
			サーナキア／切り替え２();
			return 1;
		}
		if (EV("サーナキア／切り替え３", -2147483648) == false)
		{
			サーナキア／切り替え３();
			return 1;
		}
	}
	if (no == 47)
	{
		if (EV("マチルダ／切り替え１", -2147483648) == false)
		{
			マチルダ／切り替え１();
			return 1;
		}
		if (EV("マチルダ／切り替え２", -2147483648) == false)
		{
			マチルダ／切り替え２();
			return 1;
		}
		if (EV("マチルダ／切り替え３", -2147483648) == false)
		{
			マチルダ／切り替え３();
			return 1;
		}
	}
	if (no == 34)
	{
		if (EV("マリス／切り替え１", -2147483648) == false)
		{
			マリス／切り替え１();
			return 1;
		}
		if (EV("マリス／切り替え２", -2147483648) == false)
		{
			マリス／切り替え２();
			return 1;
		}
	}
	if (no == 2)
	{
		if (Ｃ性別(iic, -1) == 1 && ＣＦＡ(iic, 8, -1) == 0)
		{
			ＣＦＡ(iic, 8, 1);
			◆ＡＡ = iic;
			メイクキャラ男／切り替え１();
			ト書き();
			顔表示／総合(◆ＡＡ);
			R();
			'←Let\'s calmly evaluate this man.' B;
			選択初期();
			選択_項目追加(1, "He's useful... and harmless.", -1, -1, -1, "", -1);
			選択_項目追加(2, "He seems popular with the ladies.", -1, -1, -1, "", -1);
			選択_項目追加(3, "He's a little interesting. No problem.", -1, -1, -1, "", -1);
			int rr = 選択_実行(false, 0, 0, false);
			if (rr == 1)
			{
				メイクキャラ男／切り替え１／無害();
				ＣＦＡ(iic, 11, 2);
				return 1;
			}
			if (rr == 2)
			{
				メイクキャラ男／切り替え１／美形();
				ＣＦＡ(iic, 11, 1);
				return 1;
			}
			メイクキャラ男／切り替え１／無害();
			ＣＦＡ(iic, 11, 3);
			return 1;
		}
		if (Ｃ性別(iic, -1) == 1 && ＣＦＡ(iic, 9, -1) == 0 && ＣＦＡ(iic, 11, -1) == 1 && ＰＴＡ総数() >= 2)
		{
			ＣＦＡ(iic, 9, 1);
			◆ＡＡ = iic;
			◆ＢＢ = Ｃランダム取得("女");
			if (◆ＢＢ == 0)
			{
				return 1;
			}
			メイクキャラ男／始末();
			メイクキャラ男／始末／勝利();
			ＰＴＡ解除(◆ＡＡ);
			Ｃ削除(◆ＡＡ);
			return 1;
		}
		if (Ｃ性別(iic, -1) == 2 && ＣＦＡ(iic, 8, -1) == 0)
		{
			int rr = 0;
			ＣＦＡ(iic, 8, 1);
			◆ＡＡ = iic;
			キャラメイク女／切り替え１(0);
			ト書き();
			顔表示／総合(iic);
			R();
			'←This chick\'s...' B;
			選択初期();
			選択_項目追加(1, "She's a good, fuckable woman.", -1, -1, -1, "", -1);
			選択_項目追加(2, "Hmm, she's still a bit young.", -1, -1, -1, "", -1);
			選択_項目追加(3, "Not my type. Not even considering it.", -1, -1, -1, "", -1);
			rr = 選択_実行(false, 0, 0, false);
			if (rr == 1)
			{
				ＣＦＡ(iic, 12, 1);
			}
			if (rr == 2)
			{
				ＣＦＡ(iic, 12, 2);
				CharacterSkillAdd(iic, 373, 0);
			}
			if (rr == 3)
			{
				ＣＦＡ(iic, 12, 3);
			}
			ト書き();
			顔表示／総合(iic);
			R();
			'←Wondering about her body, mostly her boobs!' B;
			選択初期();
			選択_項目追加(1, "She's got good tits.", -1, -1, -1, "", -1);
			選択_項目追加(2, "She's small, but that's fine.", -1, -1, -1, "", -1);
			選択_項目追加(3, "Huh? What the heck is this?", -1, -1, -1, "", -1);
			rr = 選択_実行(false, 0, 0, false);
			if (rr == 2)
			{
				ＣＦＡ(iic, 14, 1);
			}
			ト書き();
			顔表示／総合(iic);
			R();
			'←' S(Ｃ短縮名前(◆ＡＡ, ""));
			' thinks of me as...' B;
			選択初期();
			選択_項目追加(1, "She loves me.", -1, -1, -1, "", -1);
			選択_項目追加(2, "She doesn't have any special feelings for me.", -1, -1, -1, "", -1);
			選択_項目追加(3, "She doesn't like me, huh...", -1, -1, -1, "", -1);
			rr = 選択_実行(false, 0, 0, false);
			if (rr == 1)
			{
				ＣＦＡ(iic, 13, 1);
			}
			if (rr == 2)
			{
				ＣＦＡ(iic, 13, 2);
			}
			if (rr == 3)
			{
				ＣＦＡ(iic, 13, 3);
			}
			キャラメイク女／切り替え１／続き();
			return 1;
		}
	}
	if (▲従魔 != 0)
	{
		if (▲従魔 == 114)
		{
			if (▲従魔ＬＶ >= 300 && EV("きゃんきゃん／切り替え１", -2147483648) == false)
			{
				きゃんきゃん／切り替え１();
				return 1;
			}
			if (▲従魔ＬＶ >= 900 && EV("きゃんきゃん／切り替え２", -2147483648) == false)
			{
				きゃんきゃん／切り替え２();
				return 1;
			}
		}
		if (▲従魔 == 113)
		{
			if (▲従魔ＬＶ >= 300 && EV("チハ／切り替え１", -2147483648) == false)
			{
				チハ／切り替え１();
				return 1;
			}
			if (▲従魔ＬＶ >= 900 && EV("チハ／切り替え２", -2147483648) == false)
			{
				チハ／切り替え２();
				return 1;
			}
		}
		if (▲従魔 == 115)
		{
			if (▲従魔ＬＶ >= 300 && EV("やもりん／切り替え１", -2147483648) == false)
			{
				やもりん／切り替え１();
				return 1;
			}
			if (▲従魔ＬＶ >= 900 && EV("やもりん／切り替え２", -2147483648) == false)
			{
				やもりん／切り替え２();
				return 1;
			}
		}
		if (▲従魔 == 116)
		{
			if (▲従魔ＬＶ >= 300 && EV("マジスコ／切り替え１", -2147483648) == false)
			{
				マジスコ／切り替え１();
				return 1;
			}
			if (▲従魔ＬＶ >= 900 && EV("マジスコ／切り替え２", -2147483648) == false)
			{
				マジスコ／切り替え２();
				return 1;
			}
		}
		if (▲従魔 == 117)
		{
			if (▲従魔ＬＶ >= 300 && EV("クラーケン／切り替え１", -2147483648) == false)
			{
				クラーケン／切り替え１();
				return 1;
			}
			if (▲従魔ＬＶ >= 900 && EV("クラーケン／切り替え２", -2147483648) == false)
			{
				クラーケン／切り替え２();
				return 1;
			}
		}
		if (▲従魔 == 118)
		{
			if (▲従魔ＬＶ >= 300 && EV("カニちゃん／切り替え１", -2147483648) == false)
			{
				カニちゃん／切り替え１();
				return 1;
			}
			if (▲従魔ＬＶ >= 900 && EV("カニちゃん／切り替え２", -2147483648) == false)
			{
				カニちゃん／切り替え２();
				return 1;
			}
		}
		if (▲従魔 == 119)
		{
			if (▲従魔ＬＶ >= 300 && EV("ちゃぷちゃぷ／切り替え１", -2147483648) == false)
			{
				ちゃぷちゃぷ／切り替え１();
				return 1;
			}
			if (▲従魔ＬＶ >= 900 && EV("ちゃぷちゃぷ／切り替え２", -2147483648) == false)
			{
				ちゃぷちゃぷ／切り替え２();
				return 1;
			}
		}
		if (▲従魔 == 120)
		{
			if (▲従魔ＬＶ >= 300 && EV("かえる女／切り替え１", -2147483648) == false)
			{
				かえる女／切り替え１();
				return 1;
			}
			if (▲従魔ＬＶ >= 900 && EV("かえる女／切り替え２", -2147483648) == false)
			{
				かえる女／切り替え２();
				return 1;
			}
		}
		if (▲従魔 == 121)
		{
			if (▲従魔ＬＶ >= 300 && EV("メイドさん／切り替え１", -2147483648) == false)
			{
				メイドさん／切り替え１();
				return 1;
			}
			if (▲従魔ＬＶ >= 900 && EV("メイドさん／切り替え２", -2147483648) == false)
			{
				メイドさん／切り替え２();
				return 1;
			}
		}
		if (▲従魔 == 122)
		{
			if (▲従魔ＬＶ >= 300 && EV("ざしきわらし／切り替え１", -2147483648) == false)
			{
				ざしきわらし／切り替え１();
				return 1;
			}
			if (▲従魔ＬＶ >= 900 && EV("ざしきわらし／切り替え２", -2147483648) == false)
			{
				ざしきわらし／切り替え２();
				return 1;
			}
		}
		if (▲従魔 == 123)
		{
			if (▲従魔ＬＶ >= 300 && EV("ちょーちん／切り替え１", -2147483648) == false)
			{
				ちょーちん／切り替え１();
				return 1;
			}
			if (▲従魔ＬＶ >= 900 && EV("ちょーちん／切り替え２", -2147483648) == false)
			{
				ちょーちん／切り替え２();
				return 1;
			}
		}
		if (▲従魔 == 124)
		{
			if (▲従魔ＬＶ >= 300 && EV("とっこーちゃん／切り替え１", -2147483648) == false)
			{
				とっこーちゃん／切り替え１();
				return 1;
			}
			if (▲従魔ＬＶ >= 900 && EV("とっこーちゃん／切り替え２", -2147483648) == false)
			{
				とっこーちゃん／切り替え２();
				return 1;
			}
		}
		if (▲従魔 == 125)
		{
			if (▲従魔ＬＶ >= 300 && EV("まじしゃん／切り替え１", -2147483648) == false)
			{
				まじしゃん／切り替え１();
				return 1;
			}
			if (▲従魔ＬＶ >= 900 && EV("まじしゃん／切り替え２", -2147483648) == false)
			{
				まじしゃん／切り替え２();
				return 1;
			}
		}
		if (▲従魔 == 126)
		{
			if (▲従魔ＬＶ >= 300 && EV("ねこまたまた／切り替え１", -2147483648) == false)
			{
				ねこまたまた／切り替え１();
				return 1;
			}
			if (▲従魔ＬＶ >= 900 && EV("ねこまたまた／切り替え２", -2147483648) == false)
			{
				ねこまたまた／切り替え２();
				return 1;
			}
		}
		if (▲従魔 == 127)
		{
			if (▲従魔ＬＶ >= 300 && EV("バルキリー／切り替え１", -2147483648) == false)
			{
				バルキリー／切り替え１();
				return 1;
			}
			if (▲従魔ＬＶ >= 900 && EV("バルキリー／切り替え２", -2147483648) == false)
			{
				バルキリー／切り替え２();
				return 1;
			}
		}
		if (▲従魔 == 128)
		{
			if (▲従魔ＬＶ >= 300 && EV("キャプテンバニラ／切り替え１", -2147483648) == false)
			{
				キャプテンバニラ／切り替え１();
				return 1;
			}
			if (▲従魔ＬＶ >= 900 && EV("キャプテンバニラ／切り替え２", -2147483648) == false)
			{
				キャプテンバニラ／切り替え２();
				return 1;
			}
		}
		if (▲従魔 == 129)
		{
			if (▲従魔ＬＶ >= 300 && EV("バトルノート／切り替え１", -2147483648) == false)
			{
				バトルノート／切り替え１();
				return 1;
			}
			if (▲従魔ＬＶ >= 900 && EV("バトルノート／切り替え２", -2147483648) == false)
			{
				バトルノート／切り替え２();
				return 1;
			}
		}
	}
	◆割り込みキャラ = 0;
	return 0;
}

lint 割り込み２／転移後特殊(int fg)
{
	lint iic = 0;
	if (RAND(8) == 1)
	{
		int loop = 0;
		for (loop = 1; loop < 6; ++loop)
		{
			if (PTA[loop] != 0 && CharacterSkillPoints(PTA[loop], -1) >= 40 && Ｃ番号(PTA[loop], -1) != 1)
			{
				◆ＡＡ = PTA[loop];
				汎用／迷宮内でスキルポイント();
				return 1;
			}
		}
	}
	iic = Ｃ番号取得(1);
	if (FA[154] == 1 && ＰＴＡ有無(iic) != 0 && ◆クエスト戦闘回数 >= 10 && FA[96] / 10 > FA[182] && Ｃ体内特殊アイテムの取得枠の有無(iic) == 1 && 体内吸収可能な特殊の保持を確認(iic) == 1)
	{
		FA[182]++;
		◆ＡＡ = Ｃオプション(iic, -1);
		if (EV("ランス／迷宮で転ける／初", -2147483648) == false)
		{
			ランス／迷宮で転ける／初();
		}
		else
		{
			ランス／迷宮で転ける／汎用();
		}
		advon();
		セット表示(0, 0, 0, 0);
		ト書き();
		'The Abstinence Morurun curse activates.' R;
		S(Ｃ短縮名前(iic, ""));
		'\'s equipped [' S(Ｉ名前(Ｃオプション(iic, -1), ""));
		'] disappeared and its effect was absorbed into Rance.' AA;
		if (Ｃ体内特殊アイテムの取得枠の有無(iic) == 0)
		{
			'■Special item explanation' R;
			'5 special items have already been absorbed.' R;
			'If the next item is of a higher rank it will replace a previously absorbed item\'s effect.' AA;
		}
		advoff();
		lint ii = Ｃオプション(iic, -1);
		Ｃ体内特殊アイテムの取得処理(iic, ii);
		ii = Ｃアイテム外す(iic, 21);
		ItemInitialize(ii);
		return 1;
	}
	iic = ＰＴＡ＿ItemInInventory(335);
	if (iic != 0)
	{
		if (ＣＬＶ(iic, -1) == ＣＬＶ最大(iic, -1) && ＣＬＶ最大(iic, -1) != 999)
		{
			ＣＬＶ最大(iic, ＣＬＶ最大(iic, -1) + 1);
			ＣＥＸＰ(iic, 0);
			advon();
			セット表示(0, gＭ, 0, 0);
			if (Ｃ立ち絵ＣＧ(iic, -1) != 0)
			{
				立ち絵表示(Ｃ立ち絵ＣＧ(iic, -1), 1, 200);
			}
			セリフ／総合(iic);
			'"..."' A;
			ト書き();
			S(Ｃ名前(iic, ""));
			'\'s bloomers shined voluptuously.' A;
			'■ ' S(Ｃ名前(iic, ""));
			'\'s talent cap rose.' R;
			'■ ' NH(ＣＬＶ最大(iic, -1) - 1, 0, 0);
			' → ' NH(ＣＬＶ最大(iic, -1), 0, 0);
			R();
			'■ ' R;
			'■ The bloomers\' mysterious power activated.' A;
			LOG("   %s   Talent cap up due to abnormal bloomers.\n" % Ｃ名前(iic, ""));
			advoff();
		}
	}
	return 0;
}

lint 割り込み２／戦闘後(lint fg)
{
	lint iic = 0;
	if (ＰＴＡ有無／固有(40) != 0 && ＰＴＡ総数() != 1)
	{
		FA[317]++;
		if (RAND(5) == 1)
		{
			アテン／引きこもり();
			ＰＴＡ解除(Ｃ番号取得(40));
			Ｒ８システム情報更新(2);
			FA[115]++;
			if (FA[318] < FA[317])
			{
				FA[318] = FA[317];
			}
			LOG("・Event (Aten Gnu's Go Home)   Total occurrences: %s times\n" % string3(FA[115]));
			LOG("・Participated in %s battles this time (Record for most effort put in: %s times)\n" % string3(FA[317]) % string3(FA[318]));
			FA[317] = 0;
			return 1;
		}
	}
	iic = ＰＴＡ＿ItemInInventory(209);
	if (iic != 0 && ＰＴＡ総数() != 1)
	{
		ＳＡＤＶ(Ｃ名前(iic, "") + " went home.", "", "");
		ＰＴＡ解除(iic);
		Ｒ８システム情報更新(2);
		return 1;
	}
	if (◆iiq != 221 && ◆iiq != 222 && ◆iiq != 223 && ◆iiq != 224)
	{
		if (Ｃ番号取得(44) == 0 && FA[37] >= 3 && EV("エミ／出会い", -2147483648) == false)
		{
			エミ／出会い();
			MM[78] = 1;
			return 1;
		}
	}
	return 0;
}

int 割り込み２(int fg)
{
	int iic = 0;
	int bre = 0;
	int aa = 0;
	int re = 0;
	既読スキップモード解除();
	オートモード解除();
	lint 記憶（◆イベント表示無し） = 0;
	記憶（◆イベント表示無し） = ◆イベント表示無し;
	◆イベント表示無し = 0;
	lint ▲発生禁止 = 0;
	if (◆ＭＡＰ基礎型 == 4)
	{
		▲発生禁止 = 1;
	}
	if (◆ＭＡＰ基礎型 == 3)
	{
		▲発生禁止 = 1;
	}
	if (◆ＭＡＰ基礎型 == 9)
	{
		▲発生禁止 = 1;
	}
	if (◆ＭＡＰ基礎型 == 13)
	{
		▲発生禁止 = 1;
	}
	if (◆ＭＡＰ基礎型 == 10)
	{
		▲発生禁止 = 1;
	}
	if (◆ＭＡＰ基礎型 == 11)
	{
		▲発生禁止 = 1;
	}
	if (◆iiq == 192)
	{
		▲発生禁止 = 1;
	}
	if (◆クエストパーティ編成禁止 == 1)
	{
		▲発生禁止 = 1;
	}
	lint ▲回数 = 3;
	if (FA[303] == 77)
	{
		▲回数 = 1;
	}
	if (fg == 5 && ◆ＢＭＡＰ新規読み込み回数 >= ▲回数 && ▲発生禁止 == 0)
	{
		Ｒ８マップ表示(1, -1, -1, -1);
		◆ＢＭＡＰ新規読み込み回数 = 0;
		if (◆ＢＭＡＰ割り込みイベント／特殊発生済み == 0)
		{
			re = 割り込み２／特殊イベント(fg);
			if (re != 0)
			{
				◆イベント表示無し = 記憶（◆イベント表示無し）;
				◆ＢＭＡＰ割り込みイベント／特殊発生済み = 1;
			}
			if (re == 1)
			{
				return 0;
			}
			if (re == 2)
			{
				return 2;
			}
		}
		iic = ＰＴＡランダム(0, 0);
		if (iic != 0 && ◆割り込みキャラ != iic)
		{
			◆割り込みキャラ = iic;
			re = 割り込み２／キャライベント(iic);
			if (re != 0)
			{
				◆イベント表示無し = 記憶（◆イベント表示無し）;
			}
			if (re == 1)
			{
				return 0;
			}
			if (re == 2)
			{
				return 2;
			}
		}
	}
	if (fg == 5)
	{
		re = 割り込み２／転移後特殊(fg);
		if (re != 0)
		{
			◆イベント表示無し = 記憶（◆イベント表示無し）;
		}
		if (re == 1)
		{
			return 0;
		}
		if (re == 2)
		{
			return 2;
		}
	}
	if (fg == 8)
	{
		re = 割り込み２／戦闘後(fg);
		if (re != 0)
		{
			◆イベント表示無し = 記憶（◆イベント表示無し）;
		}
		if (re == 1)
		{
			return 0;
		}
		if (re == 2)
		{
			return 2;
		}
	}
	◆イベント表示無し = 記憶（◆イベント表示無し）;
	return 0;
}

void Ｔクエストメニュー前()
{
	LOG_TADA("■Ｔクエストメニュー前\n");
	LOG_TADA("　個別バージョン＝" + string(FA[120]) + "\n");
	int iiq = 0;
	if (EV("カリスマ説明", -2147483648) == false && ◆名声ランク >= 1)
	{
		カリスマ説明();
	}
	Ｑ特殊な条件の処理();
	if (クリア確認(177) == 1 && EV("アリス／クリア後／マグナム", -2147483648) == false)
	{
		クエスト再発生(13);
	}
	iiq = 14;
	クエスト再発生(iiq);
	iiq = 147;
	クエスト再発生(iiq);
	iiq = 106;
	クエスト再発生(iiq);
	iiq = 134;
	if (FA[142] == 1 && 漫遊キャラ取得() != 0)
	{
		クエスト再発生(iiq);
		FA[142] = 0;
	}
	iiq = 54;
	if (Ｑ状態(iiq, -1) == 2 && Ｃ番号取得(23) == 0)
	{
		クエスト再発生(iiq);
	}
	if (Ｑ参加回数(66, -1) != 0)
	{
		Ｑ状態(69, 1);
	}
	iiq = 82;
	if (EV("フロスト売店／たまの下着", -2147483648) == true && FA[188] >= 2)
	{
		Ｑ状態(iiq, 1);
	}
	iiq = 129;
	if (ItemInInventory(268, 0, "") != 0)
	{
		if (Ｑ状態(iiq, -1) == 0)
		{
			Ｑ状態(iiq, 1);
		}
		クエスト再発生(iiq);
	}
	iiq = 106;
	if (Ｑ状態(129, -1) == 2 || ◆ワールド >= 2)
	{
		Ｑ状態(iiq, 1);
	}
	if (◆ＤＢ != 0)
	{
	}
	if (◆ｅａｓｙモード == 1)
	{
		◆ワールド = 1;
		クエスト消去(14);
		クエスト消去(147);
		クエスト消去(199);
		クエスト消去(115);
		クエスト消去(131);
		クエスト消去(132);
	}
	if (◆ｅａｓｙモード == 0)
	{
		◆ｅａｓｙ／経験値 = 0;
		◆ｅａｓｙ／お金 = 0;
		◆ｅａｓｙ／マップ = 0;
		◆ｅａｓｙ／ダメージ = 0;
	}
	if (◆プラスキット == 1 && FA[201] == 0)
	{
		クエスト消去(14);
		クエスト消去(147);
		クエスト消去(199);
		クエスト消去(115);
	}
	if (◆ワールド == 1)
	{
		クエスト消去(131);
		クエスト消去(132);
	}
	if (◆ワールド == 2)
	{
		クエスト消去(132);
	}
	if (FA[219] == 0 && Ｑ状態(64, -1) == 2)
	{
		FA[219] = 1;
	}
	if (FA[219] == 1 && Ｑ状態(76, -1) == 2)
	{
		FA[219] = 2;
	}
	if (FA[219] == 2 && Ｑ状態(175, -1) == 2)
	{
		FA[219] = 3;
	}
	if (◆ＤＢ != 0 || ◆ＤＢ／戦闘無し != 0 || ◆ＤＢ／エンカウント無し != 0 || ◆ＤＢ／２倍モード != 0)
	{
		FA[116] = 5;
	}
	◆アイテム生成／特殊条件 = "";
	if (クリア確認(164) == 1 && Ｑ状態(165, -1) == 0)
	{
		LOG("\n");
		LOG("   Things needed to move to Magnum Campaign:\n");
		LOG("   ・Had sex with Crook\n");
		LOG("   ・Shizuka, Maria, Elenoa, and Mill all present\n");
		LOG("   ・Katsuko, Torako, Copandon, Arms all present\n");
		LOG("   ・Tilde, Athena 2.0 both present.\n\n");
	}
}

void Ｑ特殊な条件の処理()
{
	LOG_TADA("＞Ｑ特殊な条件の処理\n");
	lint iiq = 0;
	lint iic = 0;
	iiq = 28;
	Ｑ参加条件Ａ(iiq, 3, 0);
	if (クリア確認(iiq) == 0 && FA[10] == 2)
	{
		Ｑ参加条件Ａ(iiq, 3, 6);
		Ｑ特殊な条件(iiq, "Condition: Doessky's alive");
	}
	iiq = 61;
	Ｑ参加条件Ａ(iiq, 2, 0);
	if (クリア確認(iiq) == 0 && FA[9] == 1)
	{
		Ｑ参加条件Ａ(iiq, 2, 6);
		Ｑ特殊な条件(iiq, "Condition: The zombies are contained");
	}
	iiq = 62;
	Ｑ参加条件Ａ(iiq, 2, 0);
	if (クリア確認(iiq) == 0 && FA[9] == 0)
	{
		Ｑ参加条件Ａ(iiq, 2, 6);
		Ｑ特殊な条件(iiq, "Condition: The zombies are loose");
	}
	iiq = 87;
	Ｑ参加条件Ａ(iiq, 1, 0);
	if (クリア確認(iiq) == 0 && FA[8] == 1)
	{
		Ｑ参加条件Ａ(iiq, 1, 6);
		Ｑ特殊な条件(iiq, "Condition: Flattie's dead");
	}
	iiq = 202;
	クエスト条件／レベル補正(iiq, 1, 54);
	Ｑ参加条件Ａ(iiq, 2, 0);
	if (クリア確認(iiq) == 0 && FA[257] == 2)
	{
		Ｑ参加条件Ａ(iiq, 2, 6);
		Ｑ特殊な条件(iiq, "Condition: The maid ghost exists");
	}
	iiq = 85;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
		Ｑ参加条件Ａ(iiq, 2, 0);
		Ｑ参加条件Ａ(iiq, 3, 0);
	}
	iiq = 153;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
		Ｑ参加条件Ａ(iiq, 2, 0);
		Ｑ参加条件Ａ(iiq, 3, 0);
	}
	iiq = 117;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
		Ｑ参加条件Ａ(iiq, 2, 0);
		Ｑ参加条件Ａ(iiq, 3, 0);
	}
	iiq = 118;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
		Ｑ参加条件Ａ(iiq, 2, 0);
		Ｑ参加条件Ａ(iiq, 3, 0);
	}
	iiq = 119;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
		Ｑ参加条件Ａ(iiq, 2, 0);
		Ｑ参加条件Ａ(iiq, 3, 0);
	}
	iiq = 181;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
		Ｑ参加条件Ａ(iiq, 2, 0);
		Ｑ参加条件Ａ(iiq, 3, 0);
	}
	iiq = 44;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
	}
	iiq = 189;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
	}
	iiq = 28;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 2, 0);
	}
	iiq = 29;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
	}
	iiq = 55;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
	}
	iiq = 35;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
	}
	iiq = 32;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
	}
	iiq = 58;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
	}
	iiq = 59;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
	}
	iiq = 39;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
	}
	iiq = 49;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
	}
	iiq = 148;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
	}
	iiq = 183;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
	}
	iiq = 24;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
	}
	iiq = 43;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
		Ｑ参加条件Ａ(iiq, 2, 0);
	}
	iiq = 185;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
	}
	iiq = 156;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
	}
	iiq = 151;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 2, 0);
	}
	iiq = 149;
	if (クリア確認(iiq) != 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 0);
	}
	クエスト条件／レベル補正(208, 1, 50);
	クエスト条件／レベル補正(209, 1, 33);
	クエスト条件／レベル補正(210, 1, 35);
	クエスト条件／レベル補正(152, 1, 39);
	iiq = 166;
	Ｑ参加条件Ａ(iiq, 1, 0);
	if (クリア確認(iiq) == 0 && Ｉ総数取得／固有番号(209, 0) < 5)
	{
		Ｑ参加条件Ａ(iiq, 1, 6);
		Ｑ特殊な条件(iiq, "Condition: Over five soul shackles in possession");
	}
	iiq = 171;
	Ｑ参加条件Ａ(iiq, 2, 0);
	if (クリア確認(iiq) == 0 && Ｃ転生回数(Ｃ番号取得(33), -1) == 0)
	{
		Ｑ参加条件Ａ(iiq, 2, 6);
		Ｑ特殊な条件(iiq, "Condition: Fucked Crook");
	}
	iiq = 197;
	Ｑ参加条件Ａ(iiq, 1, 0);
	if (クリア確認(iiq) == 0 && FA[181] == 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 6);
		Ｑ特殊な条件(iiq, "Condition: Pastel's kidnapped");
	}
	iiq = 198;
	Ｑ参加条件Ａ(iiq, 1, 0);
	if (クリア確認(iiq) == 0 && FA[181] == 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 6);
		Ｑ特殊な条件(iiq, "Condition: Pastel's kidnapped");
	}
	iiq = 177;
	Ｑ参加条件Ａ(iiq, 1, 0);
	if (クリア確認(iiq) == 0 && FA[181] == 0)
	{
		Ｑ参加条件Ａ(iiq, 1, 6);
		Ｑ特殊な条件(iiq, "Condition: Pastel's kidnapped");
	}
	iiq = 147;
	int startFloor = 0;
	int endFloor = 0;
	int mFloor = 0;
	startFloor = FA[224] * 10 - 9;
	endFloor = FA[224] * 10;
	Ｑ説明文(iiq, 1, "It's a huge dungeon, said to be the largest in the world.");
	Ｑ説明文(iiq, 2, "%s Stratum (%dF~B%dF)" % Numbereth(FA[224]) % startFloor % endFloor);
	Ｑ説明文(iiq, 3, "");
	Ｑ説明文(iiq, 4, "※Feel free to challenge it");
	Ｑ説明文(iiq, 5, "※It will be around forever");
}

void クエスト条件／レベル補正(lint iiq, lint no, lint c_no)
{
	lint iic = Ｃ番号取得(c_no);
	if (発生確認(iiq) == 0)
	{
		return;
	}
	if (クリア確認(iiq) == 1)
	{
		Ｑ参加条件Ａ(iiq, no, 0);
		return;
	}
	if (iic == 0)
	{
		return;
	}
	Ｑ[iiq].参加条件Ａ[no] = 4;
	Ｑ[iiq].参加条件Ｂ[no] = c_no;
	Ｑ[iiq].参加条件Ｃ[no] = ■次の転生ＬＶ(iic, 0, "");
}

lint Ｔクエスト開始(int iiq)
{
	◆iiq = iiq;
	int rr = 0;
	int iic = 0;
	int ii = 0;
	int loop = 0;
	int re = 0;
	int aa = 0;
	int ▲割り込み = 0;
	if (EV("アリス／クリア後／マグナム", -2147483648) == false && FA[201] == 1)
	{
		▲割り込み = 1;
	}
	if (iiq != 13 && ▲割り込み == 1)
	{
		アリス／割り込み呼び込み();
		return 1;
	}
	if (Ｉ総数取得(0) >= 2500)
	{
		アリス／アイテムオーバー();
		LOG("・System: Sorry, but there are too many items for the program to handle.\n");
		LOG("・Please get rid of some (throw away or donate) before starting a quest.\n");
		lint item1 = 0;
		lint item2 = 0;
		lint item3 = 0;
		lint item4 = 0;
		アイテム総数確認(item1, item2, item3, item4);
		LOG("・Current Item Data: Equpiment (%s), Vault (%s), Store Products (%s)\n\n" % string3(item1) % string3(item2) % string3(item3));
		return 1;
	}
	クエスト開始時初期化();
	ログ登録Ａ(1);
	◆イベント表示無し = 0;
	Ｔマグナム設置処理(◆iiq, 1);
	ログ／クエスト開始時();
	re = QuestProcessing(8, 0, 0);
	if (re != 0)
	{
		クエスト終了処理(re);
		Ｒ８リザルト画面(re);
		◆iiq = 0;
		return 1;
	}
	return 0;
}

void ログ／クエスト開始時()
{
	lint aa = 0;
	lint vv = 0;
	LOG("\n");
	LOG("■Quest (%s)   Start\n" % Ｑ名前(◆iiq, ""));
	LOG("   Times started (%s)   Times cleared (%s)\n" % string3(Ｑ参加回数(◆iiq, -1)) % string3(Ｑクリア回数(◆iiq, -1)));
	if (◆マグナム最大 != 0)
	{
		LOG("   Battles needed for Magnum Bonus (%s)" % string3(◆マグナム最大));
	}
	LOG("\n");
	if (◆クエストパーティ編成禁止 == 1)
	{
		LOG("   No party switching on this quest.\n");
	}
	if (◆クエストパーティ編成禁止 == 2)
	{
		LOG("   Infinite party switching on this quest.\n");
	}
	if (◆クエストエリア表示禁止 == 1)
	{
		LOG("   Area info will not display on this quest.\n");
	}
	if (Ｑ種類(◆iiq, -1) == 0)
	{
		if (◆ワールド < 2)
		{
			LOG("   Difficulty: %s (Reduced EXP for characters over LV %s)\n" % string3(Ｑ難易度(◆iiq, -1)) % string3(Ｑ難易度(◆iiq, -1) + 6));
		}
		aa = 100 + FA[260] * 40;
		aa = aa - FA[269];
		if (aa < 100)
		{
			aa = 100;
		}
		LOG("   Chances of finding a happy can can (1/%d) including donation bonus of %s\n" % aa % string3(FA[269]));
		aa = 1000;
		if (◆ワールド == 3)
		{
			aa = 500;
		}
		aa = aa - FA[270];
		if (aa < 200)
		{
			aa = 200;
		}
		LOG("   Chances of finding a pocky rock (1/%d) including donation bonus of %s\n" % aa % string3(FA[270]));
		aa = 1000;
		if (◆ワールド == 3)
		{
			aa = 500;
		}
		if (ＣＳ有無／スタメン(vv, 522, 0) != 0)
		{
			aa = 500;
		}
		if (◆ワールド == 3 && ＣＳ有無／スタメン(vv, 522, 0) != 0)
		{
			aa = 400;
		}
		aa = aa - FA[271];
		if (aa < 200)
		{
			aa = 200;
		}
		LOG("   Chances of finding a treasure dango (1/%d) including donation bonus of %s\n" % aa % string3(FA[271]));
		if (FA[265] != 0)
		{
			LOG("   Cheerleader on %s party members (Damage +%s%)\n" % string3(FA[265]) % string3(FA[265]));
		}
		if (FA[266] != 0)
		{
			LOG("   Coach on %s party members (EXP +%s%)\n" % string3(FA[266]) % string3(FA[266]));
		}
		if (◆プラスキット == 1 && EV("クレイン／ＢＭ情報", -2147483648) == false && Ｑ状態(171, -1) == 2 && Ｑ状態(172, -1) == 2)
		{
			LOG("   Hint: Take Crane along to pick up some hot gossip.\n");
		}
	}
	if (◆iiq == 28)
	{
		LOG("   You can do it, Sachiko! Protect the geezer!\n");
	}
	if (◆iiq == 77)
	{
		if (FA[51] != 0)
		{
			LOG("   Floor-skipping devices can be used up to Floor %s.\n" % string3(FA[51]));
		}
	}
	if (◆iiq == 192)
	{
		LOG("   No female party members allowed (besides Crook).\n");
	}
	if (◆iiq == 135)
	{
		LOG("   Exception: No EXP\n");
		LOG("   Exception: No party switching in battle\n");
	}
	if (◆iiq == 177 && FA[261] != 0)
	{
		LOG("   Highest floor reached: %d\n" % FA[261]);
	}
	if (◆iiq == 182)
	{
		LOG("   Be careful using flame magic or you'll cause an avalanche.\n");
	}
	if (◆iiq == 140)
	{
		LOG("   Targets: Karma, Onoha, Mill, Kouhime\n");
	}
}

void クエスト開始時初期化()
{
	int rr = 0;
	int iic = 0;
	int ii = 0;
	int loop = 0;
	int re = 0;
	int aa = 0;
	int iics = 0;
	LOG_TADA("\n■クエスト開始時初期化\n");
	Ｑ参加回数(◆iiq, Ｑ参加回数(◆iiq, -1) + 1);
	LOG_TADA("　　参加回数＝" + string(Ｑ参加回数(◆iiq, -1)) + "\n");
	FA[276]++;
	FA[265] = 0;
	FA[266] = 0;
	FA[267] = 0;
	for (ii = 1; ii < 3001; ++ii)
	{
		if (Ｉ存在(ii, -1) == 8)
		{
			ItemInitialize(ii);
		}
		if (Ｉ存在(ii, -1) == 9)
		{
			ItemInitialize(ii);
		}
	}
	for (iic = 20; iic < 201; ++iic)
	{
		if (Ｃ登録状態(iic, -1) == 1 || Ｃ登録状態(iic, -1) == 2 || Ｃ登録状態(iic, -1) == 4)
		{
			Ｃ宝箱解除回数(iic, 0);
			Ｃトラップ解除回数(iic, 0);
			Ｃハニージッポ回数(iic, 0);
			ＣＦＡ(iic, 30, 0);
			if (ＣＳ有無(iic, 558, 0) != 0)
			{
				FA[265]++;
			}
			if (ＣＳ有無(iic, 559, 0) != 0)
			{
				FA[266]++;
			}
		}
	}
	for (loop = 1; loop < 17; ++loop)
	{
		Ｍ初期化(loop);
	}
	エンカウント再計算("");
	エンカウント中身登録(0, 0, 0, 0, 0);
	gＭ = 5631;
	◆クエストＧＯＬＤ = 10;
	for (loop = 1; loop < 5; ++loop)
	{
		◆クエストボーナス有無[loop] = 0;
		◆クエストボーナス[loop] = 0;
		◆クエストボーナス最大[loop] = 0;
	}
	◆ＸＸ = 0;
	◆ＹＹ = 0;
	◆キャラ位置 = 0;
	◆ＭＡＰ実装 = 0;
	◆クエスト進行率 = 0;
	◆クエスト戦闘回数 = 0;
	◆クエスト戦闘回数／ＭＡＰ内 = 0;
	◆クエスト戦闘勝利回数／配置敵 = 0;
	◆クエストボーン接触 = 0;
	if (Ｑ状態(66, -1) != 2)
	{
		◆クエストボーン接触 = 1;
	}
	◆クエスト冒険者接触 = 0;
	◆クエスト鑑定料 = 50;
	◆クエスト名声 = Ｑ取得名声値(◆iiq, -1);
	◆クエストＥＸＰ合計 = 0;
	◆クエストＥＸＰボーナス = 0;
	if (Ｑクリア回数(◆iiq, -1) != 0)
	{
		◆クエストＥＸＰボーナス = Ｑクリア回数(◆iiq, -1) * 5;
		if (◆クエストＥＸＰボーナス >= 20)
		{
			◆クエストＥＸＰボーナス = 20;
		}
	}
	◆クエストボーナス物無し = 0;
	◆ＢＭＡＰ新規読み込み回数 = 0;
	◆ＢＭＡＰ割り込みイベント／特殊発生済み = 0;
	◆クエストクリアフラグ = 0;
	◆クエストパーティ編成禁止 = 0;
	◆クエストエリア表示禁止 = 0;
	◆クエストチート = 0;
	◆転移禁止／北 = 0;
	◆転移禁止／南 = 0;
	◆転移禁止／東 = 0;
	◆転移禁止／西 = 0;
	◆マグナム最大 = 0;
	◆マグナム = 0;
	◆宝箱中身タイプ = 0;
	◆ＭＡＰ名前 = "　";
	FA[35] = 0;
	FA[36] = 0;
	FA[37] = 0;
	FA[38] = 0;
	FA[122] = 0;
	FA[123] = 0;
	FA[124] = 0;
	FA[143] = 0;
	FA[230] = 0;
	FA[145] = 0;
	FA[131] = 0;
	FA[132] = 0;
	FA[133] = 0;
	FA[134] = 0;
	FA[135] = 0;
	FA[136] = 0;
	FA[137] = 0;
	FA[138] = 0;
	FA[139] = 0;
	FA[140] = 0;
	FA[39] = 0;
	FA[186] = 0;
	FA[187] = 0;
	FA[253] = 0;
	FA[348] = 0;
	EV("ノア／出会い", 0);
	EV("エミ／出会い", 0);
	EV("クマ／出会い", 0);
	EV("柚美／出会い", 0);
	EV("ウルザ／出会い", 0);
	EV("メリム／出会い", 0);
	EV("カオル／出会い", 0);
	字速度(-1);
	既読スキップモード解除();
	オートモード解除();
}

lint Ｔマップ割り込み()
{
	LOG_TADA("\n■Ｔマップ割り込み");
	if (◆復帰値 == 19)
	{
		LOG_TADA("　エンカウント（" + string(◆ＸＸ) + "／" + string(◆ＹＹ) + "）");
	}
	if (◆復帰値 == 2)
	{
		LOG_TADA("　ＥＳＣキー（" + string(◆ＸＸ) + "／" + string(◆ＹＹ) + "）");
	}
	if (◆復帰値 == 12)
	{
		LOG_TADA("　接触（" + string(◆ＸＸ) + "／" + string(◆ＹＹ) + "）");
	}
	LOG_TADA(ＭＤ情報文字列(◆ＸＸ, ◆ＹＹ) + "\n");
	lint aa = 0;
	lint rr = 0;
	lint xx = 0;
	lint yy = 0;
	lint ev = 0;
	lint iic = 0;
	lint no = 0;
	int ▲転移後イベント = 0;
	int ▲戦闘後イベント = 0;
	int re = 0;
	int bre = 0;
	int ▲ＡＤＶ = 0;
	◆戻しＸ = 0;
	xx = ◆ＸＸ;
	yy = ◆ＹＹ;
	◆ＥＦ発生／ボーナスＬＶＵＰ = 0;
	◆ＥＦ発生／ボーナス配置敵 = 0;
	FA[146] = 0;
	for (; ; )
	{
		if (◆復帰値 == 29)
		{
			re = 3;
			break;
		}
		if (◆復帰値 == 12 && ＭＤ情報(xx, yy) == 6)
		{
			re = トラップ処理(xx, yy);
			if (re != 88)
			{
				break;
			}
			if (re == 88)
			{
				re = 0;
				◆復帰値 = 19;
			}
		}
		if (◆復帰値 == 19)
		{
			if (◆ＤＢ／エンカウント無し == 1 && system.IsDebugMode() == 1)
			{
				エンカウント再計算("");
				return 0;
			}
			re = QuestProcessing(9, 0, 7);
			if (re != 0)
			{
				break;
			}
			if (◆iiq == 135 && ＰＴＡ５割有無() != 0)
			{
				ハニー２／お断り();
				return 0;
			}
			◆雑魚戦で倒した敵の数 = 0;
			bre = 雑魚戦闘処理(0);
			if (bre == 0)
			{
				break;
			}
			エンカウント再計算("");
			if (bre == 2)
			{
				re = 2;
				break;
			}
			re = QuestProcessing(9, 0, 8);
			if (re != 0)
			{
				break;
			}
			break;
		}
		if (◆復帰値 == 12 && (ＭＤ情報(xx, yy) == 16 || ＭＤ情報(xx, yy) == 17))
		{
			Ｒ８ジングル(1009, false);
			if (ＭＤ情報番号(xx, yy) == 1)
			{
				ＭＤ消し(xx, yy);
				re = QuestProcessing(9, 0, 10);
				break;
			}
			re = QuestProcessing(9, 0, 7);
			if (re != 0)
			{
				break;
			}
			bre = 雑魚戦闘処理(1);
			if (bre == 0)
			{
				break;
			}
			エンカウント再計算("");
			if (bre == 2)
			{
				re = 2;
				break;
			}
			re = QuestProcessing(9, 0, 8);
			if (re != 0)
			{
				break;
			}
			クエストボーナス／配置敵／加算(bre);
			if (bre == 1)
			{
				◆クエスト戦闘勝利回数／配置敵++;
				if ((◆戦闘グループ == 74 || ◆戦闘グループ == 75 || ◆戦闘グループ == 76 || ◆戦闘グループ == 77) && Ｃ番号取得(15) == 0 && Ｑ状態(63, -1) == 2)
				{
					ユラン／出会い();
					FA[54] = 1;
					MM[74] = 1;
				}
			}
			ＭＤ消し(xx, yy);
			break;
		}
		if (◆復帰値 == 12 && ＭＤ情報(xx, yy) == 1)
		{
			TreasureChestProcessing(xx, yy);
			re = QuestProcessing(9, 0, 9);
			break;
		}
		if (◆復帰値 == 12 && ＭＤ情報(xx, yy) == 2)
		{
			RedTreasureChestProcessing(xx, yy);
			re = QuestProcessing(9, 0, 9);
			break;
		}
		if (◆復帰値 == 12 && (ＭＤ情報(xx, yy) == 3 || ＭＤ情報(xx, yy) == 4))
		{
			re = QuestProcessing(9, 0, 11);
			if (re != 0)
			{
				break;
			}
			re = 転移処理(xx, yy);
			if (re == 0)
			{
				re = QuestProcessing(9, 0, 6);
				Ｒ８戻し();
				break;
			}
			re = QuestProcessing(9, 0, 5);
			break;
		}
		if (◆復帰値 == 12 && (ＭＤ情報(xx, yy) == 8 || ＭＤ情報(xx, yy) == 9 || ＭＤ情報(xx, yy) == 10 || ＭＤ情報(xx, yy) == 12 || ＭＤ情報(xx, yy) == 18))
		{
			if (ＭＤ情報(xx, yy) != 12)
			{
				Ｒ８ジングル(402, true);
			}
			re = QuestProcessing(9, イベント処理(xx, yy), 4);
			break;
		}
		if (◆復帰値 == 12 && ＭＤ情報(xx, yy) == 15)
		{
			re = 脱出装置処理(xx, yy);
			break;
		}
		break;
	}
	if (re != 0)
	{
		クエスト終了処理(re);
		Ｒ８リザルト画面(re);
		◆iiq = 0;
		return 1;
	}
	if (◆ＥＦ発生／ボーナスＬＶＵＰ != 0 || ◆ＥＦ発生／ボーナス配置敵 != 0)
	{
		if (◆ＥＦ発生／ボーナスＬＶＵＰ != 0 && ◆ＥＦ発生／ボーナス配置敵 == 0)
		{
			if (◆ＥＦ発生／ボーナスＬＶＵＰ == 1)
			{
				効果_フラッシュ("レベルアップ", 0, 0, 9601);
			}
			if (◆ＥＦ発生／ボーナスＬＶＵＰ == 2)
			{
				効果_フラッシュ("レベル＋１", 0, 0, 9601);
			}
		}
		if (◆ＥＦ発生／ボーナスＬＶＵＰ == 0 && ◆ＥＦ発生／ボーナス配置敵 != 0)
		{
			if (◆ＥＦ発生／ボーナス配置敵 == 1)
			{
				効果_フラッシュ("配置敵撃破", 0, 0, 9601);
			}
			if (◆ＥＦ発生／ボーナス配置敵 == 2)
			{
				効果_フラッシュ("配置敵＋１", 0, 0, 9601);
			}
		}
		if (◆ＥＦ発生／ボーナスＬＶＵＰ != 0 && ◆ＥＦ発生／ボーナス配置敵 != 0)
		{
			if (◆ＥＦ発生／ボーナスＬＶＵＰ == 1 && ◆ＥＦ発生／ボーナス配置敵 == 1)
			{
				効果_フラッシュ("レベル配置敵", 0, 0, 9601);
			}
			if (◆ＥＦ発生／ボーナスＬＶＵＰ == 2 && ◆ＥＦ発生／ボーナス配置敵 == 2)
			{
				効果_フラッシュ("レベル＋１配置敵＋１", 0, 0, 9601);
			}
			if (◆ＥＦ発生／ボーナスＬＶＵＰ == 2 && ◆ＥＦ発生／ボーナス配置敵 == 1)
			{
				効果_フラッシュ("レベル＋１配置敵", 0, 0, 9601);
			}
			if (◆ＥＦ発生／ボーナスＬＶＵＰ == 1 && ◆ＥＦ発生／ボーナス配置敵 == 2)
			{
				効果_フラッシュ("レベル配置敵＋１", 0, 0, 9601);
			}
		}
	}
	return 0;
}

void ＭＤ消し(int xx, int yy)
{
	◆戻しＸ = xx;
	◆戻しＹ = yy;
	◆戻しｔｔ = Ｍ[◆ＢＭＡＰ].maptt[xx][yy];
	◆戻しｔｚ = Ｍ[◆ＢＭＡＰ].maptz[xx][yy];
	◆戻しｔｖ = Ｍ[◆ＢＭＡＰ].maptv[xx][yy];
	◆戻しｎｎ = Ｍ[◆ＢＭＡＰ].mapnn[xx][yy];
	◆戻し置物 = Ｒ８置物番号(xx, yy);
	Ｒ８置物配置(xx, yy, 0, -1);
	Ｍ[◆ＢＭＡＰ].maptt[xx][yy] = 0;
	Ｍ[◆ＢＭＡＰ].maptz[xx][yy] = 0;
	Ｍ[◆ＢＭＡＰ].maptv[xx][yy] = 0;
	Ｍ[◆ＢＭＡＰ].mapnn[xx][yy] = 0;
}

void ＭＤ戻し()
{
	int xx = ◆戻しＸ;
	int yy = ◆戻しＹ;
	if (xx == 0)
	{
		LOG_TADA("ＥＲＲＯＲ　【" + system.GetFuncStackName(0) + "】  ＭＤ消しが呼ばれていません\n");
		return;
	}
	Ｒ８置物配置(xx, yy, ◆戻し置物, -1);
	Ｍ[◆ＢＭＡＰ].maptt[xx][yy] = ◆戻しｔｔ;
	Ｍ[◆ＢＭＡＰ].maptz[xx][yy] = ◆戻しｔｚ;
	Ｍ[◆ＢＭＡＰ].maptv[xx][yy] = ◆戻しｔｖ;
	Ｍ[◆ＢＭＡＰ].mapnn[xx][yy] = ◆戻しｎｎ;
}

int 回復の泉処理(int ▲ＸＸ, int ▲ＹＹ)
{
	LOG("・Activated Recovery Spring   Party's health fully restored.   piroron\n");
	ＰＴＡ体力回復("");
	if (ＰＴＡ有無／固有(70) != 0)
	{
		ＰＴＡスキル回復("基本のみ＋１");
		LOG("・   Since Carolie was there, everyone recovered 1 basic skill use, too.\n");
	}
	効果_フラッシュ("回復の泉", 0, 0, 9601);
	ＭＤ消し(▲ＸＸ, ▲ＹＹ);
	return 0;
}

int 脱出装置処理(int ▲ＸＸ, int ▲ＹＹ)
{
	LOG_TADA("\n＞脱出装置に接触\n");
	ADVON();
	セット表示(0, 0, 0, 4560);
	字速度(0);
	ト書き();
	'Found an escape device.' R;
	'  The party retreats from the' R;
	'  quest with all collected items.' R;
	'  However, the quest will be abandoned.' A;
	選択初期();
	ト書き();
	'Use escape device?' R;
	'  ※Abandon quest (keep items)' R;
	'  ※Escape device disappears either way' B;
	選択_項目追加(1, "Remain", -1, -1, -1, "", -1);
	選択_項目追加(2, "Abandon quest", -1, -1, -1, "", -1);
	int rr = 選択_実行(false, 0, 0, false);
	if (rr == 1)
	{
		字速度(-1);
		ＭＤ消し(▲ＸＸ, ▲ＹＹ);
		return 0;
	}
	ト書き();
	'Used escape device to end quest.' AA;
	ADVOFF();
	字速度(-1);
	効果_フラッシュ("回復の泉", 0, 0, 9601);
	return 4;
}

int 冒険功績処理(int ▲ＸＸ, int ▲ＹＹ)
{
	クエストボーナス／冒険功績／加算();
	LOG("・Obtained Adventure Achievement (#%s)\n" % string3(◆クエストボーナス[1]));
	効果_フラッシュ("冒険功績GET", 0, 0, 9601);
	ＭＤ消し(▲ＸＸ, ▲ＹＹ);
	return 0;
}

int ＥＸＰボーナス処理(int ▲ＸＸ, int ▲ＹＹ)
{
	◆クエストＥＸＰボーナス += 3;
	if (◆クエストＥＸＰボーナス >= 50)
	{
		◆クエストＥＸＰボーナス = 50;
	}
	LOG("・Obtained EXP Bonus (Current bonus: %s)\n" % string3(◆クエストＥＸＰボーナス));
	効果_フラッシュ("経験値GET", 0, 0, 9601);
	Ｒ８置物配置(▲ＸＸ, ▲ＹＹ, 0, -1);
	return 0;
}

int 金拾い処理(int ▲ＸＸ, int ▲ＹＹ)
{
	int gold = RAND(◆クエストＧＯＬＤ * 3);
	LOG_TADA("\n＞お金に接触\n");
	LOG("・Picked up some cash (%s Gold)\n" % string3(gold));
	お金増えた(gold, "");
	効果_フラッシュ("お金GET", 0, 0, 9601);
	Ｒ８置物配置(▲ＸＸ, ▲ＹＹ, 0, -1);
	ＭＤ消し(▲ＸＸ, ▲ＹＹ);
	return 0;
}

int TreasureChestProcessing(int ▲ＸＸ, int ▲ＹＹ)
{
	int ▲固定中身 = Ｍ[◆ＢＭＡＰ].maptz[▲ＸＸ][▲ＹＹ];
	int lank = Ｍ[◆ＢＭＡＰ].maptv[▲ＸＸ][▲ＹＹ];
	int ▲満タンです = 0;
	if (Ｉクエスト倉庫は満杯ですか？() == 1)
	{
		▲満タンです = 1;
	}
	int ▲中身 = 0;
	if (▲満タンです == 0)
	{
		if (▲固定中身 != 0)
		{
			▲中身 = TreasureChestContentGeneration(0, ▲固定中身, lank);
		}
		if (▲固定中身 == 0)
		{
			▲中身 = TreasureChestContentGeneration(0, 0, 0);
		}
	}
	LOG_TADA("＞宝箱接触");
	if (▲固定中身 == 0)
	{
		LOG_TADA("　ランダム（" + 宝箱中身タイプ／文字列(◆宝箱中身タイプ) + "）：");
	}
	if (▲固定中身 != 0)
	{
		LOG_TADA("　固定中身：");
	}
	LOG_TADA(Ｉ名前(▲中身, "") + "（ランク＝" + string(Ｉレアランク(▲中身, -1)) + "）");
	if (Ｉ未確定(▲中身, -1) == 1)
	{
		LOG_TADA("　→中身（" + Ｉ固有名前(Ｉ固有番号(▲中身, -1)) + "）");
	}
	LOG_TADA("\n");
	FA[35]++;
	ADVON();
	壁紙表示(5550, 1, 500);
	ミニイベント表示(4470, 1, 500);
	字速度(0);
	ト書き();
	'  It\'s an unlocked treasure chest.' R;
	R();
	'  Let\'s open it.' AA;
	ミニイベント表示(4480, 1, 500);
	Ｒ８ジングル(452, false);
	if (▲満タンです == 1)
	{
		ト書き();
		'Too bad...' R;
		'      Empty.' AA;
	}
	if (▲満タンです == 0)
	{
		string ▲中身の名前 = Ｉ名前(▲中身, "");
		ト書き();
		'Found ' S(▲中身の名前);
		' inside.' R;
		R();
		'Sending it to storage.' B;
		RegisterItemFromTreasureChest(▲中身);
		if (◆ログ宝箱 != "")
		{
			LOG("・Treasure Chest " + ◆ログ宝箱 + " → " + ▲中身の名前 + "\n");
			◆ログ宝箱 = "";
		}
	}
	ミニイベント表示(0, 0, 0);
	字速度(-1);
	ADVON();
	ＭＤ消し(▲ＸＸ, ▲ＹＹ);
	return 0;
}

int RedTreasureChestProcessing(int ▲ＸＸ, int ▲ＹＹ)
{
	int ▲固定中身 = Ｍ[◆ＢＭＡＰ].maptz[▲ＸＸ][▲ＹＹ];
	int lank = Ｍ[◆ＢＭＡＰ].maptv[▲ＸＸ][▲ＹＹ];
	LOG_TADA("赤宝箱接触");
	FA[35]++;
	if (◆iiq == 61 && FA[35] >= 8 && Ｃ番号取得(18) == 0 && EV("トマト／出会い", -2147483648) == false)
	{
		トマト／出会い();
		LOG("   Tomato will join the party upon clearing this quest.\n");
		LOG("   She appears when you open a bunch of treasure chests.\n");
		ＭＤ消し(▲ＸＸ, ▲ＹＹ);
		MM[48] = 1;
		return 0;
	}
	ADVON();
	壁紙表示(5550, 1, 500);
	ミニイベント表示(4471, 1, 500);
	int ▲宝箱開け者 = 0;
	int 成功確率 = 30;
	int loop = 0;
	int iic = 0;
	int aa = 0;
	for (loop = 1; loop < 6; ++loop)
	{
		iic = PTA[loop];
		if (iic != 0)
		{
			if (Ｃ職業(iic, -1) == 6 && ▲宝箱開け者 == 0 && 成功確率 < 60)
			{
				▲宝箱開け者 = iic;
				成功確率 = 60;
			}
			if (ＣＳ有無／ランク(iic, 210, 1) != 0 && 成功確率 < 80)
			{
				▲宝箱開け者 = iic;
				成功確率 = 80;
			}
			aa = ＣＳ有無／ランク(iic, 265, 0);
			if (aa > Ｃ宝箱解除回数(iic, -1) && 成功確率 < 100)
			{
				▲宝箱開け者 = iic;
				成功確率 = 100;
			}
		}
	}
	if (▲宝箱開け者 == 0)
	{
		▲宝箱開け者 = ＰＴＡランダム(0, 0);
	}
	字速度(0);
	if (成功確率 == 30)
	{
		ト書き();
		顔表示／総合(▲宝箱開け者);
		'  It\'s a trapped treasure chest.' R;
		R();
		'  (30% chance to disarm)' B;
	}
	if (成功確率 == 60)
	{
		ト書き();
		顔表示／総合(▲宝箱開け者);
		'  It\'s a trapped treasure chest.' R;
		R();
		'  (60% chance to disarm)' B;
	}
	if (成功確率 == 80)
	{
		ト書き();
		顔表示／総合(▲宝箱開け者);
		'  It\'s a trapped treasure chest.' R;
		R();
		'  (80% chance to disarm)' R;
		'  Can use a magic key.' B;
	}
	if (成功確率 == 100)
	{
		ト書き();
		顔表示／総合(▲宝箱開け者);
		'  It\'s a trapped treasure chest.' R;
		R();
		'  (100% chance to disarm)' R;
		'  Can use [Treasure chest opening].' B;
	}
	選択初期();
	選択_項目追加(1, "Open", -1, -1, -1, "", -1);
	選択_項目追加(2, "Back away", -1, -1, -1, "", -1);
	int rr = 選択_実行(false, 0, 0, false);
	if (rr == 2)
	{
		ミニイベント表示(0, 0, 0);
		字速度(-1);
		Ｒ８戻し();
		return 0;
	}
	FA[310]++;
	if (▲宝箱開け者 != 0)
	{
		Ｃ宝箱解除回数(▲宝箱開け者, Ｃ宝箱解除回数(▲宝箱開け者, -1) + 1);
	}
	if (ＰＴＡ有無／固有(91) != 0)
	{
		成功確率 = 成功確率 / 2;
	}
	ト書き();
	if (RAND(100) > 成功確率)
	{
		LOG_TADA("　爆発しました　成功確率（" + string(成功確率) + "）\n");
		FA[38]++;
		FA[311]++;
		ミニイベント表示(4040, 1, 500);
		Ｒ８ジングル(419, false);
		'The treasure chest exploded into smithereens.' R;
		R();
		'Too bad.' AA;
		ＰＴＡダメージ("１２％減");
		Ｒ８システム情報更新(2);
		'  The blast assaulted the party.' R;
		'  Took 13% damage.' AA;
		枠消去();
		字速度(-1);
		ＭＤ消し(▲ＸＸ, ▲ＹＹ);
		if (Ｃ番号取得(60) == 0 && EV("メリム／出会い", -2147483648) == false && FA[38] >= 3)
		{
			メリム／出会い();
			LOG("   Merim will join the party upon clearing this quest.\n");
			LOG("   She appears when three or more chests explode in a row.\n");
			マメ知識表示選択(62);
			return 0;
		}
		◆iic = ＰＴＡランダム(0, 0);
		◆ＡＡ = Ｃ番号(◆iic, -1);
		◆ＢＢ = 0;
		if (◆iic == ▲宝箱開け者)
		{
			◆ＢＢ = 1;
		}
		LOG_TADA("ＤＢ　台詞の人：" + Ｃ名前(◆iic, "") + "　開けた人：" + Ｃ名前(▲宝箱開け者, "") + "\n");
		宝箱爆発セリフ／イマーム();
		宝箱爆発セリフ／よーいちろう();
		ADVOFF();
		return 0;
	}
	FA[38] = 0;
	ミニイベント表示(4481, 1, 500);
	Ｒ８ジングル(452, false);
	'(clack)' R;
	R();
	if (成功確率 == 100)
	{
		'The treasure chest opened.' AA;
	}
	if (成功確率 != 100)
	{
		'Wow, you got it open!' AA;
	}
	aa = 1;
	if (Ｉクエスト倉庫は満杯ですか？() == 1)
	{
		aa = 0;
	}
	if (aa == 0)
	{
		ト書き();
		'Too bad...' R;
		'      It was empty.' AA;
	}
	if (aa == 1)
	{
		int ▲中身 = 0;
		if (▲固定中身 != 0)
		{
			▲中身 = TreasureChestContentGeneration(0, ▲固定中身, lank);
		}
		if (▲固定中身 == 0)
		{
			▲中身 = TreasureChestContentGeneration(1, 0, 0);
		}
		if (▲固定中身 == 0)
		{
			LOG_TADA("　ランダム（" + 宝箱中身タイプ／文字列(◆宝箱中身タイプ) + "）：");
		}
		if (▲固定中身 != 0)
		{
			LOG_TADA("　固有：");
		}
		LOG_TADA(Ｉ名前(▲中身, "") + "（ランク＝" + string(Ｉレアランク(▲中身, -1)) + "）");
		if (Ｉ未確定(▲中身, -1) == 1)
		{
			LOG_TADA("　→中身（" + Ｉ固有名前(Ｉ固有番号(▲中身, -1)) + "）");
		}
		LOG_TADA("\n");
		if (▲中身 == 0)
		{
			ト書き();
			'Too bad...' R;
			'      It was empty.' AA;
		}
		if (▲中身 != 0)
		{
			string ▲中身の名前 = Ｉ名前(▲中身, "");
			'Found ' S(▲中身の名前);
			' inside.' R;
			R();
			'Sending it to storage.' B;
			RegisterItemFromTreasureChest(▲中身);
			if (◆ログ宝箱 != "")
			{
				LOG("・Treasure Chest " + ◆ログ宝箱 + " → " + ▲中身の名前 + "\n");
				◆ログ宝箱 = "";
			}
		}
	}
	ミニイベント表示(0, 0, 0);
	字速度(-1);
	ADVON();
	ＭＤ消し(▲ＸＸ, ▲ＹＹ);
	return 0;
}

int TreasureChestContentGeneration(lint fg, lint ▲固定中身, lint ▲ＢＰ)
{
	lint ▲中身 = 0;
	lint ra = 0;
	lint aa = 0;
	lint ▲宝箱からレア物 = 0;
	lint ii = 0;
	lint iic = 0;
	◆ログ宝箱 = "";
	▲中身 = 0;
	lint ▲赤宝箱 = 0;
	if (fg == 1)
	{
		▲赤宝箱 = 1;
	}
	lint ▲敵と戦闘後 = 0;
	if (fg == 2)
	{
		▲敵と戦闘後 = 1;
	}
	lint ▲マグナム宝 = 0;
	if (fg == 3)
	{
		▲マグナム宝 = 1;
	}
	if (▲固定中身 == 346)
	{
		▲固定中身 = 0;
		▲宝箱からレア物 = 1;
	}
	if (▲敵と戦闘後 == 0)
	{
		FA[25]++;
	}
	if (FA[25] > 9999)
	{
		FA[25] = 0;
	}
	if (▲固定中身 == 0 && ▲敵と戦闘後 == 0 && ▲マグナム宝 == 0)
	{
		if (RAND(2) == 1)
		{
			▲ＢＰ = RAND(3);
		}
		if (▲赤宝箱 == 1)
		{
			▲ＢＰ++;
		}
		if (ＣＳ有無／スタメン(iic, 293, 0) != 0)
		{
			▲ＢＰ++;
		}
		if (▲宝箱からレア物 == 1)
		{
			▲ＢＰ += 3;
		}
		if (◆ワールド == 3)
		{
			▲ＢＰ += 2;
		}
		for (; ; )
		{
			if (◆プラスキット == 1 && クリア確認(76) == 1)
			{
				if (ItemInInventory(221, 0, "") == 0 && Ｃ有無(43) == 0)
				{
					▲中身 = 221;
					▲ＢＰ = 0;
					break;
				}
				if (ItemInInventory(220, 0, "") == 0 && Ｃ有無(10) == 0)
				{
					▲中身 = 220;
					▲ＢＰ = 0;
					break;
				}
				if (ItemInInventory(223, 0, "") == 0 && Ｃ有無(25) == 0)
				{
					▲中身 = 223;
					▲ＢＰ = 0;
					break;
				}
			}
			if (◆プラスキット == 1 && クリア確認(194) == 1)
			{
				if (ItemInInventory(222, 0, "") == 0 && Ｃ有無(13) == 0)
				{
					▲中身 = 222;
					▲ＢＰ = 0;
					break;
				}
				if (ItemInInventory(224, 0, "") == 0 && Ｃ有無(46) == 0)
				{
					▲中身 = 224;
					▲ＢＰ = 0;
					break;
				}
				if (ItemInInventory(225, 0, "") == 0 && Ｃ有無(11) == 0)
				{
					▲中身 = 225;
					▲ＢＰ = 0;
					break;
				}
			}
			lint ▲３ボーナス = 0;
			if (◆宝箱中身タイプ == 13 || ◆宝箱中身タイプ == 23 || ◆宝箱中身タイプ == 33)
			{
				▲３ボーナス = 10;
			}
			if (RAND(4) != 1)
			{
				if (ＣＳ有無／スタメン(iic, 523, 1) != 0)
				{
					◆ログ宝箱 = " (Tomato's Weapon and Armor Lover activated)\n";
					▲中身 = 武器防具を選ぶ(▲ＢＰ);
					break;
				}
				if (ＣＳ有無／スタメン(iic, 525, 1) != 0)
				{
					◆ログ宝箱 = " (Tomato's Item Lover activated)\n";
					▲中身 = 持ち物を選ぶ();
					break;
				}
				if (ＣＳ有無／スタメン(iic, 524, 1) != 0)
				{
					◆ログ宝箱 = " (Tomato's Special Item activated)\n";
					▲中身 = 特殊を選ぶ(0);
					if (▲中身 != 0)
					{
						▲ＢＰ = 0;
					}
					break;
				}
			}
			lint ▲レア確率 = 5 + FA[259];
			lint ▲持ち物確率 = 15 + ▲３ボーナス;
			lint ▲特殊確率 = 30 + ▲３ボーナス;
			FA[259] += 2;
			◆ログ宝箱 = " (Rare Item " + string3(▲レア確率) + "%、Item " + string3(▲持ち物確率) + "%、Special Item " + string3(▲特殊確率) + "%、Remainder Weapon/Armor)\n";
			if (確率演算(▲レア確率) == true)
			{
				▲中身 = レアアイテムを選ぶ();
				if (▲中身 != 0)
				{
					▲ＢＰ = 0;
					FA[259] = 0;
					break;
				}
			}
			if (確率演算(▲持ち物確率) == true)
			{
				▲中身 = 持ち物を選ぶ();
				if (▲中身 != 0)
				{
					break;
				}
			}
			if (確率演算(▲特殊確率) == true)
			{
				▲中身 = 特殊を選ぶ(0);
				if (▲中身 != 0)
				{
					▲ＢＰ = 0;
					break;
				}
			}
			▲中身 = 武器防具を選ぶ(▲ＢＰ);
			break;
		}
	}
	if (▲固定中身 == 0 && ▲敵と戦闘後 == 1)
	{
		if (RAND(2) == 1)
		{
			▲ＢＰ = RAND(3);
		}
		if (▲赤宝箱 == 1)
		{
			▲ＢＰ++;
		}
		if (ＣＳ有無／スタメン(iic, 293, 0) != 0)
		{
			▲ＢＰ++;
		}
		if (▲宝箱からレア物 == 1)
		{
			▲ＢＰ += 3;
		}
		if (◆ワールド == 3)
		{
			▲ＢＰ += 2;
		}
		lint ▲持ち物確率 = 30;
		◆ログ宝箱 = " (Item " + string3(▲持ち物確率) + "%、Remainder Weapon/Armor)\n";
		for (; ; )
		{
			if (確率演算(▲持ち物確率) == true)
			{
				▲中身 = 持ち物を選ぶ();
				if (▲中身 != 0)
				{
					break;
				}
			}
			▲中身 = 武器防具を選ぶ(▲ＢＰ);
			break;
		}
	}
	if (▲固定中身 == 0 && ▲マグナム宝 == 1)
	{
		▲ＢＰ = 3 + RAND(5);
		for (; ; )
		{
			if (確率演算(20) == true)
			{
				▲中身 = レアアイテムを選ぶ();
				if (▲中身 != 0)
				{
					▲ＢＰ = 0;
					break;
				}
			}
			if (確率演算(30) == true)
			{
				▲中身 = 特殊を選ぶ(fg);
				if (▲中身 != 0)
				{
					▲ＢＰ = 0;
					break;
				}
			}
			▲中身 = 武器防具を選ぶ(▲ＢＰ);
			break;
		}
	}
	if (▲固定中身 != 0)
	{
		for (; ; )
		{
			if (▲固定中身 == 308)
			{
				◆ログ宝箱 = " (Special Item 100%)\n";
				▲中身 = 特殊を選ぶ(0);
				▲ＢＰ = 0;
				break;
			}
			if (▲固定中身 == 177)
			{
				◆ログ宝箱 = " (Item 100%)\n";
				▲中身 = 持ち物を選ぶ();
				▲ＢＰ = 0;
				break;
			}
			◆ログ宝箱 = " (Guaranteed Contents)\n";
			if (▲固定中身 == 344)
			{
				▲中身 = 344;
			}
			▲中身 = ▲固定中身;
			break;
		}
	}
	if (▲中身 == 0)
	{
		▲中身 = 68;
		▲ＢＰ = 0;
		LOG_TADA("アイテム生成出来なかったので　こんぼう\n");
	}
	if (◆クエストチート == 1)
	{
		▲中身 = 68;
		▲ＢＰ = 0;
	}
	if (▲ＢＰ >= 9)
	{
		▲ＢＰ = 9;
	}
	if (▲中身 != 344)
	{
		ii = ItemGeneration(▲中身, ▲ＢＰ);
		if (ii == 0)
		{
			return 0;
		}
		Ｉ存在(ii, 8);
	}
	if (▲中身 == 344)
	{
		ii = ItemGenerationカスタム("宝箱の中身");
		if (ii == 0)
		{
			return 0;
		}
		Ｉ存在(ii, 8);
	}
	int ▲鑑定済み品 = 0;
	if (▲中身 == 135)
	{
		▲鑑定済み品 = 1;
	}
	if (▲中身 == 68)
	{
		▲鑑定済み品 = 1;
	}
	if (▲中身 == 314)
	{
		▲鑑定済み品 = 1;
	}
	if (▲中身 == 344)
	{
		▲鑑定済み品 = 1;
	}
	if (▲中身 == 209)
	{
		▲鑑定済み品 = 1;
	}
	if (Ｉ種類詳細(ii, -1) == 19)
	{
		▲鑑定済み品 = 1;
	}
	if (Ｉ種類詳細(ii, -1) == 18)
	{
		▲鑑定済み品 = 1;
	}
	if (▲マグナム宝 == 1)
	{
		▲鑑定済み品 = 1;
	}
	if (▲固定中身 != 0 && RAND(3) == 1)
	{
		▲鑑定済み品 = 1;
	}
	if (▲ＢＰ == 0 && RAND(2) == 1)
	{
		▲鑑定済み品 = 1;
	}
	if (ＣＳ番号取得／スタメン(iic, 296, 0) != 0 && RAND(3) != 1)
	{
		▲鑑定済み品 = 1;
	}
	if (ＣＳ番号取得／スタメン(iic, 297, 0) != 0)
	{
		▲鑑定済み品 = 1;
	}
	if (▲鑑定済み品 == 0)
	{
		Ｉ未確定(ii, 1);
		Ｉ名前(ii, "Unidentified item");
		Ｉ実装条件(ii, "");
		Ｉ情報(ii, "?????$You'll need to have it appraised by a pro after the quest.");
		int ▲レア = 0;
		if (Ｉ種類ランク(ii, -1) == 11 || Ｉ種類ランク(ii, -1) == 21 || Ｉ種類ランク(ii, -1) == 31)
		{
			▲レア = 1;
		}
		if (Ｉ種類ランク(ii, -1) == 40 || Ｉ種類ランク(ii, -1) == 41)
		{
			▲レア = 1;
		}
		if (Ｉ種類(ii, -1) == 21 && (Ｉ種類ランク(ii, -1) == 3 || Ｉ種類ランク(ii, -1) == 4))
		{
			▲レア = 1;
		}
		if (Ｉ固有番号(ii, -1) == 304)
		{
			▲レア = 1;
		}
		if (Ｉ固有番号(ii, -1) == 183)
		{
			▲レア = 1;
		}
		if (▲レア == 0)
		{
			if (Ｉ種類(ii, -1) == 1)
			{
				ＩＣＧ番号(ii, 11337);
			}
			if (Ｉ種類(ii, -1) == 11)
			{
				ＩＣＧ番号(ii, 11338);
			}
			if (Ｉ種類(ii, -1) == 17)
			{
				ＩＣＧ番号(ii, 11339);
			}
			if (Ｉ種類(ii, -1) == 21)
			{
				ＩＣＧ番号(ii, 11340);
			}
		}
		if (▲レア == 1)
		{
			if (Ｉ種類(ii, -1) == 1)
			{
				ＩＣＧ番号(ii, 11327);
			}
			if (Ｉ種類(ii, -1) == 11)
			{
				ＩＣＧ番号(ii, 11328);
			}
			if (Ｉ種類(ii, -1) == 17)
			{
				ＩＣＧ番号(ii, 11329);
			}
			if (Ｉ種類(ii, -1) == 21)
			{
				ＩＣＧ番号(ii, 11330);
			}
		}
	}
	return ii;
}

int レアアイテムを選ぶ()
{
	int nni = 0;
	int loop = 0;
	int ▲中身 = 0;
	int ra = 0;
	LOG_TADA("\n　Rare\n");
	for (; ; )
	{
		if (◆プラスキット == 0)
		{
			if (◆ワールド >= 2 && ItemInInventory(309, 0, "") == 0 && RAND(2) == 1)
			{
				▲中身 = 309;
				break;
			}
		}
		if (FA[13] == 1 && ItemInInventory(258, 0, "") == 0 && RAND(3) == 1)
		{
			▲中身 = 258;
			break;
		}
		if (◆iiq != 31 && RAND(2) == 1 && ItemInInventory(226, 0, "") == 0 && Ｃ番号取得(35) == 0)
		{
			▲中身 = 226;
			break;
		}
		if (クリア確認(123) == 1 && RAND(2) == 1 && ItemInInventory(223, 0, "") == 0 && Ｃ有無(25) == 0)
		{
			▲中身 = 223;
			break;
		}
		if (RAND(3) != 1 && FA[188] >= 1 && クリア確認(153) == 0)
		{
			if (ItemInInventory(255, 0, "") == 0)
			{
				▲中身 = 255;
				break;
			}
			if (ItemInInventory(256, 0, "") == 0)
			{
				▲中身 = 256;
				break;
			}
			if (ItemInInventory(257, 0, "") == 0)
			{
				▲中身 = 257;
				break;
			}
		}
		if (EV("フロスト売店／捕獲ロープ", -2147483648) == true && ItemInInventory(186, 7, "") == 0 && RAND(3) == 1)
		{
			▲中身 = 186;
			break;
		}
		if (RAND(3) == 1 && ItemInInventory(305, 0, "") == 0)
		{
			▲中身 = 305;
			break;
		}
		if (RAND(5) == 1 && ItemInInventory(206, 0, "") == 0)
		{
			▲中身 = 206;
			break;
		}
		if (RAND(5) == 1 && ItemInInventory(214, 0, "") == 0)
		{
			▲中身 = 214;
			break;
		}
		if (RAND(5) == 1 && ItemInInventory(318, 0, "") == 0 && ItemInInventory(186, 0, "") != 0)
		{
			▲中身 = 318;
			break;
		}
		if (RAND(3) == 1 && ItemInInventory(170, 0, "") == 0 && Ｃ番号取得(30) != 0)
		{
			▲中身 = 170;
			break;
		}
		if (RAND(8) == 1 && ItemInInventory(319, 0, "") == 0 && ItemInInventory(170, 0, "") != 0)
		{
			▲中身 = 319;
			break;
		}
		if (RAND(15) == 1 && ItemInInventory(183, 0, "") == 0 && ItemInInventory(182, 0, "") != 0)
		{
			▲中身 = 183;
			break;
		}
		if (RAND(20) == 1 && ItemInInventory(336, 0, "") == 0 && Ｑ状態(71, -1) == 2)
		{
			▲中身 = 336;
			break;
		}
		if (RAND(20) == 2 && ItemInInventory(337, 0, "") == 0 && Ｑ状態(71, -1) == 2)
		{
			▲中身 = 337;
			break;
		}
		if (RAND(15) == 1 && ◆ワールド == 3 && ItemInInventory(102, 0, "") == 0)
		{
			▲中身 = 102;
			break;
		}
		if (RAND(15) == 1 && ◆ワールド == 3 && ItemInInventory(3, 0, "") == 0)
		{
			▲中身 = 3;
			break;
		}
		if (RAND(15) == 1 && ◆ワールド == 3 && ItemInInventory(6, 0, "") == 0)
		{
			▲中身 = 6;
			break;
		}
		ra = RAND(4);
		nni = 224;
		if (ra == 1 && ItemInInventory(nni, 0, "") == 0 && Ｃ有無(46) == 0)
		{
			▲中身 = nni;
			break;
		}
		nni = 223;
		if (ra == 2 && ItemInInventory(nni, 0, "") == 0 && Ｃ有無(25) == 0)
		{
			▲中身 = nni;
			break;
		}
		nni = 225;
		if (ra == 3 && ItemInInventory(nni, 0, "") == 0 && Ｃ有無(11) == 0)
		{
			▲中身 = nni;
			break;
		}
		nni = 222;
		if (ra == 4 && ItemInInventory(nni, 0, "") == 0 && Ｃ有無(13) == 0 && Ｑ状態(40, -1) == 2)
		{
			▲中身 = nni;
			break;
		}
		if (RAND(3) == 1)
		{
			nni = 7;
			if (Ｃ有無(54) != 0 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 10;
			if (ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 27;
			if (Ｃ有無(20) != 0 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 70;
			if (Ｃ有無(54) != 0 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 69;
			if (Ｃ有無(55) != 0 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 84;
			if (Ｑ状態(180, -1) == 2 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 100;
			if (Ｑ状態(190, -1) == 2 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 169;
			if (Ｑ状態(179, -1) == 2 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 171;
			if (Ｃ有無(29) != 0 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 2;
			if (Ｃ有無(23) != 0 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 178;
			if (Ｃ有無(23) != 0 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 125;
			if (Ｃ有無(12) != 0 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 165;
			if (Ｃ有無(84) != 0 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 54;
			if (FA[244] != 0 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 24;
			if (FA[242] != 0 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 118;
			if (Ｃ有無(20) != 0 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 131;
			if (Ｃ有無(93) != 0 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 34;
			if (Ｃ有無(93) != 0 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
		}
		if (RAND(500) == 1)
		{
			lint ra = RAND(11);
			nni = 22;
			if (ra == 1 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 40;
			if (ra == 2 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 52;
			if (ra == 3 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 64;
			if (ra == 4 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 83;
			if (ra == 5 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 97;
			if (ra == 6 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 114;
			if (ra == 7 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 129;
			if (ra == 8 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 144;
			if (ra == 9 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 157;
			if (ra == 10 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
			nni = 168;
			if (ra == 11 && ItemInInventory(nni, 0, "") == 0)
			{
				▲中身 = nni;
				break;
			}
		}
		if (FA[201] == 1 && RAND(5) == 1)
		{
			ra = RAND(13);
			if (ra == 1 || ra == 12 || ra == 13)
			{
				▲中身 = 323;
			}
			if (ra == 2)
			{
				▲中身 = 324;
				break;
			}
			if (ra == 3)
			{
				▲中身 = 325;
				break;
			}
			if (ra == 4)
			{
				▲中身 = 326;
				break;
			}
			if (ra == 5)
			{
				▲中身 = 327;
				break;
			}
			if (ra == 6)
			{
				▲中身 = 328;
				break;
			}
			if (ra == 7)
			{
				▲中身 = 329;
				break;
			}
			if (ra == 8)
			{
				▲中身 = 330;
				break;
			}
			if (ra == 9)
			{
				▲中身 = 331;
				break;
			}
			if (ra == 10)
			{
				▲中身 = 332;
				break;
			}
			if (ra == 11)
			{
				▲中身 = 333;
				break;
			}
		}
		▲中身 = 0;
		break;
	}
	if (ItemInInventory(▲中身, 0, "倉庫外も含む") != 0)
	{
		▲中身 = 0;
	}
	if (◆ログ宝箱 != "" && ▲中身 != 0)
	{
		◆ログ宝箱 += "　　　　　";
	}
	if (▲中身 != 0)
	{
		◆ログ宝箱 += "= Rare";
	}
	return ▲中身;
}

int 武器防具を選ぶ(ref lint ▲ランク)
{
	int ▲中身 = 0;
	int ra = 0;
	int aa = ◆宝箱中身タイプ;
	if (aa > 20 && RAND(4) == 1)
	{
		aa -= 10;
		▲ランク += RAND(3);
	}
	LOG_TADA("\n武器防具を選ぶ（" + string(◆宝箱中身タイプ) + "）\n");
	if (◆宝箱中身タイプ == 0)
	{
		lint lv = ＣＬＶ(Ｃ番号取得(1), -1);
		◆宝箱中身タイプ = 13;
		if (lv >= 25)
		{
			◆宝箱中身タイプ = 23;
		}
		if (lv >= 40)
		{
			◆宝箱中身タイプ = 33;
		}
		if (lv >= 50)
		{
			◆宝箱中身タイプ = 40;
		}
		if (lv >= 60)
		{
			◆宝箱中身タイプ = 50;
		}
		aa = ◆宝箱中身タイプ;
	}
	if (aa > 30 && ◆ワールド >= 2 && RAND(2) == 1)
	{
		aa = 50;
	}
	if (aa == 14 || aa == 13)
	{
		ra = RAND(2);
		if (ra == 1)
		{
			aa = 11;
		}
		if (ra == 2)
		{
			aa = 12;
		}
	}
	if (aa == 24 || aa == 23)
	{
		ra = RAND(2);
		if (ra == 1)
		{
			aa = 21;
		}
		if (ra == 2)
		{
			aa = 22;
		}
	}
	if (aa == 34 || aa == 33)
	{
		ra = RAND(2);
		if (ra == 1)
		{
			aa = 31;
		}
		if (ra == 2)
		{
			aa = 32;
		}
	}
	if (aa == 44 || aa == 43)
	{
		aa = 40;
	}
	if (aa == 54 || aa == 53)
	{
		aa = 50;
	}
	int ▲レア確率 = 9;
	FA[28]++;
	▲レア確率 = ▲レア確率 + FA[28];
	lint iic = 0;
	if (ＣＳ有無／スタメン(iic, 293, 0) != 0)
	{
		▲レア確率 += 5;
	}
	if (aa == 11)
	{
		ra = RAND(7);
		if (ra == 1)
		{
			▲中身 = 1;
		}
		if (ra == 2)
		{
			▲中身 = 8;
		}
		if (ra == 3)
		{
			▲中身 = 25;
		}
		if (ra == 4)
		{
			▲中身 = 148;
		}
		if (ra == 5)
		{
			▲中身 = 160;
		}
		if (ra == 6)
		{
			▲中身 = 66;
		}
		if (ra == 7)
		{
			▲中身 = 133;
		}
		if (確率演算(▲レア確率) == true)
		{
			FA[28] = 0;
			ra = RAND(4);
			if (ra == 1)
			{
				▲中身 = 9;
				▲ランク--;
			}
			if (ra == 2)
			{
				▲中身 = 26;
				▲ランク--;
			}
			if (ra == 3)
			{
				▲中身 = 161;
				▲ランク--;
			}
			if (ra == 4)
			{
				▲中身 = 72;
				▲ランク--;
			}
		}
	}
	if (aa == 12)
	{
		ra = RAND(6);
		if (ra == 1)
		{
			▲中身 = 86;
		}
		if (ra == 2)
		{
			▲中身 = 117;
		}
		if (ra == 3)
		{
			▲中身 = 43;
		}
		if (ra == 4)
		{
			▲中身 = 55;
		}
		if (ra == 5)
		{
			▲中身 = 101;
		}
		if (ra == 6)
		{
			▲中身 = 71;
		}
		if (確率演算(▲レア確率) == true)
		{
			FA[28] = 0;
			ra = RAND(4);
			if (ra == 1)
			{
				▲中身 = 87;
				▲ランク--;
			}
			if (ra == 2)
			{
				▲中身 = 119;
				▲ランク--;
			}
			if (ra == 3)
			{
				▲中身 = 103;
				▲ランク--;
			}
			if (ra == 4)
			{
				▲中身 = 11;
				▲ランク--;
			}
		}
	}
	if (aa == 21)
	{
		ra = RAND(5);
		if (ra == 1)
		{
			▲中身 = 14;
		}
		if (ra == 2)
		{
			▲中身 = 30;
		}
		if (ra == 3)
		{
			▲中身 = 151;
			if (◆アイテム補充数[152] != 0 && RAND(2) == 1)
			{
				▲中身 = 152;
			}
		}
		if (ra == 4)
		{
			▲中身 = 163;
		}
		if (ra == 5)
		{
			▲中身 = 137;
			if (◆アイテム補充数[138] != 0 && RAND(2) == 1)
			{
				▲中身 = 138;
			}
		}
		if (確率演算(▲レア確率) == true)
		{
			FA[28] = 0;
			ra = RAND(10);
			if (ra == 1)
			{
				▲中身 = 15;
				▲ランク--;
			}
			if (ra == 2)
			{
				▲中身 = 31;
				▲ランク--;
			}
			if (ra == 3)
			{
				▲中身 = 164;
				▲ランク--;
			}
			if (ra == 4)
			{
				▲中身 = 77;
				▲ランク--;
			}
			if (ra == 5)
			{
				▲中身 = 108;
				▲ランク--;
			}
			if (ra == 6)
			{
				▲中身 = 139;
				▲ランク--;
			}
			if (ra == 7)
			{
				▲中身 = 59;
				▲ランク--;
			}
			if (ra == 8)
			{
				▲中身 = 4;
				▲ランク--;
			}
			if (ra == 9)
			{
				▲中身 = 153;
				▲ランク--;
			}
			if (ra == 10)
			{
				▲中身 = 149;
				▲ランク--;
			}
		}
	}
	if (aa == 22)
	{
		ra = RAND(6);
		if (ra == 1)
		{
			▲中身 = 90;
			if (◆アイテム補充数[91] != 0 && RAND(2) == 1)
			{
				▲中身 = 91;
			}
		}
		if (ra == 2)
		{
			▲中身 = 122;
			if (◆アイテム補充数[123] != 0 && RAND(2) == 1)
			{
				▲中身 = 123;
			}
		}
		if (ra == 3)
		{
			▲中身 = 46;
		}
		if (ra == 4)
		{
			▲中身 = 58;
		}
		if (ra == 5)
		{
			▲中身 = 106;
			if (◆アイテム補充数[107] != 0 && RAND(2) == 1)
			{
				▲中身 = 107;
			}
		}
		if (ra == 6)
		{
			▲中身 = 75;
			if (◆アイテム補充数[76] != 0 && RAND(2) == 1)
			{
				▲中身 = 76;
			}
		}
		if (確率演算(▲レア確率) == true)
		{
			FA[28] = 0;
			ra = RAND(8);
			if (ra == 1)
			{
				▲中身 = 92;
				▲ランク--;
			}
			if (ra == 2)
			{
				▲中身 = 93;
				▲ランク--;
			}
			if (ra == 3)
			{
				▲中身 = 124;
				▲ランク--;
			}
			if (ra == 4)
			{
				▲中身 = 16;
				▲ランク--;
			}
			if (ra == 5)
			{
				▲中身 = 32;
				▲ランク--;
			}
			if (ra == 6)
			{
				▲中身 = 47;
				▲ランク--;
			}
			if (ra == 7)
			{
				▲中身 = 5;
			}
			if (ra == 8)
			{
				▲中身 = 33;
			}
		}
	}
	if (aa == 31)
	{
		ra = RAND(7);
		if (ra == 1)
		{
			▲中身 = 19;
		}
		if (ra == 2)
		{
			▲中身 = 36;
		}
		if (ra == 3)
		{
			▲中身 = 155;
		}
		if (ra == 4)
		{
			▲中身 = 166;
		}
		if (ra == 5)
		{
			▲中身 = 142;
		}
		if (ra == 6)
		{
			▲中身 = 152;
		}
		if (ra == 7)
		{
			▲中身 = 138;
		}
		if (確率演算(▲レア確率) == true)
		{
			FA[28] = 0;
			ra = RAND(5);
			if (ra == 1)
			{
				▲中身 = 20;
				▲ランク--;
			}
			if (ra == 2)
			{
				▲中身 = 38;
				▲ランク--;
			}
			if (ra == 3)
			{
				▲中身 = 51;
				▲ランク--;
			}
			if (ra == 4)
			{
				▲中身 = 62;
				▲ランク--;
			}
			if (ra == 5)
			{
				▲中身 = 4;
				▲ランク--;
			}
		}
	}
	if (aa == 32)
	{
		ra = RAND(10);
		if (ra == 1)
		{
			▲中身 = 95;
		}
		if (ra == 2)
		{
			▲中身 = 127;
		}
		if (ra == 3)
		{
			▲中身 = 50;
		}
		if (ra == 4)
		{
			▲中身 = 61;
		}
		if (ra == 5)
		{
			▲中身 = 111;
		}
		if (ra == 6)
		{
			▲中身 = 81;
		}
		if (ra == 7)
		{
			▲中身 = 91;
		}
		if (ra == 8)
		{
			▲中身 = 123;
		}
		if (ra == 9)
		{
			▲中身 = 107;
		}
		if (ra == 10)
		{
			▲中身 = 76;
		}
		if (確率演算(▲レア確率) == true)
		{
			FA[28] = 0;
			ra = RAND(8);
			if (ra == 1)
			{
				▲中身 = 5;
			}
			if (ra == 2)
			{
				▲中身 = 156;
			}
			if (ra == 3)
			{
				▲中身 = 143;
			}
			if (ra == 4)
			{
				▲中身 = 128;
			}
			if (ra == 5)
			{
				▲中身 = 112;
			}
			if (ra == 6)
			{
				▲中身 = 113;
			}
			if (ra == 7)
			{
				▲中身 = 96;
			}
			if (ra == 8)
			{
				▲中身 = 82;
			}
		}
	}
	if (aa == 40)
	{
		▲ランク += 2;
		ra = RAND(11);
		if (ra == 1)
		{
			▲中身 = 95;
		}
		if (ra == 2)
		{
			▲中身 = 127;
		}
		if (ra == 3)
		{
			▲中身 = 50;
		}
		if (ra == 4)
		{
			▲中身 = 61;
		}
		if (ra == 5)
		{
			▲中身 = 111;
		}
		if (ra == 6)
		{
			▲中身 = 81;
		}
		if (ra == 7)
		{
			▲中身 = 19;
		}
		if (ra == 8)
		{
			▲中身 = 36;
		}
		if (ra == 9)
		{
			▲中身 = 155;
		}
		if (ra == 10)
		{
			▲中身 = 166;
		}
		if (ra == 11)
		{
			▲中身 = 142;
		}
		if (確率演算(▲レア確率) == true)
		{
			FA[28] = 0;
			ra = RAND(11);
			if (ra == 1)
			{
				▲中身 = 156;
			}
			if (ra == 2)
			{
				▲中身 = 143;
			}
			if (ra == 3)
			{
				▲中身 = 128;
			}
			if (ra == 4)
			{
				▲中身 = 112;
			}
			if (ra == 5)
			{
				▲中身 = 113;
			}
			if (ra == 6)
			{
				▲中身 = 96;
			}
			if (ra == 7)
			{
				▲中身 = 82;
			}
			if (ra == 8)
			{
				▲中身 = 20;
			}
			if (ra == 9)
			{
				▲中身 = 38;
			}
			if (ra == 10)
			{
				▲中身 = 51;
			}
			if (ra == 11)
			{
				▲中身 = 62;
			}
		}
	}
	if (aa == 50)
	{
		ra = RAND(36);
		if (ra == 1)
		{
			▲中身 = 19;
		}
		if (ra == 2)
		{
			▲中身 = 21;
		}
		if (ra == 3)
		{
			▲中身 = 20;
		}
		if (ra == 4)
		{
			▲中身 = 36;
		}
		if (ra == 5)
		{
			▲中身 = 41;
		}
		if (ra == 6)
		{
			▲中身 = 37;
		}
		if (ra == 7)
		{
			▲中身 = 39;
		}
		if (ra == 8)
		{
			▲中身 = 50;
		}
		if (ra == 9)
		{
			▲中身 = 53;
		}
		if (ra == 10)
		{
			▲中身 = 51;
		}
		if (ra == 11)
		{
			▲中身 = 61;
		}
		if (ra == 12)
		{
			▲中身 = 63;
		}
		if (ra == 13)
		{
			▲中身 = 62;
		}
		if (ra == 14)
		{
			▲中身 = 81;
		}
		if (ra == 15)
		{
			▲中身 = 85;
		}
		if (ra == 16)
		{
			▲中身 = 82;
		}
		if (ra == 17)
		{
			▲中身 = 95;
		}
		if (ra == 18)
		{
			▲中身 = 96;
		}
		if (ra == 19)
		{
			▲中身 = 98;
		}
		if (ra == 20)
		{
			▲中身 = 99;
		}
		if (ra == 21)
		{
			▲中身 = 111;
		}
		if (ra == 22)
		{
			▲中身 = 115;
		}
		if (ra == 23)
		{
			▲中身 = 112;
		}
		if (ra == 24)
		{
			▲中身 = 113;
		}
		if (ra == 25)
		{
			▲中身 = 127;
		}
		if (ra == 26)
		{
			▲中身 = 130;
		}
		if (ra == 27)
		{
			▲中身 = 128;
		}
		if (ra == 28)
		{
			▲中身 = 142;
		}
		if (ra == 29)
		{
			▲中身 = 145;
		}
		if (ra == 30)
		{
			▲中身 = 143;
		}
		if (ra == 31)
		{
			▲中身 = 155;
		}
		if (ra == 32)
		{
			▲中身 = 158;
		}
		if (ra == 33)
		{
			▲中身 = 156;
		}
		if (ra == 34)
		{
			▲中身 = 166;
		}
		if (ra == 35)
		{
			▲中身 = 166;
		}
		if (ra == 36)
		{
			▲中身 = 167;
		}
	}
	if (▲中身 == 0)
	{
		LOG_TADA("武器防具生成　作れなかったので　こんぼうにします\n");
		▲中身 = 68;
	}
	if (◆ログ宝箱 != "")
	{
		◆ログ宝箱 += "　　　　　";
	}
	◆ログ宝箱 += "= Weapon/Armor (Rare " + string3(▲レア確率) + "%)";
	return ▲中身;
}

int 持ち物を選ぶ()
{
	LOG_TADA("\n持ち物\n");
	int ra = 0;
	int ▲中身 = 0;
	ra = RAND(17);
	if (ra == 1 || ra == 2)
	{
		▲中身 = 189;
	}
	if (ra == 3 || ra == 4)
	{
		▲中身 = 191;
	}
	if (ra == 5 || ra == 6)
	{
		▲中身 = 193;
	}
	if (ra == 7 || ra == 8)
	{
		▲中身 = 196;
	}
	if (ra == 9)
	{
		▲中身 = 200;
	}
	if (ra == 10)
	{
		▲中身 = 201;
	}
	if (ra == 11)
	{
		▲中身 = 202;
	}
	if (ra == 12)
	{
		▲中身 = 203;
	}
	if (ra == 13)
	{
		▲中身 = 204;
	}
	if (ra == 14)
	{
		▲中身 = 211;
	}
	if (ra == 15)
	{
		▲中身 = 212;
	}
	if (ra == 16)
	{
		▲中身 = 213;
	}
	if (ra == 17)
	{
		▲中身 = 205;
	}
	if (FA[188] >= 4 && (RAND(4) == 1 || ItemInInventory(305, 0, "") == 0))
	{
		▲中身 = 305;
	}
	if (◆ワールド >= 3 && (RAND(5) == 1 || ItemInInventory(252, 0, "") == 0))
	{
		▲中身 = 252;
	}
	if (◆ワールド >= 3 && (RAND(15) == 1 || ItemInInventory(343, 0, "") == 0))
	{
		▲中身 = 343;
	}
	if (◆ログ宝箱 != "")
	{
		◆ログ宝箱 += "　　　　　";
	}
	◆ログ宝箱 += "= Item";
	return ▲中身;
}

int 特殊を選ぶ(lint fg)
{
	LOG_TADA("\n特殊\n");
	lint ▲ランク = 0;
	lint ra = 0;
	lint ▲中身 = 0;
	lint ▲Ｂ補正 = 0;
	lint ▲Ａ補正 = 0;
	lint ▲Ｓ補正 = 0;
	▲Ｓ補正 = FA[185] / 3;
	if (▲Ｓ補正 >= 20)
	{
		▲Ｓ補正 = 20;
	}
	▲Ａ補正 = FA[184] / 3;
	if (▲Ａ補正 >= 20)
	{
		▲Ａ補正 = 20;
	}
	▲Ｂ補正 = FA[183] / 3;
	if (▲Ｂ補正 >= 20)
	{
		▲Ｂ補正 = 20;
	}
	lint iic = 0;
	if (ＣＳ有無／スタメン(iic, 293, 0) != 0)
	{
		▲Ｓ補正 += 1;
		▲Ａ補正 += 2;
		▲Ｂ補正 += 8;
	}
	for (; ; )
	{
		▲ランク = 1;
		if (確率演算(1 + ▲Ｓ補正) == true)
		{
			▲ランク = 4;
			break;
		}
		if (確率演算(6 + ▲Ａ補正) == true)
		{
			▲ランク = 3;
			break;
		}
		if (確率演算(30 + ▲Ｂ補正) == true)
		{
			▲ランク = 2;
			break;
		}
		break;
	}
	if (fg == 3)
	{
		if (▲ランク == 3 && Ｑ難易度(◆iiq, -1) >= 35)
		{
			▲ランク = 4;
		}
		if (▲ランク == 2)
		{
			▲ランク = 3;
		}
		if (▲ランク == 1)
		{
			▲ランク = 2;
		}
	}
	if (▲ランク == 1)
	{
		ra = RAND(13);
		if (ra == 1 || ra == 12 || ra == 13)
		{
			▲中身 = 269;
		}
		if (ra == 2)
		{
			▲中身 = 272;
		}
		if (ra == 3)
		{
			▲中身 = 275;
		}
		if (ra == 4)
		{
			▲中身 = 278;
		}
		if (ra == 5)
		{
			▲中身 = 281;
		}
		if (ra == 6)
		{
			▲中身 = 284;
		}
		if (ra == 7)
		{
			▲中身 = 287;
		}
		if (ra == 8)
		{
			▲中身 = 290;
		}
		if (ra == 9)
		{
			▲中身 = 293;
		}
		if (ra == 10)
		{
			▲中身 = 296;
		}
		if (ra == 11)
		{
			▲中身 = 299;
		}
	}
	if (▲ランク == 2)
	{
		ra = RAND(13);
		if (ra == 1 || ra == 12 || ra == 13)
		{
			▲中身 = 270;
		}
		if (ra == 2)
		{
			▲中身 = 273;
		}
		if (ra == 3)
		{
			▲中身 = 276;
		}
		if (ra == 4)
		{
			▲中身 = 279;
		}
		if (ra == 5)
		{
			▲中身 = 282;
		}
		if (ra == 6)
		{
			▲中身 = 285;
		}
		if (ra == 7)
		{
			▲中身 = 288;
		}
		if (ra == 8)
		{
			▲中身 = 291;
		}
		if (ra == 9)
		{
			▲中身 = 294;
		}
		if (ra == 10)
		{
			▲中身 = 297;
		}
		if (ra == 11)
		{
			▲中身 = 300;
		}
	}
	if (▲ランク == 3)
	{
		ra = RAND(13);
		if (ra == 1 || ra == 12 || ra == 13)
		{
			▲中身 = 271;
		}
		if (ra == 2)
		{
			▲中身 = 274;
		}
		if (ra == 3)
		{
			▲中身 = 277;
		}
		if (ra == 4)
		{
			▲中身 = 280;
		}
		if (ra == 5)
		{
			▲中身 = 283;
		}
		if (ra == 6)
		{
			▲中身 = 286;
		}
		if (ra == 7)
		{
			▲中身 = 289;
		}
		if (ra == 8)
		{
			▲中身 = 292;
		}
		if (ra == 9)
		{
			▲中身 = 295;
		}
		if (ra == 10)
		{
			▲中身 = 298;
		}
		if (ra == 11)
		{
			▲中身 = 301;
		}
	}
	if (▲ランク == 4)
	{
		ra = RAND(13);
		if (ra == 1 || ra == 12 || ra == 13)
		{
			▲中身 = 323;
		}
		if (ra == 2)
		{
			▲中身 = 324;
		}
		if (ra == 3)
		{
			▲中身 = 325;
		}
		if (ra == 4)
		{
			▲中身 = 326;
		}
		if (ra == 5)
		{
			▲中身 = 327;
		}
		if (ra == 6)
		{
			▲中身 = 328;
		}
		if (ra == 7)
		{
			▲中身 = 329;
		}
		if (ra == 8)
		{
			▲中身 = 330;
		}
		if (ra == 9)
		{
			▲中身 = 331;
		}
		if (ra == 10)
		{
			▲中身 = 332;
		}
		if (ra == 11)
		{
			▲中身 = 333;
		}
	}
	if (◆ログ宝箱 != "")
	{
		◆ログ宝箱 += "　　　　　";
	}
	◆ログ宝箱 += "= Special Item (S = " + string3(1 + ▲Ｓ補正) + "%、A = " + string3(6 + ▲Ａ補正) + "%、B = " + string3(30 + ▲Ｂ補正) + "%)";
	return ▲中身;
}

int ウルトラレアを選ぶ(lint fg)
{
	array@lint 宝箱の中身[20];
	lint 中身の個数 = 0;
	lint nni = 0;
	中身の個数 = 0;
	if (◆ワールド == 3)
	{
		nni = 100;
		if (ItemInInventory(nni, 0, "") == 0)
		{
			中身の個数++;
			宝箱の中身[中身の個数] = nni;
		}
	}
	nni = 22;
	if (ItemInInventory(nni, 0, "") == 0)
	{
		中身の個数++;
		宝箱の中身[中身の個数] = nni;
	}
	nni = 40;
	if (ItemInInventory(nni, 0, "") == 0)
	{
		中身の個数++;
		宝箱の中身[中身の個数] = nni;
	}
	nni = 52;
	if (ItemInInventory(nni, 0, "") == 0)
	{
		中身の個数++;
		宝箱の中身[中身の個数] = nni;
	}
	nni = 64;
	if (ItemInInventory(nni, 0, "") == 0)
	{
		中身の個数++;
		宝箱の中身[中身の個数] = nni;
	}
	nni = 83;
	if (ItemInInventory(nni, 0, "") == 0)
	{
		中身の個数++;
		宝箱の中身[中身の個数] = nni;
	}
	nni = 97;
	if (ItemInInventory(nni, 0, "") == 0)
	{
		中身の個数++;
		宝箱の中身[中身の個数] = nni;
	}
	nni = 114;
	if (ItemInInventory(nni, 0, "") == 0)
	{
		中身の個数++;
		宝箱の中身[中身の個数] = nni;
	}
	nni = 129;
	if (ItemInInventory(nni, 0, "") == 0)
	{
		中身の個数++;
		宝箱の中身[中身の個数] = nni;
	}
	nni = 144;
	if (ItemInInventory(nni, 0, "") == 0)
	{
		中身の個数++;
		宝箱の中身[中身の個数] = nni;
	}
	nni = 157;
	if (ItemInInventory(nni, 0, "") == 0)
	{
		中身の個数++;
		宝箱の中身[中身の個数] = nni;
	}
	nni = 168;
	if (ItemInInventory(nni, 0, "") == 0)
	{
		中身の個数++;
		宝箱の中身[中身の個数] = nni;
	}
	if (中身の個数 != 0)
	{
		return 宝箱の中身[RAND(中身の個数)];
	}
	return 0;
}

int トラップ処理(int ▲ＸＸ, int ▲ＹＹ)
{
	int ▲トラップ = トラップ確定();
	LOG_TADA("＞トラップ接触（" + トラップ文字列(▲トラップ) + "）\n");
	LOG("・Triggered trap (" + トラップ文字列(▲トラップ) + ")");
	FA[312]++;
	ADVON();
	セット表示(0, 0, 0, 0);
	字速度(0);
	ト書き();
	'  Shit, it\'s a trap! ' R;
	'　　　';
	if (▲トラップ == 1)
	{
		ミニイベント表示(4310, 1, 500);
		'Sloth shrooms are growing underfoot.';
	}
	if (▲トラップ == 2)
	{
		ミニイベント表示(4311, 1, 500);
		'An electric current shoots out.';
	}
	if (▲トラップ == 3)
	{
		ミニイベント表示(4312, 1, 500);
		'Tripped on an alarm device.';
	}
	if (▲トラップ == 6)
	{
		ミニイベント表示(4314, 1, 500);
		'There\'s a pitfall.';
	}
	AA();
	int ▲トラップ開け者 = 0;
	int 成功確率 = 20;
	if (◆iiq == 190)
	{
		成功確率 = 0;
	}
	int loop = 0;
	int iic = 0;
	int aa = 0;
	for (loop = 1; loop < 6; ++loop)
	{
		iic = PTA[loop];
		if (iic != 0 && 成功確率 != 100)
		{
			if (Ｃ職業(iic, -1) == 6 && ▲トラップ開け者 == 0)
			{
				▲トラップ開け者 = iic;
				成功確率 = 50;
			}
			aa = ＣＳ有無／ランク(iic, 266, 0);
			if (aa > Ｃトラップ解除回数(iic, -1))
			{
				▲トラップ開け者 = iic;
				成功確率 = 100;
			}
		}
	}
	if (▲トラップ開け者 != 0)
	{
		Ｃトラップ解除回数(▲トラップ開け者, Ｃトラップ解除回数(▲トラップ開け者, -1) + 1);
	}
	lint ▲回避成功 = 0;
	if (成功確率 >= RAND(100))
	{
		▲回避成功 = 1;
	}
	if (▲トラップ == 1 && ＰＴＡ総数() == 1)
	{
		▲回避成功 = 1;
	}
	if (▲回避成功 == 1)
	{
		Ｒ８ジングル(455, false);
		if (成功確率 == 100)
		{
			ト書き();
			顔表示／総合(▲トラップ開け者);
			'  ' S(Ｃ短縮名前(▲トラップ開け者, ""));
			' used [Trap Evasion]' R;
			'  to avoid the trap.' R;
			R();
			'     !  Awesome  !' AA;
		}
		if (成功確率 == 50)
		{
			ト書き();
			顔表示／総合(▲トラップ開け者);
			'  ' S(Ｃ短縮名前(▲トラップ開け者, ""));
			' used ranger skills' R;
			'  to avoid the trap.' R;
			R();
			'     !  Awesome  ! (50% chance of success)' AA;
		}
		if (成功確率 == 20)
		{
			ト書き();
			'  Narrowly avoided the trap!' R;
			R();
			'     !  Awesome  ! (20% chance of success)' AA;
		}
		字速度(-1);
		ADVOFF();
		ＭＤ消し(▲ＸＸ, ▲ＹＹ);
		LOG("   Evaded successfully (Chance to succeed: %s%)\n" % string3(成功確率));
		return 0;
	}
	Ｒ８ジングル(454, false);
	FA[313]++;
	if (▲トラップ == 1)
	{
		ミニイベント表示(4320, 1, 500);
		iic = ＰＴＡランダム(0, 0);
		ＰＴＡ解除(iic);
		Ｒ８システム情報更新(2);
		ト書き();
		顔表示／総合(iic);
		'  Sloth shrooms explode.' R;
		'  ' S(Ｃ短縮名前(iic, ""));
		' is incapacitated.' AA;
	}
	if (▲トラップ == 2)
	{
		ミニイベント表示(4321, 1, 500);
		ＰＴＡダメージ("２５％減");
		Ｒ８システム情報更新(2);
		'  The electric current assaults the party.' R;
		'  Took 25% damage.' AA;
	}
	if (▲トラップ == 3)
	{
		◇戦闘イベント名 = "警報トラップ";
		Ｒ８エンカウント進行(99);
		ミニイベント表示(4322, 1, 500);
		'  The alarm device rings out.' R;
		'  The footfalls of monsters draw near.' AA;
		字速度(-1);
		ADVOFF();
		ＭＤ消し(▲ＸＸ, ▲ＹＹ);
		LOG("   Triggered (Chance to succeed: %s%)\n" % string3(成功確率));
		return 88;
	}
	if (▲トラップ == 6)
	{
		ミニイベント表示(4324, 1, 500);
		'  The party plummets.' R;
		'  *weeeeeee THUNK*' AA;
		for (; ; )
		{
			if (◆iiq == 77 && QD[1] >= 2)
			{
				QD[1]--;
				QD[2]--;
				◆キャラ位置 = 0;
				ＱＭ登録(1);
				break;
			}
			if (◆iiq == 72 && ◆ＢＭＡＰ == 4)
			{
				◆キャラ位置 = 0;
				ＱＭ登録(4);
				break;
			}
			if (◆iiq == 190 && ◆ＢＭＡＰ == 5)
			{
				ＱＭ登録(6);
				Ｒ８キャラ配置(18, 40, 2);
				クエスト進行率書き換え(70);
				break;
			}
			if (◆iiq == 190 && ◆ＢＭＡＰ == 6)
			{
				ＱＭ登録(7);
				Ｒ８キャラ配置(14, 17, 2);
				クエスト進行率書き換え(90);
				break;
			}
			break;
		}
	}
	字速度(-1);
	ADVOFF();
	ＭＤ消し(▲ＸＸ, ▲ＹＹ);
	LOG("   Triggered (Chance to succeed: %s%)\n" % string3(成功確率));
	return 0;
}

int トラップ確定()
{
	array@int box[61];
	int ▲総数 = 0;
	int bb = 0;
	int loop = 0;
	bb = ◆トラップ発生確率[1];
	if (bb != 0)
	{
		for (loop = 1; loop < bb + 1; ++loop)
		{
			++▲総数;
			box[▲総数] = 1;
		}
	}
	bb = ◆トラップ発生確率[2];
	if (bb != 0)
	{
		for (loop = 1; loop < bb + 1; ++loop)
		{
			++▲総数;
			box[▲総数] = 2;
		}
	}
	bb = ◆トラップ発生確率[3];
	if (bb != 0)
	{
		for (loop = 1; loop < bb + 1; ++loop)
		{
			++▲総数;
			box[▲総数] = 3;
		}
	}
	bb = ◆トラップ発生確率[6];
	if (bb != 0)
	{
		for (loop = 1; loop < bb + 1; ++loop)
		{
			++▲総数;
			box[▲総数] = 6;
		}
	}
	if (▲総数 == 0)
	{
		return 2;
	}
	return box[RAND(▲総数)];
}

lint 転移処理(lint ▲ＸＸ, lint ▲ＹＹ)
{
	int ▲転移置物 = ＭＤ情報番号(▲ＸＸ, ▲ＹＹ);
	int ▲次ＢＭＡＰ = 0;
	int rr = 0;
	lint iic = 0;
	if (▲転移置物 == 1 && ◆転移禁止／北 == 1)
	{
		return 0;
	}
	if (▲転移置物 == 3 && ◆転移禁止／南 == 1)
	{
		return 0;
	}
	if (▲転移置物 == 2 && ◆転移禁止／東 == 1)
	{
		return 0;
	}
	if (▲転移置物 == 4 && ◆転移禁止／西 == 1)
	{
		return 0;
	}
	if (▲転移置物 < 5)
	{
		Ｑ[◆iiq].エリア表示[◆ＢＭＡＰ][▲転移置物] = 1;
	}
	if (◆iiq == 66 || ◆iiq == 70 || ◆iiq == 72)
	{
		int ▲男無し = 0;
		if (◆iiq == 72 && ＰＴＡ男有無() == 0)
		{
			▲男無し = 1;
		}
		if (◆ＢＭＡＰ == 10 && ▲転移置物 == 1)
		{
			▲転移置物 = 0;
			◆キャラ位置 = 11;
			▲次ＢＭＡＰ = 14;
			QD[1]++;
		}
		if (◆ＢＭＡＰ == 10 && ▲転移置物 == 2 && ▲男無し == 0)
		{
			▲転移置物 = 0;
			◆キャラ位置 = 11;
			▲次ＢＭＡＰ = 14;
			QD[1]++;
			if (◆iiq == 72)
			{
				０２Ｃクレインの説明汎用();
			}
		}
		if (◆ＢＭＡＰ == 14 && ▲転移置物 == 4)
		{
			▲転移置物 = 0;
			◆キャラ位置 = 11;
			▲次ＢＭＡＰ = 14;
			QD[1]++;
		}
		if (◆ＢＭＡＰ == 14 && ▲転移置物 == 2)
		{
			▲転移置物 = 0;
			◆キャラ位置 = 11;
			▲次ＢＭＡＰ = 14;
			QD[1]++;
		}
	}
	if (◆iiq == 37)
	{
		if (◆ＢＭＡＰ == 6 && ▲転移置物 == 2 && EV("１３Ｂ休憩場所", -2147483648) == false)
		{
			１３Ｂ休憩場所スルー();
			Ｒ８戻し();
			return 1;
		}
	}
	if (◆iiq == 40)
	{
		if (◆ＢＭＡＰ == 6 && ▲転移置物 == 1)
		{
			▲転移置物 = 0;
			◆キャラ位置 = 11;
			▲次ＢＭＡＰ = 4;
		}
		if (◆ＢＭＡＰ == 6 && ▲転移置物 == 2)
		{
			▲転移置物 = 0;
			◆キャラ位置 = 11;
			▲次ＢＭＡＰ = 4;
		}
		if (◆ＢＭＡＰ == 5 && QD[9] == 1)
		{
			０４Ａ修行中だぞ();
			Ｒ８戻し();
			return 1;
		}
	}
	if (◆iiq == 76)
	{
		if (◆ＢＭＡＰ == 16 && ▲転移置物 == 1)
		{
			１１Ａ分岐点();
			思考(2000, "");
			'(Hmmm, which way should we go?)' B;
			選択初期();
			選択_項目追加(1, "Right: Scum Route", -1, -1, -1, "", -1);
			選択_項目追加(2, "Left: Female Knight Route", -1, -1, -1, "", -1);
			rr = 選択_実行(false, 0, 0, false);
			if (rr == 1)
			{
				１１Ａ分岐点／外道();
				▲転移置物 = 0;
				◆キャラ位置 = 11;
				▲次ＢＭＡＰ = 14;
			}
			if (rr == 2)
			{
				１１Ａ分岐点／騎士();
				▲転移置物 = 0;
				◆キャラ位置 = 11;
				▲次ＢＭＡＰ = 13;
			}
			クエスト進行率書き換え(40);
		}
		if (◆ＢＭＡＰ == 6 && ▲転移置物 == 1)
		{
			▲転移置物 = 0;
			◆キャラ位置 = 11;
			▲次ＢＭＡＰ = 1;
		}
	}
	if (◆iiq == 77)
	{
		if (▲転移置物 == 1 || ▲転移置物 == 4)
		{
			▲転移置物 = 0;
			◆キャラ位置 = 11;
			▲次ＢＭＡＰ = 1;
			QD[1] = QD[2];
			if (QD[1] < FA[51] && QD[7] == 0)
			{
				QD[1] = FA[51];
			}
			if (QD[1] >= 10 && QD[5] < 2)
			{
				QD[5] = 1;
				QD[1] = 10;
			}
			if (QD[1] >= 20 && QD[5] < 4)
			{
				QD[5] = 3;
				QD[1] = 20;
			}
			if (QD[1] >= 30)
			{
				QD[5] = 5;
				QD[1] = 30;
			}
			QD[2] = QD[1] + 1;
		}
		if (▲転移置物 == 3 || ▲転移置物 == 2)
		{
			１２Ａ戻らない();
			ＭＤ消し(▲ＸＸ, ▲ＹＹ);
			return 1;
		}
	}
	if (◆iiq == 37)
	{
		if (◆ＢＭＡＰ == 6 && ▲転移置物 == 2 && EV("１３Ｂ休憩場所", -2147483648) == false)
		{
			１３Ｂ休憩場所スルー();
			Ｒ８戻し();
			return 1;
		}
	}
	if (◆iiq == 145)
	{
		◆キャラ位置 = 13;
		▲次ＢＭＡＰ = ◆ＢＭＡＰ;
		if (◆ＢＭＡＰ == 1 && ▲転移置物 == 1)
		{
			▲次ＢＭＡＰ = 2;
		}
		if (◆ＢＭＡＰ == 2 && ▲転移置物 == 3)
		{
			▲次ＢＭＡＰ = 3;
		}
		if (◆ＢＭＡＰ == 3 && ▲転移置物 == 2)
		{
			▲次ＢＭＡＰ = 4;
		}
		if (◆ＢＭＡＰ == 4 && ▲転移置物 == 4)
		{
			▲次ＢＭＡＰ = 9;
		}
		if (◆ＢＭＡＰ == 9 && ▲転移置物 == 3)
		{
			▲次ＢＭＡＰ = 10;
		}
		if (◆ＢＭＡＰ == 10 && ▲転移置物 == 2)
		{
			▲次ＢＭＡＰ = 11;
		}
		if (◆ＢＭＡＰ == 11 && ▲転移置物 == 3)
		{
			▲次ＢＭＡＰ = 12;
		}
		▲転移置物 = 0;
	}
	if (◆iiq == 217)
	{
		◆キャラ位置 = 11;
		▲次ＢＭＡＰ = ◆ＢＭＡＰ;
		if (◆ＢＭＡＰ == 15 && ▲転移置物 == 1)
		{
			▲次ＢＭＡＰ = 11;
		}
		if (◆ＢＭＡＰ == 11 && ▲転移置物 == 1)
		{
			▲次ＢＭＡＰ = 7;
		}
		if (◆ＢＭＡＰ == 7 && ▲転移置物 == 4)
		{
			▲次ＢＭＡＰ = 6;
		}
		▲転移置物 = 0;
	}
	FA[146] = 0;
	lint aa = 1;
	if (FA[267] == 1)
	{
		aa = 0;
	}
	if (ＣＳ番号取得／スタメン(iic, 482, 0) != 0 && FA[145] < 2 && RAND(3) == 1 && aa == 1)
	{
		FA[146] = 1;
		FA[145]++;
		EV("ビスケッタ／迷宮清掃", 0);
		ビスケッタ／迷宮清掃();
	}
	if (▲転移置物 == 50)
	{
		return 0;
	}
	if (▲転移置物 == 1)
	{
		◆キャラ位置 = 11;
		▲次ＢＭＡＰ = ◆ＢＭＡＰ - 4;
	}
	if (▲転移置物 == 3)
	{
		◆キャラ位置 = 10;
		▲次ＢＭＡＰ = ◆ＢＭＡＰ + 4;
	}
	if (▲転移置物 == 2)
	{
		◆キャラ位置 = 13;
		▲次ＢＭＡＰ = ◆ＢＭＡＰ + 1;
	}
	if (▲転移置物 == 4)
	{
		◆キャラ位置 = 12;
		▲次ＢＭＡＰ = ◆ＢＭＡＰ - 1;
	}
	LOG_TADA("　転移接触（" + 方角文字列(▲転移置物) + "）→　次ＢＭＡＰ　" + string(▲次ＢＭＡＰ) + "\n");
	Ｒ８ジングル(458, false);
	ＱＭ登録(▲次ＢＭＡＰ);
	Ｒ８マップ表示(-1, -1, -1, -1);
	if (FA[146] == 1)
	{
		◆クエスト戦闘回数／ＭＡＰ内 = 5;
		FA[146] = 0;
	}
	return 1;
}

lint イベント処理(lint ▲ＸＸ, lint ▲ＹＹ)
{
	int re = ＭＤ情報番号(▲ＸＸ, ▲ＹＹ);
	ＭＤ消し(▲ＸＸ, ▲ＹＹ);
	return re;
}

void ＱＭ登録(lint no)
{
	lint loop = 0;
	if (no >= 17)
	{
		LOG_TADA("ＥＲＲＯＲ　ＱＭ登録　" + string(no) + "\n");
		return;
	}
	◆ＭＡＰ実装 = 1;
	◆クエスト戦闘回数／ＭＡＰ内 = 0;
	エンカウント再計算("エリア切り替え");
	QuestProcessing(7, no, 0);
	Ｍ[no].初登録 = ◆ＭＡＰ番号;
	◆クエスト戦闘回数／ＭＡＰ内 = 0;
	FA[143] = 0;
	FA[230] = 0;
	Ｒ８マップ情報更新(2);
	LOG("\n");
	LOG("・----- Area (" + ◆ＭＡＰ名前 + ") -----\n");
	if (◆宝箱中身タイプ != 0)
	{
		LOG("   Treasure Chest Contents (");
		if (◆宝箱中身タイプ == 11 || ◆宝箱中身タイプ == 12)
		{
			LOG("C Rank Equipment");
		}
		if (◆宝箱中身タイプ == 21 || ◆宝箱中身タイプ == 22)
		{
			LOG("B Rank Equipment");
		}
		if (◆宝箱中身タイプ == 31 || ◆宝箱中身タイプ == 32)
		{
			LOG("A Rank Equipment");
		}
		if (◆宝箱中身タイプ == 13)
		{
			LOG("C Rank Equipment + Item");
		}
		if (◆宝箱中身タイプ == 23)
		{
			LOG("B Rank Equipment + Item");
		}
		if (◆宝箱中身タイプ == 33)
		{
			LOG("A Rank Equipment + Item");
		}
		if (◆宝箱中身タイプ == 40)
		{
			LOG("A Rank Equipment + Superior Item");
		}
		LOG(")\n");
	}
}

void MAPReading(int BMAP, int map, int Ｎ転移, int Ｓ転移, int Ｅ転移, int Ｗ転移, int モンスター, int 宝箱, int トラップ, int 冒険功績)
{
	int loop = 0;
	int loop2 = 0;
	int no = 0;
	int aa = 0;
	int bb = 0;
	int cc = 0;
	int ra = 0;
	int map_gno = 0;
	int 汎用番号 = 0;
	if (map == 0)
	{
		no = 0;
		ra = RAND(6);
		if (Ｎ転移 == 0 && Ｓ転移 == 0 && Ｅ転移 != 0 && Ｗ転移 != 0 && RAND(2) == 1)
		{
			ra = RAND(2) + 6;
		}
		if (Ｎ転移 != 0 && Ｓ転移 != 0 && Ｅ転移 == 0 && Ｗ転移 == 0 && RAND(2) == 1)
		{
			ra = RAND(2) + 8;
		}
		if ((◆ＭＡＰ基礎型 == 14 || ◆ＭＡＰ基礎型 == 20 || ◆ＭＡＰ基礎型 == 21) && ra < 7 && RAND(3) == 1)
		{
			ra = 10 + RAND(9);
		}
		if (◆ＭＡＰ基礎型 == 1)
		{
			no = 1000;
		}
		if (◆ＭＡＰ基礎型 == 2)
		{
			no = 2000;
		}
		if (◆ＭＡＰ基礎型 == 3)
		{
			no = 3000;
		}
		if (◆ＭＡＰ基礎型 == 4)
		{
			no = 4000;
		}
		if (◆ＭＡＰ基礎型 == 5)
		{
			no = 5000;
		}
		if (◆ＭＡＰ基礎型 == 6)
		{
			no = 6000;
		}
		if (◆ＭＡＰ基礎型 == 7)
		{
			no = 7000;
		}
		if (◆ＭＡＰ基礎型 == 9)
		{
			no = 10000;
		}
		if (◆ＭＡＰ基礎型 == 10)
		{
			no = 11000;
		}
		if (◆ＭＡＰ基礎型 == 13)
		{
			no = 14000;
		}
		if (◆ＭＡＰ基礎型 == 14)
		{
			no = 15000;
		}
		if (◆ＭＡＰ基礎型 == 20)
		{
			no = 16000;
		}
		if (◆ＭＡＰ基礎型 == 21)
		{
			no = 17000;
		}
		if (no != 0)
		{
			if (ra == 1)
			{
				map = no + 201;
				汎用番号 = 201;
			}
			if (ra == 2)
			{
				map = no + 202;
				汎用番号 = 202;
			}
			if (ra == 3)
			{
				map = no + 203;
				汎用番号 = 203;
			}
			if (ra == 4)
			{
				map = no + 204;
				汎用番号 = 204;
			}
			if (ra == 5)
			{
				map = no + 301;
				汎用番号 = 301;
			}
			if (ra == 6)
			{
				map = no + 302;
				汎用番号 = 302;
			}
			if (ra == 7)
			{
				map = no + 1;
				汎用番号 = 1;
			}
			if (ra == 8)
			{
				map = no + 2;
				汎用番号 = 2;
			}
			if (ra == 9)
			{
				map = no + 101;
				汎用番号 = 101;
			}
			if (ra == 10)
			{
				map = no + 102;
				汎用番号 = 102;
			}
			if (ra == 11)
			{
				map = no + 401;
				汎用番号 = 401;
			}
			if (ra == 12)
			{
				map = no + 402;
				汎用番号 = 402;
			}
			if (ra == 13)
			{
				map = no + 403;
				汎用番号 = 403;
			}
			if (ra == 14)
			{
				map = no + 404;
				汎用番号 = 404;
			}
			if (ra == 15)
			{
				map = no + 405;
				汎用番号 = 405;
			}
			if (ra == 16)
			{
				map = no + 406;
				汎用番号 = 406;
			}
			if (ra == 17)
			{
				map = no + 407;
				汎用番号 = 407;
			}
			if (ra == 18)
			{
				map = no + 408;
				汎用番号 = 408;
			}
			if (ra == 19)
			{
				map = no + 409;
				汎用番号 = 409;
			}
		}
	}
	if (map >= 1000)
	{
		汎用番号 = map % 1000;
	}
	if (map == 0)
	{
		map = 1;
	}
	if (ＱＭ固有番号記憶(◆iiq, BMAP, -1) != 0)
	{
		map = ＱＭ固有番号記憶(◆iiq, BMAP, -1);
		map_gno = ＱＭ通し番号記憶(◆iiq, BMAP, -1);
		汎用番号 = ＱＭ汎用番号記憶(◆iiq, BMAP, -1);
	}
	if (ＱＭ固有番号記憶(◆iiq, BMAP, -1) == 0)
	{
		ＱＭ固有番号記憶(◆iiq, BMAP, map);
		◆Ｍ通し番号++;
		ＱＭ通し番号記憶(◆iiq, BMAP, ◆Ｍ通し番号);
		ＱＭ汎用番号記憶(◆iiq, BMAP, 汎用番号);
		map_gno = ◆Ｍ通し番号;
	}
	◆ＢＭＡＰ = BMAP;
	◆ＭＡＰ番号 = map;
	LOG_TADA("\n■MAPReading\n");
	LOG_TADA("　　BMAP(" + string(BMAP) + ")←データ番号(" + string(map) + ")\n");
	Ｒ８マップロード(map, map_gno, true, false);
	Ｒ８マップカメラＬＯＣＫ(false);
	if (◆ｅａｓｙ／マップ == 1)
	{
		Ｒ８マップカメラＬＯＣＫ(false);
	}
	mapd(20, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	if (map == 1)
	{
		mapd(25, 25, 1, 25, 16, 25, 34, 34, 25, 17, 25, 19, 19, 21, 19, 30, 19, 32, 19, 0, 0, 24, 21, 27, 21, 19, 21, 31, 23, 26, 27, 24, 23, 27, 23, 21, 21, 21, 27, 28, 27, 24, 25, 27, 25, 20, 23, 22, 27, 29, 27, 24, 27, 27, 27, 30, 21, 23, 27, 30, 27, 24, 29, 27, 29, 32, 21, 25, 27, 31, 26);
	}
	if (map == 2)
	{
		mapd(25, 25, 1, 25, 16, 25, 34, 34, 25, 17, 25, 19, 19, 19, 20, 21, 19, 21, 20, 0, 0, 24, 21, 27, 21, 19, 21, 31, 23, 26, 27, 24, 23, 27, 23, 21, 21, 21, 27, 28, 27, 24, 25, 27, 25, 20, 23, 22, 27, 29, 27, 24, 27, 27, 27, 30, 21, 23, 27, 30, 27, 24, 29, 27, 29, 32, 21, 25, 27, 31, 26);
	}
	if (map == 11)
	{
		mapd(13, 38, 3, 34, 14, 13, 39, 36, 30, 12, 33, 27, 36, 15, 33, 24, 15, 0, 0, 0, 0, 13, 35, 16, 35, 20, 37, 20, 34, 24, 37, 27, 33, 21, 29, 21, 28, 22, 29, 33, 30, 31, 32, 31, 26, 31, 21, 34, 16, 26, 22, 24, 18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 12)
	{
		mapd(22, 37, 3, 23, 3, 20, 48, 45, 13, 3, 14, 41, 44, 44, 14, 44, 15, 30, 11, 31, 11, 22, 44, 32, 43, 32, 44, 37, 44, 41, 45, 17, 34, 22, 34, 20, 30, 22, 29, 28, 32, 9, 32, 21, 19, 18, 14, 17, 14, 21, 9, 31, 16, 38, 12, 37, 18, 37, 32, 43, 32, 47, 30, 46, 26, 43, 20, 44, 18, 45, 22);
	}
	if (map == 13)
	{
		mapd(44, 47, 3, 0, 0, 44, 48, 0, 0, 0, 0, 35, 10, 0, 0, 0, 0, 0, 0, 0, 0, 6, 46, 12, 44, 15, 44, 22, 43, 19, 45, 28, 44, 33, 44, 40, 42, 38, 46, 43, 44, 35, 33, 40, 31, 29, 34, 26, 36, 21, 33, 12, 35, 13, 25, 20, 22, 31, 23, 38, 21, 30, 14, 25, 11, 19, 9, 16, 12, 11, 15);
	}
	if (map == 14)
	{
		mapd(26, 4, 3, 27, 3, 26, 48, 0, 0, 0, 0, 26, 13, 0, 0, 0, 0, 0, 0, 0, 0, 21, 6, 26, 7, 33, 8, 32, 16, 21, 16, 10, 19, 7, 23, 27, 21, 7, 27, 8, 27, 14, 27, 16, 26, 7, 36, 9, 42, 14, 45, 21, 44, 23, 40, 29, 40, 15, 32, 5, 19, 18, 14, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 15)
	{
		mapd(44, 47, 3, 0, 0, 0, 0, 48, 47, 3, 42, 8, 13, 12, 13, 45, 33, 35, 36, 20, 35, 9, 41, 14, 42, 20, 43, 24, 41, 28, 42, 33, 42, 39, 42, 43, 43, 47, 42, 28, 37, 26, 31, 28, 30, 27, 27, 27, 23, 32, 25, 38, 25, 45, 26, 20, 25, 16, 23, 10, 23, 5, 24, 31, 20, 31, 15, 35, 15, 39, 16);
	}
	if (map == 16)
	{
		mapd(44, 47, 3, 18, 3, 31, 48, 45, 6, 46, 34, 13, 43, 14, 43, 13, 44, 0, 0, 0, 0, 27, 42, 30, 37, 39, 43, 16, 41, 12, 44, 6, 31, 14, 25, 22, 32, 28, 27, 39, 20, 34, 14, 27, 19, 20, 17, 26, 13, 31, 5, 19, 9, 12, 13, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 17)
	{
		mapd(44, 47, 3, 0, 0, 0, 0, 43, 32, 0, 0, 12, 10, 13, 10, 12, 11, 13, 11, 0, 0, 10, 13, 11, 16, 12, 22, 15, 27, 12, 31, 8, 35, 13, 40, 18, 42, 21, 34, 24, 32, 22, 27, 22, 20, 25, 10, 39, 10, 41, 12, 31, 16, 30, 24, 35, 29, 39, 29, 38, 35, 32, 40, 28, 38, 28, 40, 29, 42, 31, 37);
	}
	if (map == 18)
	{
		mapd(44, 47, 3, 27, 3, 47, 46, 48, 45, 3, 43, 27, 6, 28, 6, 43, 20, 43, 19, 0, 0, 39, 46, 46, 43, 33, 45, 28, 46, 23, 46, 15, 43, 12, 40, 9, 40, 9, 41, 21, 39, 27, 41, 33, 37, 38, 40, 43, 35, 45, 32, 38, 31, 32, 32, 26, 33, 20, 31, 13, 28, 15, 24, 11, 23, 10, 27, 36, 23, 27, 17);
	}
	if (map == 35)
	{
		mapd(23, 10, 3, 24, 10, 0, 0, 0, 0, 0, 0, 24, 33, 0, 0, 0, 0, 0, 0, 0, 0, 25, 14, 26, 17, 25, 19, 22, 22, 23, 22, 28, 21, 30, 20, 32, 23, 33, 25, 32, 28, 36, 28, 39, 29, 38, 32, 33, 35, 36, 35, 31, 32, 20, 26, 17, 31, 16, 37, 23, 36, 23, 30, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 19)
	{
		mapd(34, 9, 3, 35, 9, 19, 38, 40, 35, 11, 16, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 14, 16, 17, 17, 24, 15, 20, 20, 15, 25, 20, 25, 19, 31, 18, 36, 21, 34, 25, 36, 34, 39, 39, 36, 36, 32, 29, 26, 30, 23, 36, 26, 34, 17, 38, 14, 38, 19, 41, 15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 20)
	{
		mapd(44, 47, 3, 43, 8, 22, 45, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 21, 42, 23, 37, 22, 32, 14, 30, 10, 31, 26, 30, 25, 23, 23, 18, 18, 18, 13, 19, 30, 17, 35, 17, 41, 18, 18, 32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 38)
	{
		mapd(44, 47, 3, 0, 0, 34, 38, 38, 15, 13, 15, 14, 23, 0, 0, 0, 0, 0, 0, 0, 0, 16, 15, 19, 15, 18, 21, 19, 21, 15, 22, 21, 24, 27, 24, 25, 24, 30, 24, 33, 23, 33, 18, 35, 16, 30, 31, 30, 32, 24, 31, 24, 32, 21, 35, 21, 36, 18, 35, 34, 31, 34, 34, 34, 35, 0, 0, 0, 0, 0, 0);
	}
	if (map == 24)
	{
		mapd(15, 32, 3, 33, 14, 20, 38, 0, 0, 0, 0, 15, 31, 0, 0, 0, 0, 0, 0, 0, 0, 25, 36, 30, 37, 35, 36, 35, 32, 34, 27, 35, 21, 32, 21, 27, 19, 24, 19, 22, 19, 18, 20, 17, 24, 16, 28, 20, 28, 23, 25, 26, 26, 28, 32, 29, 29, 20, 35, 21, 32, 30, 24, 33, 36, 34, 34, 24, 35, 27, 36);
	}
	if (map == 25)
	{
		mapd(26, 25, 3, 0, 0, 25, 36, 38, 28, 13, 23, 33, 20, 0, 0, 0, 0, 0, 0, 0, 0, 16, 25, 18, 26, 21, 24, 25, 25, 26, 24, 27, 25, 26, 26, 29, 21, 32, 19, 35, 20, 35, 29, 33, 27, 31, 25, 24, 31, 23, 34, 27, 35, 30, 36, 21, 36, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 26)
	{
		mapd(44, 47, 3, 29, 3, 0, 0, 0, 0, 28, 4, 43, 26, 0, 0, 0, 0, 0, 0, 0, 0, 28, 7, 28, 16, 23, 12, 17, 20, 18, 22, 22, 19, 19, 30, 25, 30, 28, 30, 32, 29, 36, 32, 41, 29, 42, 24, 45, 26, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 32)
	{
		mapd(26, 27, 3, 33, 36, 16, 15, 31, 14, 11, 26, 31, 12, 11, 29, 0, 0, 0, 0, 0, 0, 25, 38, 12, 23, 18, 23, 18, 27, 25, 25, 33, 22, 36, 29, 37, 34, 29, 34, 23, 34, 18, 19, 20, 13, 27, 12, 27, 17, 30, 24, 14, 34, 19, 16, 32, 40, 34, 25, 19, 34, 24, 30, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 33)
	{
		mapd(24, 25, 3, 26, 23, 25, 27, 20, 24, 30, 29, 14, 25, 36, 25, 0, 0, 0, 0, 0, 0, 23, 36, 28, 36, 26, 39, 24, 40, 10, 21, 10, 30, 18, 26, 21, 10, 30, 10, 41, 21, 41, 30, 30, 41, 21, 41, 32, 27, 30, 22, 39, 25, 30, 25, 25, 32, 25, 19, 26, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 34)
	{
		mapd(25, 33, 3, 25, 40, 25, 12, 24, 12, 26, 40, 23, 11, 27, 11, 0, 0, 0, 0, 0, 0, 25, 18, 26, 15, 24, 21, 27, 21, 25, 23, 24, 26, 26, 25, 26, 34, 23, 34, 24, 31, 24, 37, 27, 38, 26, 32, 24, 16, 23, 41, 23, 14, 22, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 50)
	{
		mapd(26, 30, 3, 22, 13, 36, 34, 38, 16, 12, 19, 11, 23, 30, 22, 0, 0, 0, 0, 0, 0, 19, 18, 26, 12, 29, 15, 28, 20, 23, 23, 34, 21, 38, 19, 22, 27, 19, 30, 14, 33, 11, 28, 14, 23, 20, 34, 19, 37, 29, 32, 37, 26, 38, 32, 31, 37, 35, 36, 35, 30, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 51)
	{
		mapd(24, 27, 3, 31, 38, 21, 11, 33, 19, 11, 31, 19, 23, 34, 31, 0, 0, 0, 0, 0, 0, 16, 36, 16, 32, 16, 26, 16, 21, 16, 14, 25, 11, 28, 13, 22, 15, 29, 22, 29, 28, 32, 33, 36, 35, 31, 35, 25, 32, 23, 35, 25, 38, 26, 41, 19, 31, 19, 24, 22, 22, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 52)
	{
		mapd(26, 25, 3, 21, 15, 27, 36, 37, 23, 16, 21, 17, 27, 23, 18, 0, 0, 0, 0, 0, 0, 21, 17, 23, 20, 22, 23, 26, 23, 29, 20, 28, 15, 32, 18, 34, 21, 31, 25, 29, 25, 33, 29, 32, 34, 27, 33, 24, 30, 22, 26, 20, 28, 18, 33, 22, 36, 15, 26, 15, 22, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 53)
	{
		mapd(26, 28, 3, 19, 22, 30, 31, 30, 15, 15, 20, 23, 23, 26, 26, 0, 0, 0, 0, 0, 0, 20, 24, 18, 29, 15, 28, 14, 23, 18, 17, 22, 16, 26, 18, 31, 20, 34, 20, 32, 17, 37, 23, 33, 25, 32, 30, 26, 30, 22, 32, 21, 36, 26, 36, 32, 34, 35, 30, 29, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 21)
	{
		mapd(29, 26, 3, 19, 11, 17, 40, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 39 || map == 49)
	{
		mapd(27, 20, 3, 33, 11, 16, 40, 45, 24, 6, 28, 24, 34, 0, 0, 0, 0, 0, 0, 0, 0, 14, 18, 12, 21, 9, 28, 12, 28, 15, 33, 14, 36, 18, 36, 20, 31, 19, 25, 22, 24, 25, 24, 31, 23, 31, 29, 34, 35, 39, 33, 39, 26, 36, 19, 32, 15, 42, 23, 35, 29, 38, 38, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 40)
	{
		mapd(44, 47, 3, 0, 0, 0, 0, 45, 28, 6, 25, 8, 23, 0, 0, 0, 0, 0, 0, 0, 0, 11, 26, 16, 24, 19, 24, 22, 23, 23, 28, 26, 28, 29, 27, 32, 26, 32, 27, 37, 24, 39, 28, 42, 28, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 31)
	{
		mapd(30, 38, 3, 0, 0, 31, 38, 0, 0, 0, 0, 30, 30, 0, 0, 0, 0, 0, 0, 0, 0, 28, 28, 28, 30, 29, 28, 30, 28, 31, 28, 31, 29, 31, 30, 29, 30, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 22)
	{
		mapd(44, 47, 3, 0, 0, 0, 0, 39, 18, 14, 32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 23)
	{
		mapd(44, 47, 3, 27, 13, 25, 38, 40, 25, 13, 26, 25, 27, 27, 27, 34, 21, 35, 21, 0, 0, 36, 19, 32, 20, 30, 18, 27, 18, 27, 16, 23, 20, 19, 24, 17, 26, 19, 30, 23, 32, 25, 34, 29, 32, 32, 30, 32, 25, 35, 25, 27, 22, 27, 25, 38, 25, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 41)
	{
		mapd(44, 47, 3, 12, 19, 17, 40, 39, 21, 11, 32, 23, 25, 0, 0, 0, 0, 0, 0, 0, 0, 35, 21, 33, 23, 26, 23, 24, 22, 22, 25, 26, 28, 29, 28, 32, 28, 34, 29, 36, 32, 32, 33, 27, 34, 30, 34, 22, 33, 18, 34, 15, 37, 16, 32, 13, 31, 12, 33, 13, 27, 11, 24, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 54)
	{
		mapd(35, 18, 3, 34, 18, 33, 37, 38, 32, 15, 32, 18, 34, 0, 0, 0, 0, 0, 0, 0, 0, 35, 18, 19, 18, 17, 17, 18, 24, 23, 23, 27, 23, 25, 26, 25, 31, 23, 36, 27, 36, 30, 32, 31, 36, 37, 35, 37, 30, 33, 29, 32, 25, 34, 25, 35, 25, 33, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 55)
	{
		mapd(16, 39, 3, 0, 0, 0, 0, 0, 0, 0, 0, 24, 27, 0, 0, 0, 0, 0, 0, 0, 0, 14, 14, 28, 20, 37, 14, 36, 27, 36, 35, 28, 35, 31, 31, 21, 33, 25, 39, 15, 29, 20, 23, 22, 20, 21, 16, 27, 25, 32, 24, 17, 32, 34, 19, 17, 24, 14, 20, 37, 25, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 27)
	{
		mapd(11, 31, 3, 0, 0, 0, 0, 40, 27, 11, 30, 14, 17, 17, 39, 37, 37, 34, 17, 0, 0, 13, 35, 19, 32, 20, 34, 23, 37, 24, 32, 28, 34, 31, 36, 32, 31, 37, 33, 15, 21, 17, 18, 17, 22, 13, 24, 23, 16, 30, 16, 32, 18, 34, 22, 39, 22, 40, 22, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 28)
	{
		mapd(44, 47, 3, 0, 0, 0, 0, 44, 21, 7, 24, 40, 40, 31, 40, 16, 38, 19, 39, 0, 0, 8, 27, 8, 19, 10, 15, 14, 16, 19, 14, 25, 12, 29, 14, 34, 15, 38, 15, 40, 17, 34, 27, 31, 28, 30, 30, 32, 30, 23, 29, 9, 37, 22, 38, 33, 39, 13, 34, 42, 27, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 29)
	{
		mapd(44, 47, 3, 33, 9, 0, 0, 0, 0, 11, 38, 34, 43, 15, 43, 14, 19, 0, 0, 0, 0, 14, 41, 17, 39, 25, 37, 27, 39, 30, 40, 34, 40, 37, 40, 37, 25, 39, 28, 32, 29, 34, 28, 28, 33, 18, 18, 17, 24, 23, 11, 22, 14, 34, 18, 38, 17, 37, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 30)
	{
		mapd(24, 11, 3, 0, 0, 0, 0, 0, 0, 0, 0, 25, 23, 0, 0, 0, 0, 0, 0, 0, 0, 25, 16, 24, 19, 17, 18, 15, 20, 18, 20, 15, 23, 17, 27, 23, 26, 23, 24, 25, 25, 20, 32, 23, 33, 25, 36, 25, 31, 31, 33, 31, 30, 33, 28, 33, 24, 32, 18, 31, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 65)
	{
		mapd(25, 14, 3, 24, 14, 18, 36, 0, 0, 0, 0, 16, 23, 0, 0, 0, 0, 0, 0, 0, 0, 16, 25, 21, 25, 25, 27, 23, 31, 19, 33, 26, 34, 32, 31, 32, 34, 35, 20, 34, 20, 34, 21, 29, 24, 26, 21, 24, 20, 27, 18, 15, 21, 16, 21, 14, 24, 37, 22, 34, 32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 66)
	{
		mapd(9, 6, 3, 20, 12, 0, 0, 38, 30, 0, 0, 26, 24, 0, 0, 0, 0, 0, 0, 0, 0, 17, 22, 18, 16, 14, 24, 19, 27, 15, 28, 14, 31, 16, 35, 20, 36, 20, 32, 22, 31, 24, 27, 24, 23, 23, 21, 22, 21, 29, 23, 29, 18, 32, 15, 35, 19, 37, 18, 31, 30, 28, 34, 35, 29, 0, 0, 0, 0, 0, 0);
	}
	if (map == 67)
	{
		mapd(9, 6, 3, 0, 0, 0, 0, 40, 34, 9, 23, 23, 24, 0, 0, 0, 0, 0, 0, 0, 0, 14, 35, 17, 32, 19, 30, 11, 23, 14, 20, 12, 17, 12, 13, 15, 12, 19, 14, 22, 17, 21, 20, 17, 25, 20, 25, 25, 30, 29, 32, 33, 30, 31, 27, 29, 24, 30, 18, 29, 12, 36, 17, 40, 19, 37, 25, 39, 30, 37, 34);
	}
	if (map == 68)
	{
		mapd(19, 14, 3, 0, 0, 25, 37, 0, 0, 14, 18, 27, 24, 0, 0, 0, 0, 0, 0, 0, 0, 25, 22, 20, 22, 15, 28, 20, 27, 24, 30, 29, 30, 26, 18, 21, 15, 17, 19, 30, 16, 33, 17, 35, 19, 34, 21, 36, 22, 37, 26, 35, 28, 35, 34, 32, 36, 28, 34, 25, 35, 27, 31, 30, 19, 30, 21, 0, 0, 0, 0);
	}
	if (map == 69)
	{
		mapd(38, 38, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 70)
	{
		mapd(9, 6, 3, 39, 12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 101)
	{
		mapd(22, 25, 3, 23, 3, 27, 48, 48, 21, 3, 20, 39, 31, 28, 44, 29, 25, 6, 17, 41, 42, 22, 45, 19, 42, 22, 39, 23, 34, 30, 35, 34, 31, 38, 26, 39, 26, 43, 19, 38, 14, 37, 18, 23, 13, 28, 16, 18, 17, 23, 6, 22, 9, 24, 27, 17, 26, 13, 28, 9, 18, 7, 22, 5, 24, 11, 33, 12, 38, 16, 37);
	}
	if (map == 102)
	{
		mapd(28, 21, 3, 24, 6, 32, 48, 47, 18, 3, 29, 43, 33, 46, 33, 5, 34, 9, 34, 22, 15, 43, 15, 39, 10, 35, 8, 28, 8, 24, 10, 18, 8, 16, 12, 26, 15, 29, 26, 35, 29, 44, 30, 44, 24, 34, 36, 34, 41, 31, 42, 29, 46, 22, 44, 18, 37, 16, 35, 18, 28, 13, 23, 5, 28, 11, 20, 11, 16, 13, 12);
	}
	if (map == 103 || map == 123)
	{
		mapd(26, 26, 3, 20, 12, 36, 39, 39, 23, 14, 35, 17, 26, 18, 26, 23, 17, 34, 30, 19, 34, 20, 16, 22, 14, 27, 19, 34, 19, 37, 22, 32, 23, 33, 24, 29, 25, 30, 28, 35, 37, 30, 37, 38, 37, 26, 35, 23, 37, 20, 35, 18, 33, 24, 31, 23, 32, 14, 27, 15, 23, 30, 19, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 104 || map == 124)
	{
		mapd(28, 33, 3, 32, 12, 22, 39, 39, 27, 12, 29, 27, 23, 28, 23, 20, 32, 21, 32, 19, 21, 21, 35, 25, 38, 32, 36, 37, 35, 36, 29, 34, 26, 33, 22, 33, 19, 31, 18, 31, 15, 27, 15, 24, 16, 20, 18, 17, 21, 21, 25, 16, 28, 14, 31, 24, 28, 22, 30, 18, 26, 21, 21, 31, 22, 37, 27, 37, 32, 35, 36);
	}
	if (map == 105 || map == 125 || map == 83)
	{
		mapd(30, 29, 3, 25, 16, 29, 35, 35, 25, 16, 20, 18, 26, 19, 26, 32, 21, 33, 21, 32, 22, 27, 33, 33, 31, 33, 32, 27, 30, 22, 31, 19, 31, 20, 28, 17, 24, 19, 18, 17, 18, 24, 24, 32, 19, 26, 18, 29, 24, 21, 24, 18, 27, 25, 30, 28, 29, 27, 23, 29, 18, 30, 23, 23, 23, 17, 26, 22, 30, 29, 31);
	}
	if (map == 106 || map == 126)
	{
		mapd(23, 32, 3, 26, 8, 37, 41, 43, 26, 8, 25, 39, 11, 16, 13, 31, 30, 38, 34, 37, 34, 14, 38, 14, 34, 18, 33, 22, 35, 24, 40, 28, 43, 32, 39, 36, 40, 37, 37, 35, 28, 38, 28, 40, 23, 35, 17, 30, 12, 36, 11, 24, 10, 19, 11, 17, 16, 21, 20, 14, 26, 30, 22, 31, 21, 32, 22, 31, 23, 0, 0);
	}
	if (map == 121)
	{
		mapd(26, 44, 3, 43, 8, 26, 48, 48, 27, 3, 32, 39, 26, 38, 26, 11, 6, 12, 6, 0, 0, 26, 39, 35, 38, 40, 31, 43, 24, 25, 33, 17, 36, 9, 32, 11, 28, 15, 24, 16, 16, 11, 14, 13, 9, 21, 16, 25, 12, 30, 8, 35, 11, 29, 15, 39, 13, 44, 10, 34, 8, 17, 21, 23, 29, 31, 40, 14, 33, 22, 37);
	}
	if (map == 122)
	{
		mapd(20, 44, 3, 42, 8, 20, 48, 46, 37, 3, 18, 44, 12, 0, 0, 0, 0, 0, 0, 0, 0, 12, 41, 6, 33, 6, 25, 12, 19, 16, 25, 10, 30, 23, 28, 22, 21, 25, 15, 21, 10, 31, 4, 28, 11, 32, 24, 32, 33, 30, 40, 24, 43, 18, 37, 41, 38, 42, 27, 47, 15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 141)
	{
		mapd(23, 30, 3, 22, 8, 34, 39, 43, 28, 18, 17, 37, 39, 31, 29, 21, 16, 0, 0, 0, 0, 27, 18, 27, 19, 34, 18, 34, 19, 22, 12, 21, 12, 34, 28, 34, 29, 30, 34, 31, 34, 27, 29, 27, 30, 21, 19, 38, 18, 38, 16, 22, 24, 24, 16, 35, 15, 41, 17, 39, 29, 31, 31, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 142)
	{
		mapd(36, 37, 3, 23, 12, 18, 39, 39, 25, 12, 28, 19, 17, 23, 17, 25, 17, 12, 13, 37, 38, 15, 28, 18, 28, 19, 33, 18, 37, 22, 35, 27, 35, 29, 37, 34, 38, 37, 34, 36, 30, 30, 30, 36, 24, 36, 20, 31, 19, 28, 22, 25, 23, 21, 22, 28, 15, 21, 15, 17, 14, 15, 18, 15, 21, 16, 25, 25, 30, 29, 19);
	}
	if (map == 143)
	{
		mapd(26, 26, 3, 25, 12, 26, 39, 38, 25, 12, 26, 16, 26, 17, 26, 25, 35, 26, 35, 34, 15, 15, 25, 15, 28, 18, 29, 19, 26, 24, 27, 25, 30, 19, 35, 17, 33, 23, 35, 31, 36, 31, 35, 35, 34, 36, 34, 31, 30, 31, 31, 29, 25, 30, 25, 33, 22, 33, 23, 35, 18, 31, 15, 25, 15, 22, 15, 18, 17, 16, 18);
	}
	if (map == 144)
	{
		mapd(25, 25, 3, 25, 12, 28, 39, 39, 37, 13, 36, 13, 14, 15, 14, 17, 14, 23, 21, 27, 21, 35, 36, 35, 37, 32, 36, 32, 37, 28, 36, 24, 36, 20, 36, 16, 34, 16, 32, 17, 28, 25, 28, 31, 32, 36, 27, 33, 25, 29, 25, 24, 22, 26, 23, 14, 24, 19, 18, 30, 18, 37, 18, 36, 18, 36, 14, 27, 14, 15, 16);
	}
	if (map == 161)
	{
		mapd(22, 29, 3, 27, 12, 34, 39, 39, 22, 12, 26, 18, 17, 18, 16, 15, 36, 15, 37, 26, 20, 20, 17, 16, 16, 20, 21, 18, 23, 16, 25, 20, 27, 19, 36, 21, 33, 27, 28, 29, 26, 32, 31, 30, 36, 33, 37, 14, 36, 34, 25, 36, 22, 32, 20, 32, 18, 33, 16, 28, 15, 17, 18, 15, 24, 16, 36, 16, 35, 26, 12);
	}
	if (map == 162)
	{
		mapd(26, 44, 3, 25, 3, 21, 48, 48, 20, 3, 33, 42, 9, 43, 9, 9, 28, 20, 41, 24, 9, 21, 46, 19, 44, 17, 41, 19, 38, 29, 42, 34, 37, 38, 41, 41, 38, 43, 39, 30, 25, 26, 22, 33, 23, 39, 23, 43, 19, 41, 13, 23, 12, 22, 7, 20, 20, 15, 24, 14, 30, 8, 30, 7, 33, 16, 27, 16, 35, 15, 21);
	}
	if (map == 163)
	{
		mapd(25, 34, 3, 15, 13, 34, 37, 39, 23, 13, 34, 29, 17, 30, 17, 25, 38, 26, 38, 22, 12, 14, 17, 14, 22, 13, 29, 17, 36, 20, 37, 21, 37, 28, 33, 28, 32, 23, 29, 23, 22, 18, 22, 19, 16, 23, 14, 28, 13, 37, 16, 37, 22, 38, 28, 36, 32, 32, 29, 33, 25, 33, 20, 31, 18, 29, 22, 27, 27, 15, 36);
	}
	if (map == 42)
	{
		mapd(27, 35, 3, 26, 13, 27, 38, 38, 26, 13, 25, 25, 29, 27, 21, 0, 0, 0, 0, 0, 0, 15, 25, 15, 27, 18, 32, 21, 29, 21, 24, 20, 19, 32, 23, 30, 35, 34, 32, 34, 25, 31, 17, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 43)
	{
		mapd(44, 47, 3, 0, 0, 26, 40, 0, 0, 0, 0, 25, 26, 0, 0, 0, 0, 0, 0, 0, 0, 24, 37, 27, 35, 29, 34, 33, 31, 32, 33, 35, 27, 36, 27, 34, 22, 29, 19, 26, 22, 24, 24, 23, 20, 19, 19, 16, 21, 14, 24, 17, 27, 19, 32, 22, 32, 24, 34, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 44)
	{
		mapd(44, 47, 3, 25, 11, 0, 0, 0, 0, 0, 0, 25, 25, 0, 0, 0, 0, 0, 0, 0, 0, 25, 15, 22, 16, 19, 18, 20, 19, 22, 18, 17, 20, 15, 24, 16, 24, 16, 28, 20, 30, 22, 31, 26, 29, 31, 31, 36, 30, 36, 26, 33, 20, 29, 18, 18, 21, 14, 21, 20, 17, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 45)
	{
		mapd(44, 47, 3, 0, 0, 0, 0, 0, 0, 11, 25, 25, 26, 0, 0, 0, 0, 0, 0, 0, 0, 26, 25, 27, 24, 28, 26, 31, 28, 30, 31, 28, 36, 26, 36, 24, 35, 24, 36, 20, 34, 19, 30, 15, 27, 16, 22, 20, 21, 20, 18, 23, 17, 27, 15, 29, 15, 31, 16, 31, 22, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 46)
	{
		mapd(44, 47, 3, 0, 0, 0, 0, 40, 25, 0, 0, 26, 26, 0, 0, 0, 0, 0, 0, 0, 0, 23, 25, 23, 27, 26, 27, 26, 25, 20, 19, 21, 24, 21, 29, 19, 33, 22, 35, 25, 36, 27, 34, 30, 32, 32, 29, 35, 27, 36, 24, 38, 26, 33, 21, 31, 17, 25, 15, 23, 17, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 36)
	{
		mapd(33, 33, 3, 0, 0, 0, 0, 0, 0, 0, 0, 22, 20, 0, 0, 0, 0, 0, 0, 0, 0, 14, 37, 21, 39, 18, 28, 18, 21, 26, 18, 30, 17, 38, 24, 33, 25, 24, 23, 26, 31, 26, 37, 35, 37, 39, 38, 39, 31, 36, 28, 29, 38, 19, 36, 15, 27, 20, 24, 18, 16, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 37)
	{
		mapd(25, 40, 3, 0, 0, 0, 0, 0, 0, 0, 0, 25, 14, 0, 0, 0, 0, 0, 0, 0, 0, 28, 38, 32, 37, 32, 33, 26, 35, 27, 35, 24, 30, 27, 30, 24, 27, 26, 26, 24, 24, 25, 23, 25, 17, 31, 21, 33, 20, 30, 24, 20, 25, 18, 23, 18, 21, 21, 17, 22, 15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 47 || map == 79 || map == 81)
	{
		mapd(24, 19, 3, 24, 14, 20, 39, 39, 29, 17, 29, 24, 33, 0, 0, 0, 0, 0, 0, 0, 0, 20, 36, 22, 33, 21, 34, 18, 32, 19, 28, 23, 26, 27, 23, 32, 23, 33, 26, 35, 27, 36, 30, 37, 29, 26, 20, 24, 21, 22, 19, 22, 16, 26, 16, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 322 || map == 324 || map == 326)
	{
		mapd(29, 25, 3, 29, 14, 26, 36, 37, 19, 15, 27, 25, 24, 0, 0, 0, 0, 0, 0, 0, 0, 17, 27, 19, 27, 19, 29, 21, 31, 23, 32, 24, 30, 24, 29, 24, 28, 25, 34, 26, 32, 26, 25, 23, 25, 25, 20, 26, 20, 26, 21, 25, 22, 29, 27, 32, 24, 35, 22, 34, 19, 32, 20, 28, 19, 29, 19, 29, 17, 29, 16);
	}
	if (map == 48 || map == 80 || map == 82)
	{
		mapd(24, 31, 3, 34, 11, 28, 40, 40, 28, 11, 24, 24, 18, 0, 0, 0, 0, 0, 0, 0, 0, 21, 20, 24, 22, 26, 19, 15, 27, 16, 27, 20, 30, 20, 31, 28, 37, 29, 37, 25, 34, 24, 34, 29, 29, 29, 30, 33, 24, 34, 24, 32, 17, 33, 17, 36, 28, 24, 29, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 323 || map == 325 || map == 327)
	{
		mapd(9, 6, 3, 26, 14, 22, 36, 37, 22, 15, 30, 19, 22, 0, 0, 0, 0, 0, 0, 0, 0, 27, 23, 27, 27, 26, 27, 27, 30, 25, 31, 23, 33, 23, 34, 21, 32, 19, 33, 17, 32, 18, 30, 16, 31, 23, 31, 29, 26, 30, 24, 29, 22, 28, 20, 30, 19, 31, 18, 32, 19, 34, 20, 34, 23, 26, 19, 27, 17, 26, 16);
	}
	if (map == 61)
	{
		mapd(27, 22, 3, 21, 9, 14, 35, 42, 30, 19, 24, 14, 32, 0, 0, 0, 0, 0, 0, 0, 0, 15, 39, 19, 41, 22, 37, 27, 37, 29, 34, 30, 35, 39, 31, 36, 32, 35, 33, 34, 31, 30, 31, 27, 28, 22, 29, 23, 31, 32, 26, 31, 16, 29, 18, 25, 16, 24, 13, 21, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 62)
	{
		mapd(9, 6, 3, 0, 0, 0, 0, 42, 29, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 39, 29, 35, 33, 36, 31, 29, 35, 24, 36, 18, 39, 15, 40, 18, 31, 19, 29, 14, 28, 13, 25, 15, 22, 17, 22, 15, 17, 17, 15, 23, 16, 24, 14, 27, 15, 25, 17, 22, 38, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 63)
	{
		mapd(35, 11, 3, 36, 8, 0, 0, 0, 0, 0, 0, 17, 32, 0, 0, 0, 0, 0, 0, 0, 0, 20, 38, 19, 39, 22, 40, 24, 41, 28, 40, 30, 39, 32, 38, 29, 34, 27, 30, 27, 27, 29, 24, 24, 24, 23, 22, 19, 21, 21, 15, 28, 12, 32, 15, 34, 13, 37, 22, 35, 28, 38, 31, 40, 30, 42, 32, 39, 34, 27, 24);
	}
	if (map == 64)
	{
		mapd(9, 6, 3, 0, 0, 27, 39, 0, 0, 0, 0, 30, 24, 0, 0, 0, 0, 0, 0, 0, 0, 25, 38, 29, 38, 27, 35, 28, 35, 25, 30, 22, 29, 16, 30, 14, 25, 17, 23, 15, 21, 14, 22, 16, 25, 21, 20, 23, 23, 30, 18, 27, 16, 29, 16, 25, 17, 28, 24, 31, 23, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 71)
	{
		mapd(25, 41, 3, 0, 0, 0, 0, 0, 0, 0, 0, 35, 38, 0, 0, 0, 0, 0, 0, 0, 0, 21, 37, 23, 33, 29, 30, 34, 33, 33, 37, 37, 37, 30, 26, 33, 24, 28, 20, 25, 18, 28, 15, 32, 13, 34, 10, 35, 11, 20, 14, 17, 15, 18, 12, 20, 17, 23, 16, 26, 32, 20, 33, 20, 34, 33, 31, 0, 0, 0, 0);
	}
	if (map == 72)
	{
		mapd(9, 6, 3, 21, 20, 0, 0, 42, 28, 9, 36, 36, 18, 0, 0, 0, 0, 0, 0, 0, 0, 13, 36, 13, 35, 15, 25, 15, 26, 21, 24, 22, 24, 27, 22, 27, 23, 32, 19, 33, 20, 33, 29, 34, 29, 33, 28, 36, 32, 36, 33, 39, 29, 30, 25, 31, 22, 24, 21, 17, 28, 16, 32, 14, 21, 12, 20, 10, 18, 20, 26);
	}
	if (map == 73)
	{
		mapd(44, 31, 3, 0, 0, 0, 0, 0, 0, 0, 0, 31, 15, 32, 35, 0, 0, 0, 0, 0, 0, 8, 24, 12, 23, 10, 19, 9, 14, 13, 13, 16, 17, 18, 21, 21, 16, 23, 19, 22, 23, 27, 22, 26, 14, 31, 17, 33, 12, 40, 14, 43, 19, 41, 22, 42, 13, 45, 12, 45, 22, 42, 21, 38, 22, 36, 18, 38, 15, 41, 17);
	}
	if (map == 74)
	{
		mapd(28, 36, 3, 18, 10, 18, 41, 0, 0, 0, 0, 28, 38, 0, 0, 0, 0, 0, 0, 0, 0, 23, 38, 21, 41, 28, 41, 26, 37, 28, 34, 31, 37, 30, 39, 26, 27, 21, 15, 17, 14, 15, 16, 17, 18, 18, 17, 20, 12, 29, 16, 32, 15, 34, 20, 30, 21, 33, 23, 38, 24, 38, 25, 38, 26, 41, 30, 37, 31, 34, 32);
	}
	if (map == 75)
	{
		mapd(9, 6, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 34, 21, 40, 15, 34, 16, 36, 18, 32, 16, 30, 15, 27, 21, 27, 14, 17, 19, 16, 31, 15, 31, 20, 25, 18, 33, 28, 38, 27, 37, 33, 33, 33, 29, 24, 34, 40, 32, 38, 29, 38, 25, 23, 27, 21, 26, 17, 19, 37);
	}
	if (map == 76)
	{
		mapd(9, 6, 3, 0, 0, 0, 0, 43, 33, 8, 29, 20, 21, 0, 0, 0, 0, 0, 0, 0, 0, 11, 28, 15, 30, 14, 30, 18, 26, 18, 27, 17, 28, 26, 35, 27, 34, 28, 33, 37, 32, 37, 31, 37, 30, 40, 34, 25, 24, 29, 23, 32, 21, 32, 20, 29, 16, 22, 31, 23, 30, 20, 23, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 77)
	{
		mapd(28, 25, 3, 31, 22, 31, 23, 42, 29, 9, 25, 20, 26, 0, 0, 0, 0, 0, 0, 0, 0, 19, 28, 11, 26, 14, 26, 16, 28, 19, 27, 20, 29, 23, 27, 23, 28, 26, 26, 27, 23, 30, 22, 33, 23, 36, 24, 36, 27, 37, 30, 39, 29, 20, 28, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 78)
	{
		mapd(27, 29, 3, 28, 29, 28, 30, 42, 25, 9, 27, 31, 18, 32, 18, 0, 0, 0, 0, 0, 0, 12, 26, 14, 27, 19, 27, 19, 24, 22, 24, 23, 20, 25, 18, 30, 17, 30, 20, 33, 20, 33, 17, 26, 27, 25, 30, 30, 30, 31, 26, 34, 27, 35, 24, 38, 24, 38, 25, 26, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 240)
	{
		mapd(14, 43, 3, 16, 3, 35, 48, 39, 9, 13, 43, 9, 26, 46, 14, 13, 19, 18, 41, 0, 0, 18, 43, 28, 37, 20, 42, 15, 25, 14, 28, 17, 14, 19, 16, 23, 8, 24, 9, 24, 11, 24, 13, 27, 18, 28, 20, 41, 22, 37, 23, 37, 26, 45, 29, 45, 36, 42, 43, 39, 44, 32, 43, 34, 41, 34, 32, 22, 37, 16, 41);
	}
	if (map == 301)
	{
		mapd(24, 39, 3, 30, 9, 13, 42, 43, 27, 10, 17, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 16, 12, 40, 15, 24, 18, 26, 20, 22, 20, 30, 21, 38, 22, 19, 23, 26, 24, 21, 25, 34, 28, 23, 28, 29, 26, 37, 31, 10, 29, 35, 30, 31, 31, 28, 35, 29, 36, 21, 36, 22, 36, 29, 36, 30, 37, 26, 41, 28);
	}
	if (map == 302)
	{
		mapd(29, 34, 3, 27, 15, 27, 36, 34, 18, 17, 19, 27, 16, 0, 0, 0, 0, 0, 0, 0, 0, 20, 31, 14, 28, 23, 30, 26, 33, 29, 30, 31, 33, 32, 35, 34, 32, 36, 31, 35, 29, 36, 28, 38, 30, 20, 20, 19, 18, 22, 22, 26, 23, 32, 17, 32, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 303)
	{
		mapd(28, 23, 3, 40, 6, 36, 40, 40, 26, 11, 31, 28, 22, 0, 0, 0, 0, 0, 0, 0, 0, 13, 30, 16, 30, 18, 33, 22, 33, 23, 31, 27, 31, 28, 36, 27, 37, 35, 37, 34, 34, 35, 31, 33, 28, 35, 26, 38, 26, 30, 27, 17, 23, 20, 21, 22, 23, 22, 22, 21, 23, 24, 20, 22, 17, 20, 13, 28, 15, 33, 19);
	}
	if (map == 305)
	{
		mapd(9, 6, 3, 34, 10, 24, 46, 44, 30, 8, 29, 19, 27, 0, 0, 0, 0, 0, 0, 0, 0, 11, 28, 15, 27, 13, 15, 18, 17, 17, 21, 19, 22, 23, 15, 25, 20, 31, 18, 33, 14, 34, 25, 34, 31, 41, 30, 29, 32, 27, 34, 23, 33, 25, 41, 24, 41, 27, 28, 24, 26, 25, 25, 27, 24, 26, 22, 29, 21, 17, 32);
	}
	if (map == 306)
	{
		mapd(21, 39, 3, 33, 23, 19, 41, 42, 38, 14, 23, 27, 37, 0, 0, 0, 0, 0, 0, 0, 0, 12, 33, 16, 32, 15, 27, 20, 21, 24, 20, 26, 23, 24, 23, 30, 24, 31, 26, 35, 29, 37, 32, 41, 35, 39, 38, 36, 40, 31, 40, 32, 46, 29, 48, 27, 48, 27, 46, 28, 44, 25, 42, 24, 35, 23, 32, 19, 27, 31, 36);
	}
	if (map == 307)
	{
		mapd(24, 39, 3, 0, 0, 0, 0, 0, 0, 12, 24, 21, 26, 0, 0, 0, 0, 0, 0, 0, 0, 26, 37, 28, 34, 27, 32, 29, 29, 31, 25, 30, 26, 24, 30, 22, 27, 19, 29, 18, 31, 20, 34, 19, 34, 20, 33, 17, 23, 13, 26, 14, 24, 25, 22, 23, 19, 27, 17, 25, 16, 30, 16, 29, 18, 31, 20, 36, 24, 39, 25);
	}
	if (map == 308)
	{
		mapd(28, 40, 3, 0, 0, 0, 0, 0, 0, 0, 0, 14, 26, 0, 0, 0, 0, 0, 0, 0, 0, 17, 30, 16, 31, 17, 31, 16, 30, 16, 24, 15, 21, 17, 19, 18, 18, 22, 22, 23, 20, 25, 18, 28, 17, 29, 17, 35, 22, 33, 20, 28, 27, 29, 26, 30, 30, 30, 31, 30, 32, 31, 33, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 309)
	{
		mapd(22, 32, 3, 24, 19, 29, 38, 36, 34, 12, 28, 23, 32, 0, 0, 0, 0, 0, 0, 0, 0, 14, 30, 15, 32, 18, 33, 19, 31, 18, 27, 19, 24, 21, 22, 21, 21, 23, 20, 26, 21, 28, 23, 29, 23, 30, 24, 27, 25, 25, 28, 27, 29, 29, 28, 33, 32, 34, 30, 33, 35, 29, 37, 29, 36, 0, 0, 0, 0, 0, 0);
	}
	if (map == 310)
	{
		mapd(18, 18, 3, 27, 10, 27, 41, 42, 26, 10, 24, 19, 18, 0, 0, 0, 0, 0, 0, 0, 0, 12, 26, 13, 23, 16, 21, 19, 20, 22, 21, 23, 25, 25, 27, 28, 26, 27, 23, 25, 22, 31, 20, 33, 18, 34, 20, 29, 15, 25, 13, 23, 11, 24, 10, 38, 25, 40, 27, 40, 25, 32, 32, 33, 33, 26, 38, 19, 32, 18, 33);
	}
	if (map == 311)
	{
		mapd(27, 43, 3, 24, 21, 27, 44, 41, 40, 0, 0, 14, 42, 0, 0, 0, 0, 0, 0, 0, 0, 21, 42, 23, 40, 25, 38, 28, 34, 29, 34, 23, 32, 25, 34, 28, 32, 30, 30, 33, 31, 24, 29, 27, 27, 24, 25, 29, 24, 33, 26, 36, 26, 37, 24, 13, 28, 16, 25, 13, 36, 18, 41, 26, 41, 29, 37, 32, 41, 39, 41);
	}
	if (map == 313)
	{
		mapd(35, 30, 3, 19, 16, 35, 31, 30, 10, 16, 41, 17, 33, 0, 0, 0, 0, 0, 0, 0, 0, 20, 31, 21, 30, 18, 32, 17, 38, 24, 22, 21, 19, 20, 21, 29, 16, 27, 12, 27, 14, 27, 16, 30, 22, 30, 23, 28, 26, 30, 29, 31, 31, 28, 24, 26, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 315)
	{
		mapd(26, 32, 3, 27, 13, 16, 34, 38, 27, 14, 29, 25, 18, 0, 0, 0, 0, 0, 0, 0, 0, 15, 23, 21, 37, 29, 35, 37, 28, 36, 20, 27, 15, 22, 19, 20, 30, 30, 30, 30, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 317)
	{
		mapd(26, 27, 3, 28, 17, 28, 36, 34, 29, 12, 29, 27, 27, 0, 0, 0, 0, 0, 0, 0, 0, 17, 27, 17, 25, 21, 26, 24, 27, 28, 31, 27, 33, 31, 29, 33, 28, 31, 37, 29, 25, 29, 19, 33, 21, 35, 18, 37, 19, 39, 19, 38, 18, 36, 20, 35, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 328)
	{
		mapd(28, 40, 3, 0, 0, 0, 0, 33, 31, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (map == 90000)
	{
		mapd(36, 39, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (汎用番号 == 1)
	{
		mapd(28, 25, 3, 31, 22, 31, 23, 42, 29, 9, 25, 20, 26, 0, 0, 0, 0, 0, 0, 0, 0, 19, 28, 11, 26, 14, 26, 16, 28, 19, 27, 20, 29, 23, 27, 23, 28, 26, 26, 27, 23, 30, 22, 33, 23, 36, 24, 36, 27, 37, 30, 39, 29, 20, 28, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (汎用番号 == 2)
	{
		mapd(27, 29, 3, 28, 29, 28, 30, 42, 25, 9, 27, 31, 18, 32, 18, 0, 0, 0, 0, 0, 0, 12, 26, 14, 27, 19, 27, 19, 24, 22, 24, 23, 20, 25, 18, 30, 17, 30, 20, 33, 20, 33, 17, 26, 27, 25, 30, 30, 30, 31, 26, 34, 27, 35, 24, 38, 24, 38, 25, 26, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (汎用番号 == 101)
	{
		mapd(20, 23, 3, 28, 9, 27, 42, 20, 22, 19, 22, 28, 28, 0, 0, 0, 0, 0, 0, 0, 0, 26, 40, 27, 36, 29, 36, 29, 33, 29, 29, 27, 31, 25, 29, 22, 29, 22, 25, 19, 24, 20, 20, 22, 18, 26, 19, 27, 22, 31, 20, 32, 20, 31, 16, 28, 14, 29, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (汎用番号 == 102)
	{
		mapd(29, 26, 3, 28, 9, 26, 42, 29, 25, 27, 25, 34, 32, 0, 0, 0, 0, 0, 0, 0, 0, 27, 40, 25, 38, 26, 35, 23, 34, 23, 30, 24, 30, 27, 28, 29, 31, 34, 24, 34, 29, 28, 23, 30, 21, 31, 18, 30, 15, 28, 14, 29, 12, 23, 28, 33, 22, 34, 22, 35, 22, 36, 22, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (汎用番号 == 201)
	{
		mapd(27, 25, 3, 30, 14, 24, 37, 37, 26, 14, 21, 23, 25, 0, 0, 0, 0, 0, 0, 0, 0, 25, 35, 26, 33, 29, 32, 28, 30, 31, 28, 33, 27, 34, 26, 27, 27, 27, 24, 24, 22, 21, 24, 19, 24, 17, 22, 29, 21, 28, 18, 31, 17, 27, 23, 28, 23, 29, 23, 29, 22, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (汎用番号 == 202)
	{
		mapd(21, 29, 3, 27, 14, 25, 37, 37, 23, 14, 28, 21, 28, 0, 0, 0, 0, 0, 0, 0, 0, 16, 29, 18, 26, 19, 26, 19, 22, 23, 21, 26, 20, 26, 17, 31, 17, 30, 20, 32, 22, 31, 25, 34, 24, 33, 28, 35, 31, 36, 33, 32, 36, 30, 34, 26, 34, 25, 31, 23, 31, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (汎用番号 == 203)
	{
		mapd(28, 29, 3, 32, 14, 17, 37, 35, 36, 14, 19, 37, 20, 0, 0, 0, 0, 0, 0, 0, 0, 17, 34, 17, 31, 23, 32, 26, 25, 26, 26, 22, 26, 19, 19, 21, 16, 25, 17, 28, 20, 26, 34, 29, 36, 33, 34, 32, 36, 35, 31, 30, 29, 32, 26, 33, 22, 32, 17, 37, 19, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (汎用番号 == 204)
	{
		mapd(24, 25, 3, 25, 14, 33, 37, 37, 23, 14, 27, 24, 22, 0, 0, 0, 0, 0, 0, 0, 0, 17, 27, 17, 28, 24, 17, 25, 17, 33, 23, 33, 24, 32, 33, 33, 33, 28, 33, 23, 30, 22, 22, 21, 20, 25, 20, 26, 23, 30, 21, 29, 27, 24, 27, 18, 30, 21, 24, 33, 27, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (汎用番号 == 301)
	{
		mapd(26, 26, 3, 24, 13, 23, 37, 37, 31, 15, 27, 32, 31, 0, 0, 0, 0, 0, 0, 0, 0, 31, 30, 31, 32, 33, 32, 33, 30, 27, 31, 22, 34, 25, 28, 27, 24, 28, 24, 27, 20, 24, 20, 23, 16, 21, 18, 20, 20, 19, 22, 19, 25, 17, 26, 24, 32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (汎用番号 == 302)
	{
		mapd(22, 19, 3, 31, 14, 16, 37, 37, 27, 14, 24, 26, 28, 0, 0, 0, 0, 0, 0, 0, 0, 26, 26, 26, 30, 26, 34, 26, 36, 30, 36, 32, 32, 33, 28, 35, 28, 34, 25, 32, 23, 30, 21, 31, 17, 27, 18, 24, 19, 21, 21, 20, 24, 17, 25, 19, 27, 16, 32, 20, 32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (汎用番号 == 401)
	{
		mapd(20, 26, 3, 27, 16, 36, 34, 38, 33, 18, 24, 22, 34, 0, 0, 0, 0, 0, 0, 0, 0, 21, 33, 21, 35, 23, 35, 23, 33, 18, 33, 17, 30, 15, 28, 15, 25, 20, 25, 18, 27, 20, 22, 22, 19, 25, 17, 28, 18, 28, 22, 25, 24, 32, 18, 33, 20, 32, 22, 32, 23, 37, 26, 37, 29, 32, 26, 36, 32, 36, 31);
	}
	if (汎用番号 == 402)
	{
		mapd(18, 23, 3, 25, 18, 15, 38, 29, 23, 16, 24, 25, 32, 0, 0, 0, 0, 0, 0, 0, 0, 13, 36, 13, 34, 17, 34, 17, 36, 15, 36, 15, 34, 15, 32, 17, 29, 18, 25, 17, 23, 19, 22, 23, 23, 24, 25, 26, 27, 28, 25, 20, 18, 18, 20, 23, 30, 24, 30, 25, 30, 26, 30, 27, 30, 25, 20, 21, 23, 22, 23);
	}
	if (汎用番号 == 403)
	{
		mapd(23, 23, 3, 18, 14, 33, 37, 38, 17, 22, 33, 32, 26, 0, 0, 0, 0, 0, 0, 0, 0, 25, 35, 24, 32, 22, 31, 29, 34, 31, 32, 32, 36, 31, 26, 30, 24, 36, 26, 37, 19, 31, 14, 28, 16, 32, 18, 33, 20, 24, 17, 21, 22, 22, 22, 22, 23, 21, 23, 20, 15, 18, 16, 32, 27, 32, 25, 36, 16, 0, 0);
	}
	if (汎用番号 == 404)
	{
		mapd(25, 31, 3, 23, 20, 17, 38, 35, 24, 16, 29, 26, 31, 0, 0, 0, 0, 0, 0, 0, 0, 20, 37, 25, 36, 26, 35, 26, 33, 29, 31, 32, 31, 32, 29, 34, 29, 34, 27, 35, 25, 30, 23, 28, 24, 27, 25, 26, 27, 23, 27, 23, 24, 23, 23, 19, 21, 17, 22, 17, 24, 16, 26, 16, 25, 18, 32, 19, 33, 21, 33);
	}
	if (汎用番号 == 405)
	{
		mapd(19, 25, 3, 16, 14, 22, 36, 32, 28, 15, 15, 29, 28, 0, 0, 0, 0, 0, 0, 0, 0, 24, 35, 21, 34, 23, 33, 19, 33, 18, 31, 15, 30, 15, 27, 15, 25, 16, 21, 14, 21, 18, 15, 22, 17, 26, 17, 28, 19, 28, 23, 26, 24, 24, 24, 25, 28, 29, 27, 30, 31, 29, 33, 28, 34, 27, 34, 26, 34, 31, 27);
	}
	if (汎用番号 == 406)
	{
		mapd(9, 6, 3, 24, 16, 26, 36, 35, 28, 16, 28, 24, 27, 0, 0, 0, 0, 0, 0, 0, 0, 19, 27, 19, 30, 22, 32, 26, 33, 25, 31, 27, 28, 31, 26, 31, 29, 29, 24, 27, 22, 24, 22, 22, 23, 20, 26, 23, 26, 23, 24, 24, 29, 23, 31, 24, 33, 26, 28, 23, 19, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
	}
	if (汎用番号 == 407)
	{
		mapd(24, 21, 3, 32, 15, 22, 37, 37, 30, 18, 17, 27, 20, 0, 0, 0, 0, 0, 0, 0, 0, 16, 30, 14, 23, 16, 25, 19, 24, 19, 19, 22, 16, 24, 14, 28, 15, 23, 32, 23, 31, 24, 31, 24, 32, 25, 37, 29, 37, 29, 33, 29, 30, 28, 27, 25, 26, 34, 24, 36, 26, 37, 24, 39, 23, 39, 24, 31, 17, 0, 0);
	}
	if (汎用番号 == 408)
	{
		mapd(36, 25, 3, 29, 13, 25, 41, 39, 30, 10, 25, 37, 23, 0, 0, 0, 0, 0, 0, 0, 0, 20, 27, 25, 26, 24, 24, 28, 23, 25, 19, 22, 22, 22, 18, 16, 24, 12, 26, 15, 30, 18, 30, 24, 34, 24, 38, 28, 38, 29, 34, 28, 31, 31, 30, 31, 28, 35, 30, 30, 19, 28, 18, 26, 17, 25, 10, 24, 12, 15, 20);
	}
	if (汎用番号 == 409)
	{
		mapd(28, 24, 3, 19, 12, 29, 39, 39, 18, 13, 25, 29, 24, 0, 0, 0, 0, 0, 0, 0, 0, 13, 38, 14, 36, 18, 35, 15, 28, 17, 30, 22, 29, 26, 30, 33, 38, 37, 34, 32, 30, 34, 28, 38, 24, 37, 23, 37, 14, 33, 16, 29, 18, 25, 20, 13, 14, 15, 18, 25, 14, 20, 18, 19, 23, 20, 26, 24, 25, 19, 14);
	}
	LOG_TADA("　　キャラ位置＝" + string(◆キャラ位置) + "\n");
	for (; ; )
	{
		if (◆キャラ位置 == 0 && ＳｔＸＸ != 0)
		{
			Ｒ８キャラ配置(ＳｔＸＸ, ＳｔＹＹ, ＳｔＮＮ);
			break;
		}
		if (◆キャラ位置 == 10 && NNx != 0)
		{
			Ｒ８キャラ配置(NNx, NNy + 1, 3);
			break;
		}
		if (◆キャラ位置 == 11 && SSx != 0)
		{
			Ｒ８キャラ配置(SSx, SSy - 1, 1);
			break;
		}
		if (◆キャラ位置 == 12 && EEx != 0)
		{
			Ｒ８キャラ配置(EEx - 1, EEy, 4);
			break;
		}
		if (◆キャラ位置 == 13 && WWx != 0)
		{
			Ｒ８キャラ配置(WWx + 1, WWy, 2);
			break;
		}
		LOG_TADA("　ＥＲＲＯＲ　キャラの配置位置データがありません");
		if (◆キャラ位置 == 0)
		{
			LOG_TADA("　スタート位置\n");
		}
		if (◆キャラ位置 == 10)
		{
			LOG_TADA("　北から\n");
		}
		if (◆キャラ位置 == 11)
		{
			LOG_TADA("　南から\n");
		}
		if (◆キャラ位置 == 12)
		{
			LOG_TADA("　東から\n");
		}
		if (◆キャラ位置 == 13)
		{
			LOG_TADA("　西から\n");
		}
		int ra = RAND(5);
		if (ra == 1)
		{
			◆キャラ位置 = 0;
		}
		if (ra == 2)
		{
			◆キャラ位置 = 10;
		}
		if (ra == 3)
		{
			◆キャラ位置 = 11;
		}
		if (ra == 4)
		{
			◆キャラ位置 = 12;
		}
		if (ra == 5)
		{
			◆キャラ位置 = 13;
		}
		LOG_TADA("\n");
	}
	Ｑ[◆iiq].エリア表示[◆ＢＭＡＰ][0] = 1;
	if (Ｍ[◆ＢＭＡＰ].初登録 != 0)
	{
		int loopx = 0;
		int loopy = 0;
		for (loopx = 1; loopx < 51; ++loopx)
		{
			for (loopy = 1; loopy < 51; ++loopy)
			{
				aa = Ｍ[◆ＢＭＡＰ].maptt[loopx][loopy];
				bb = Ｍ[◆ＢＭＡＰ].maptz[loopx][loopy];
				cc = Ｍ[◆ＢＭＡＰ].maptv[loopx][loopy];
				if (FA[146] == 1)
				{
					if (aa == 6)
					{
						aa = 0;
					}
					if (aa == 2)
					{
						aa = 1;
					}
				}
				if (aa != 0)
				{
					ＭＤ固定(loopx, loopy, aa, bb, cc);
				}
			}
		}
		LOG_TADA("　再読み込みです（一度通ったＭＡＰ）\n");
	}
	if (Ｍ[◆ＢＭＡＰ].初登録 == 0)
	{
		◆ＢＭＡＰ新規読み込み回数++;
		if (Ｎ転移 == 1)
		{
			ＭＤ固定(NNx, NNy, 3, 1, 0);
		}
		if (Ｓ転移 == 1)
		{
			ＭＤ固定(SSx, SSy, 3, 3, 0);
		}
		if (Ｅ転移 == 1)
		{
			ＭＤ固定(EEx, EEy, 3, 2, 0);
		}
		if (Ｗ転移 == 1)
		{
			ＭＤ固定(WWx, WWy, 3, 4, 0);
		}
		if (宝箱 != 0 && ＰＴＡ有無／固有(18) != 0)
		{
			++宝箱;
		}
		while (宝箱 != 0)
		{
			--宝箱;
			aa = RAND(2);
			if (FA[146] == 1)
			{
				aa = 0;
			}
			if (◆iiq == 61)
			{
				aa = 1;
			}
			if (aa == 0)
			{
				MDRandom(0, 1, 0, 0, 0);
			}
			if (aa == 1)
			{
				MDRandom(0, 2, 0, 0, 0);
			}
		}
		if (FA[146] == 1)
		{
			トラップ = 0;
		}
		while (トラップ != 0)
		{
			--トラップ;
			MDRandom(0, 6, 0, 0, 0);
		}
		while (冒険功績 != 0)
		{
			--冒険功績;
			MDRandom(0, 5, 0, 0, 0);
		}
		while (モンスター != 0)
		{
			--モンスター;
			MDRandom(0, 16, 0, 0, 0);
		}
		if (◆クエストボーナス物無し == 1)
		{
			return;
		}
		lint 配置数 = 8;
		lint xx = 0;
		lint yy = 0;
		lint 実配置数 = 0;
		if (◆クエストＥＸＰボーナス >= 40)
		{
			配置数 = 2;
		}
		while (配置数 != 0)
		{
			配置数--;
			xx = RAND(50);
			yy = RAND(50);
			if (Ｒ８置物番号(xx, yy) == 0 && Ｒ８床確認(xx, yy) == true)
			{
				Ｒ８置物配置(xx, yy, 212, -1);
				実配置数++;
				LOG_TADA("　ＯＫ＝" + string(xx) + "／" + string(yy) + "　床確認＝" + string(Ｒ８床確認(xx, yy)) + "\n");
			}
			else
			{
				LOG_TADA("　駄目＝" + string(xx) + "／" + string(yy) + "　床確認＝" + string(Ｒ８床確認(xx, yy)) + "\n");
			}
		}
		LOG_TADA("　　ＥＸＰボーナスを（" + string(実配置数) + "）個配置\n");
		配置数 = 1;
		実配置数 = 0;
		if (RAND(4) == 1)
		{
			配置数 = 2;
		}
		while (配置数 != 0)
		{
			配置数--;
			xx = RAND(50);
			yy = RAND(50);
			if (Ｒ８置物番号(xx, yy) == 0 && Ｒ８床確認(xx, yy) == true)
			{
				Ｒ８置物配置(xx, yy, 213, -1);
				実配置数++;
				LOG_TADA("　ＯＫ＝" + string(xx) + "／" + string(yy) + "　床確認＝" + string(Ｒ８床確認(xx, yy)) + "\n");
			}
			else
			{
				LOG_TADA("　駄目＝" + string(xx) + "／" + string(yy) + "　床確認＝" + string(Ｒ８床確認(xx, yy)) + "\n");
			}
		}
		LOG_TADA("　　お金を（" + string(実配置数) + "）個配置\n");
	}
}

int ＭＤ固定(lint xx, lint yy, lint 情報, lint 情報番号, lint 宝箱ランク)
{
	int 置物 = 0;
	if (情報 == 1)
	{
		置物 = 202;
	}
	if (情報 == 2)
	{
		置物 = 214;
	}
	if (情報 == 6)
	{
		置物 = 206;
	}
	if (情報 == 5)
	{
		置物 = 210;
	}
	if (情報 == 16)
	{
		置物 = 204;
	}
	if (情報 == 17)
	{
		置物 = 205;
	}
	if (情報 == 13)
	{
		置物 = 203;
	}
	if (情報 == 8)
	{
		置物 = 207;
	}
	if (情報 == 9)
	{
		置物 = 216;
	}
	if (情報 == 10)
	{
		置物 = 208;
	}
	if (情報 == 18)
	{
		置物 = 218;
	}
	if (情報 == 12)
	{
		置物 = 211;
	}
	if (情報 == 3)
	{
		置物 = 201;
	}
	if (情報 == 4)
	{
		置物 = 215;
	}
	if (情報 == 15)
	{
		置物 = 217;
	}
	if (情報 == 19)
	{
		置物 = 213;
	}
	if (情報 == 20)
	{
		置物 = 212;
	}
	if (情報 == 0)
	{
		置物 = 0;
	}
	if (FA[146] == 1)
	{
		if (情報 == 2)
		{
			置物 = 202;
			情報 = 1;
		}
		if (情報 == 6)
		{
			return 0;
		}
	}
	Ｍ[◆ＢＭＡＰ].maptt[xx][yy] = 情報;
	Ｍ[◆ＢＭＡＰ].maptz[xx][yy] = 情報番号;
	Ｍ[◆ＢＭＡＰ].maptv[xx][yy] = 宝箱ランク;
	Ｍ[◆ＢＭＡＰ].mapnn[xx][yy] = 1;
	Ｒ８置物配置(xx, yy, 0, -1);
	Ｒ８置物配置(xx, yy, 置物, -1);
	LOG_TADA("　　置物固定位置の配置　（" + ＭＤ情報文字列(xx, yy) + "）　（" + string(xx) + "）（" + string(yy) + "）\n");
	return 1;
}

int MDRandom(lint no, lint 情報, lint 情報番号, lint 宝箱ランク, lint ▲優先置物)
{
	lint loop = 0;
	lint xx = 0;
	lint yy = 0;
	lint ra = 0;
	lint mx_no = 0;
	lint ▲利用番号 = 0;
	int 置物 = 0;
	if (情報 == 1)
	{
		置物 = 202;
	}
	if (情報 == 2)
	{
		置物 = 214;
	}
	if (情報 == 6)
	{
		置物 = 206;
	}
	if (情報 == 5)
	{
		置物 = 210;
	}
	if (情報 == 16)
	{
		置物 = 204;
	}
	if (情報 == 17)
	{
		置物 = 205;
	}
	if (情報 == 13)
	{
		置物 = 203;
	}
	if (情報 == 8)
	{
		置物 = 207;
	}
	if (情報 == 9)
	{
		置物 = 216;
	}
	if (情報 == 10)
	{
		置物 = 208;
	}
	if (情報 == 18)
	{
		置物 = 218;
	}
	if (情報 == 12)
	{
		置物 = 211;
	}
	if (情報 == 3)
	{
		置物 = 201;
	}
	if (情報 == 4)
	{
		置物 = 215;
	}
	if (情報 == 15)
	{
		置物 = 217;
	}
	if (情報 == 19)
	{
		置物 = 213;
	}
	if (情報 == 20)
	{
		置物 = 212;
	}
	if (no == 0)
	{
		xx = 0;
		yy = 0;
		▲利用番号 = 0;
		for (loop = 1; loop < 26; loop++)
		{
			if (発生ＭＰ[loop] == 1)
			{
				▲利用番号 = loop;
				break;
			}
		}
		if (▲利用番号 == 0 && ▲優先置物 == 1)
		{
			for (loop = 1; loop < 26; loop++)
			{
				if (発生ＭＰ[loop] == 2 && Ｍ[◆ＢＭＡＰ].mapnn[発生ＭＸ[loop]][発生ＭＹ[loop]] == 0)
				{
					▲利用番号 = loop;
					break;
				}
			}
		}
		if (▲利用番号 != 0)
		{
			xx = 発生ＭＸ[▲利用番号];
			yy = 発生ＭＹ[▲利用番号];
			発生ＭＰ[▲利用番号] = 2;
			Ｍ[◆ＢＭＡＰ].maptt[xx][yy] = 情報;
			Ｍ[◆ＢＭＡＰ].maptz[xx][yy] = 情報番号;
			Ｍ[◆ＢＭＡＰ].maptv[xx][yy] = 宝箱ランク;
			Ｍ[◆ＢＭＡＰ].mapnn[xx][yy] = ▲優先置物;
			Ｒ８置物配置(xx, yy, 0, -1);
			Ｒ８置物配置(xx, yy, 置物, -1);
			LOG_TADA("　　置物ランダムの配置　（" + ＭＤ情報文字列(xx, yy) + "）　（" + string(xx) + "）（" + string(yy) + "）\n");
			return 1;
		}
	}
	if (no == 1)
	{
		xx = 0;
		yy = 0;
		▲利用番号 = 0;
		for (loop = 1; loop < 6; loop++)
		{
			if (広域ＭＰ[loop] == 1)
			{
				▲利用番号 = loop;
				break;
			}
		}
		if (▲利用番号 == 0 && ▲優先置物 == 1)
		{
			for (loop = 1; loop < 6; loop++)
			{
				if (広域ＭＰ[loop] == 2 && Ｍ[◆ＢＭＡＰ].mapnn[広域ＭＸ[loop]][広域ＭＹ[loop]] == 0)
				{
					▲利用番号 = loop;
					break;
				}
			}
		}
		if (▲利用番号 != 0)
		{
			xx = 広域ＭＸ[▲利用番号];
			yy = 広域ＭＹ[▲利用番号];
			広域ＭＰ[▲利用番号] = 2;
			Ｍ[◆ＢＭＡＰ].maptt[xx][yy] = 情報;
			Ｍ[◆ＢＭＡＰ].maptz[xx][yy] = 情報番号;
			Ｍ[◆ＢＭＡＰ].maptv[xx][yy] = 宝箱ランク;
			Ｍ[◆ＢＭＡＰ].mapnn[xx][yy] = ▲優先置物;
			Ｒ８置物配置(xx, yy, 置物, -1);
			LOG_TADA("　　置物ランダムの配置−広域　（" + ＭＤ情報文字列(xx, yy) + "）　（" + string(xx) + "）（" + string(yy) + "）\n");
			return 1;
		}
	}
	LOG_TADA("　　ＥＲＲＯＲ　【　（" + ＭＤ情報文字列(xx, yy) + "）　発生場所無し 広域＝" + string(no) + "　】\n");
	return 0;
}

int ＭＤ情報(lint xx, lint yy)
{
	return Ｍ[◆ＢＭＡＰ].maptt[xx][yy];
}

int ＭＤ情報番号(lint xx, lint yy)
{
	return Ｍ[◆ＢＭＡＰ].maptz[xx][yy];
}

void Ｍ置物(int xx, int yy, int no)
{
	Ｒ８置物配置(xx, yy, no, -1);
	Ｒ８置物移動フラグ(xx, yy, 0);
}

void mapd(int xx, int yy, int nnn, int Nx, int Ny, int Sx, int Sy, int Ex, int Ey, int Wx, int Wy, int axx1, int ayy1, int axx2, int ayy2, int axx3, int ayy3, int axx4, int ayy4, int axx5, int ayy5, int bxx01, int byy01, int bxx02, int byy02, int bxx03, int byy03, int bxx04, int byy04, int bxx05, int byy05, int bxx06, int byy06, int bxx07, int byy07, int bxx08, int byy08, int bxx09, int byy09, int bxx10, int byy10, int bxx11, int byy11, int bxx12, int byy12, int bxx13, int byy13, int bxx14, int byy14, int bxx15, int byy15, int bxx16, int byy16, int bxx17, int byy17, int bxx18, int byy18, int bxx19, int byy19, int bxx20, int byy20, int bxx21, int byy21, int bxx22, int byy22, int bxx23, int byy23, int bxx24, int byy24, int bxx25, int byy25)
{
	int loop = 0;
	for (loop = 1; loop < 6; ++loop)
	{
		広域ＭＸ[loop] = 0;
		広域ＭＹ[loop] = 0;
		広域ＭＰ[loop] = 0;
	}
	for (loop = 1; loop < 26; ++loop)
	{
		発生ＭＸ[loop] = 0;
		発生ＭＹ[loop] = 0;
		発生ＭＰ[loop] = 0;
	}
	ＳｔＸＸ = xx;
	ＳｔＹＹ = yy;
	ＳｔＮＮ = nnn;
	NNx = Nx;
	NNy = Ny;
	SSx = Sx;
	SSy = Sy;
	EEx = Ex;
	EEy = Ey;
	WWx = Wx;
	WWy = Wy;
	広域ＭＸ[1] = axx1;
	広域ＭＹ[1] = ayy1;
	広域ＭＸ[2] = axx2;
	広域ＭＹ[2] = ayy2;
	広域ＭＸ[3] = axx3;
	広域ＭＹ[3] = ayy3;
	広域ＭＸ[4] = axx4;
	広域ＭＹ[4] = ayy4;
	広域ＭＸ[5] = axx5;
	広域ＭＹ[5] = ayy5;
	発生ＭＸ[1] = bxx01;
	発生ＭＹ[1] = byy01;
	発生ＭＸ[2] = bxx02;
	発生ＭＹ[2] = byy02;
	発生ＭＸ[3] = bxx03;
	発生ＭＹ[3] = byy03;
	発生ＭＸ[4] = bxx04;
	発生ＭＹ[4] = byy04;
	発生ＭＸ[5] = bxx05;
	発生ＭＹ[5] = byy05;
	発生ＭＸ[6] = bxx06;
	発生ＭＹ[6] = byy06;
	発生ＭＸ[7] = bxx07;
	発生ＭＹ[7] = byy07;
	発生ＭＸ[8] = bxx08;
	発生ＭＹ[8] = byy08;
	発生ＭＸ[9] = bxx09;
	発生ＭＹ[9] = byy09;
	発生ＭＸ[10] = bxx10;
	発生ＭＹ[10] = byy10;
	発生ＭＸ[11] = bxx11;
	発生ＭＹ[11] = byy11;
	発生ＭＸ[12] = bxx12;
	発生ＭＹ[12] = byy12;
	発生ＭＸ[13] = bxx13;
	発生ＭＹ[13] = byy13;
	発生ＭＸ[14] = bxx14;
	発生ＭＹ[14] = byy14;
	発生ＭＸ[15] = bxx15;
	発生ＭＹ[15] = byy15;
	発生ＭＸ[16] = bxx16;
	発生ＭＹ[16] = byy16;
	発生ＭＸ[17] = bxx17;
	発生ＭＹ[17] = byy17;
	発生ＭＸ[18] = bxx18;
	発生ＭＹ[18] = byy18;
	発生ＭＸ[19] = bxx19;
	発生ＭＹ[19] = byy19;
	発生ＭＸ[20] = bxx20;
	発生ＭＹ[20] = byy20;
	発生ＭＸ[21] = bxx21;
	発生ＭＹ[21] = byy21;
	発生ＭＸ[22] = bxx22;
	発生ＭＹ[22] = byy22;
	発生ＭＸ[23] = bxx23;
	発生ＭＹ[23] = byy23;
	発生ＭＸ[24] = bxx24;
	発生ＭＹ[24] = byy24;
	発生ＭＸ[25] = bxx25;
	発生ＭＹ[25] = byy25;
	for (loop = 1; loop < 6; ++loop)
	{
		if (広域ＭＸ[loop] != 0)
		{
			広域ＭＰ[loop] = 1;
		}
	}
	for (loop = 1; loop < 26; ++loop)
	{
		if (発生ＭＸ[loop] != 0)
		{
			発生ＭＰ[loop] = 1;
		}
	}
	int a1 = 0;
	int a2 = 0;
	for (loop = 1; loop < 40; ++loop)
	{
		a1 = RAND(25);
		a2 = RAND(25);
		発生ＭＸ[a1] <=> 発生ＭＸ[a2];
		発生ＭＹ[a1] <=> 発生ＭＹ[a2];
		発生ＭＰ[a1] <=> 発生ＭＰ[a2];
	}
	for (loop = 1; loop < 10; ++loop)
	{
		a1 = RAND(5);
		a2 = RAND(5);
		広域ＭＸ[a1] <=> 広域ＭＸ[a2];
		広域ＭＹ[a1] <=> 広域ＭＹ[a2];
		広域ＭＰ[a1] <=> 広域ＭＰ[a2];
	}
}

void トラップ確率登録(int a1, int a2, int a3, int a4)
{
	if (a1 >= 10)
	{
		a1 = 10;
	}
	if (a2 >= 10)
	{
		a2 = 10;
	}
	if (a3 >= 10)
	{
		a3 = 10;
	}
	if (a4 >= 10)
	{
		a4 = 10;
	}
	◆トラップ発生確率[1] = a1;
	◆トラップ発生確率[2] = a2;
	◆トラップ発生確率[3] = a3;
	◆トラップ発生確率[6] = a4;
}

